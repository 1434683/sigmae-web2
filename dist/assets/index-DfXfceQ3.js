function hp(e,t){for(var n=0;n<t.length;n++){const s=t[n];if(typeof s!="string"&&!Array.isArray(s)){for(const o in s)if(o!=="default"&&!(o in e)){const a=Object.getOwnPropertyDescriptor(s,o);a&&Object.defineProperty(e,o,a.get?a:{enumerable:!0,get:()=>s[o]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))s(o);new MutationObserver(o=>{for(const a of o)if(a.type==="childList")for(const l of a.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&s(l)}).observe(document,{childList:!0,subtree:!0});function n(o){const a={};return o.integrity&&(a.integrity=o.integrity),o.referrerPolicy&&(a.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?a.credentials="include":o.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function s(o){if(o.ep)return;o.ep=!0;const a=n(o);fetch(o.href,a)}})();function fp(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var Tc={exports:{}},io={},_c={exports:{}},J={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Jr=Symbol.for("react.element"),xp=Symbol.for("react.portal"),gp=Symbol.for("react.fragment"),vp=Symbol.for("react.strict_mode"),yp=Symbol.for("react.profiler"),wp=Symbol.for("react.provider"),jp=Symbol.for("react.context"),Np=Symbol.for("react.forward_ref"),Sp=Symbol.for("react.suspense"),Cp=Symbol.for("react.memo"),Ep=Symbol.for("react.lazy"),di=Symbol.iterator;function Ap(e){return e===null||typeof e!="object"?null:(e=di&&e[di]||e["@@iterator"],typeof e=="function"?e:null)}var Mc={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},Fc=Object.assign,$c={};function or(e,t,n){this.props=e,this.context=t,this.refs=$c,this.updater=n||Mc}or.prototype.isReactComponent={};or.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};or.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function zc(){}zc.prototype=or.prototype;function al(e,t,n){this.props=e,this.context=t,this.refs=$c,this.updater=n||Mc}var ll=al.prototype=new zc;ll.constructor=al;Fc(ll,or.prototype);ll.isPureReactComponent=!0;var ui=Array.isArray,Bc=Object.prototype.hasOwnProperty,il={current:null},Gc={key:!0,ref:!0,__self:!0,__source:!0};function Uc(e,t,n){var s,o={},a=null,l=null;if(t!=null)for(s in t.ref!==void 0&&(l=t.ref),t.key!==void 0&&(a=""+t.key),t)Bc.call(t,s)&&!Gc.hasOwnProperty(s)&&(o[s]=t[s]);var i=arguments.length-2;if(i===1)o.children=n;else if(1<i){for(var c=Array(i),d=0;d<i;d++)c[d]=arguments[d+2];o.children=c}if(e&&e.defaultProps)for(s in i=e.defaultProps,i)o[s]===void 0&&(o[s]=i[s]);return{$$typeof:Jr,type:e,key:a,ref:l,props:o,_owner:il.current}}function kp(e,t){return{$$typeof:Jr,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function cl(e){return typeof e=="object"&&e!==null&&e.$$typeof===Jr}function bp(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(n){return t[n]})}var pi=/\/+/g;function Oo(e,t){return typeof e=="object"&&e!==null&&e.key!=null?bp(""+e.key):t.toString(36)}function Cs(e,t,n,s,o){var a=typeof e;(a==="undefined"||a==="boolean")&&(e=null);var l=!1;if(e===null)l=!0;else switch(a){case"string":case"number":l=!0;break;case"object":switch(e.$$typeof){case Jr:case xp:l=!0}}if(l)return l=e,o=o(l),e=s===""?"."+Oo(l,0):s,ui(o)?(n="",e!=null&&(n=e.replace(pi,"$&/")+"/"),Cs(o,t,n,"",function(d){return d})):o!=null&&(cl(o)&&(o=kp(o,n+(!o.key||l&&l.key===o.key?"":(""+o.key).replace(pi,"$&/")+"/")+e)),t.push(o)),1;if(l=0,s=s===""?".":s+":",ui(e))for(var i=0;i<e.length;i++){a=e[i];var c=s+Oo(a,i);l+=Cs(a,t,n,c,o)}else if(c=Ap(e),typeof c=="function")for(e=c.call(e),i=0;!(a=e.next()).done;)a=a.value,c=s+Oo(a,i++),l+=Cs(a,t,n,c,o);else if(a==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return l}function os(e,t,n){if(e==null)return e;var s=[],o=0;return Cs(e,s,"","",function(a){return t.call(n,a,o++)}),s}function Dp(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(n){(e._status===0||e._status===-1)&&(e._status=1,e._result=n)},function(n){(e._status===0||e._status===-1)&&(e._status=2,e._result=n)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var We={current:null},Es={transition:null},Op={ReactCurrentDispatcher:We,ReactCurrentBatchConfig:Es,ReactCurrentOwner:il};function Vc(){throw Error("act(...) is not supported in production builds of React.")}J.Children={map:os,forEach:function(e,t,n){os(e,function(){t.apply(this,arguments)},n)},count:function(e){var t=0;return os(e,function(){t++}),t},toArray:function(e){return os(e,function(t){return t})||[]},only:function(e){if(!cl(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};J.Component=or;J.Fragment=gp;J.Profiler=yp;J.PureComponent=al;J.StrictMode=vp;J.Suspense=Sp;J.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Op;J.act=Vc;J.cloneElement=function(e,t,n){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var s=Fc({},e.props),o=e.key,a=e.ref,l=e._owner;if(t!=null){if(t.ref!==void 0&&(a=t.ref,l=il.current),t.key!==void 0&&(o=""+t.key),e.type&&e.type.defaultProps)var i=e.type.defaultProps;for(c in t)Bc.call(t,c)&&!Gc.hasOwnProperty(c)&&(s[c]=t[c]===void 0&&i!==void 0?i[c]:t[c])}var c=arguments.length-2;if(c===1)s.children=n;else if(1<c){i=Array(c);for(var d=0;d<c;d++)i[d]=arguments[d+2];s.children=i}return{$$typeof:Jr,type:e.type,key:o,ref:a,props:s,_owner:l}};J.createContext=function(e){return e={$$typeof:jp,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:wp,_context:e},e.Consumer=e};J.createElement=Uc;J.createFactory=function(e){var t=Uc.bind(null,e);return t.type=e,t};J.createRef=function(){return{current:null}};J.forwardRef=function(e){return{$$typeof:Np,render:e}};J.isValidElement=cl;J.lazy=function(e){return{$$typeof:Ep,_payload:{_status:-1,_result:e},_init:Dp}};J.memo=function(e,t){return{$$typeof:Cp,type:e,compare:t===void 0?null:t}};J.startTransition=function(e){var t=Es.transition;Es.transition={};try{e()}finally{Es.transition=t}};J.unstable_act=Vc;J.useCallback=function(e,t){return We.current.useCallback(e,t)};J.useContext=function(e){return We.current.useContext(e)};J.useDebugValue=function(){};J.useDeferredValue=function(e){return We.current.useDeferredValue(e)};J.useEffect=function(e,t){return We.current.useEffect(e,t)};J.useId=function(){return We.current.useId()};J.useImperativeHandle=function(e,t,n){return We.current.useImperativeHandle(e,t,n)};J.useInsertionEffect=function(e,t){return We.current.useInsertionEffect(e,t)};J.useLayoutEffect=function(e,t){return We.current.useLayoutEffect(e,t)};J.useMemo=function(e,t){return We.current.useMemo(e,t)};J.useReducer=function(e,t,n){return We.current.useReducer(e,t,n)};J.useRef=function(e){return We.current.useRef(e)};J.useState=function(e){return We.current.useState(e)};J.useSyncExternalStore=function(e,t,n){return We.current.useSyncExternalStore(e,t,n)};J.useTransition=function(){return We.current.useTransition()};J.version="18.3.1";_c.exports=J;var f=_c.exports;const dl=fp(f),Ip=hp({__proto__:null,default:dl},[f]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Rp=f,Pp=Symbol.for("react.element"),Lp=Symbol.for("react.fragment"),Tp=Object.prototype.hasOwnProperty,_p=Rp.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,Mp={key:!0,ref:!0,__self:!0,__source:!0};function Wc(e,t,n){var s,o={},a=null,l=null;n!==void 0&&(a=""+n),t.key!==void 0&&(a=""+t.key),t.ref!==void 0&&(l=t.ref);for(s in t)Tp.call(t,s)&&!Mp.hasOwnProperty(s)&&(o[s]=t[s]);if(e&&e.defaultProps)for(s in t=e.defaultProps,t)o[s]===void 0&&(o[s]=t[s]);return{$$typeof:Pp,type:e,key:a,ref:l,props:o,_owner:_p.current}}io.Fragment=Lp;io.jsx=Wc;io.jsxs=Wc;Tc.exports=io;var r=Tc.exports,la={},Hc={exports:{}},ot={},Qc={exports:{}},Xc={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(N,R){var F=N.length;N.push(R);e:for(;0<F;){var W=F-1>>>1,Q=N[W];if(0<o(Q,R))N[W]=R,N[F]=Q,F=W;else break e}}function n(N){return N.length===0?null:N[0]}function s(N){if(N.length===0)return null;var R=N[0],F=N.pop();if(F!==R){N[0]=F;e:for(var W=0,Q=N.length,q=Q>>>1;W<q;){var X=2*(W+1)-1,me=N[X],ne=X+1,_e=N[ne];if(0>o(me,F))ne<Q&&0>o(_e,me)?(N[W]=_e,N[ne]=F,W=ne):(N[W]=me,N[X]=F,W=X);else if(ne<Q&&0>o(_e,F))N[W]=_e,N[ne]=F,W=ne;else break e}}return R}function o(N,R){var F=N.sortIndex-R.sortIndex;return F!==0?F:N.id-R.id}if(typeof performance=="object"&&typeof performance.now=="function"){var a=performance;e.unstable_now=function(){return a.now()}}else{var l=Date,i=l.now();e.unstable_now=function(){return l.now()-i}}var c=[],d=[],x=1,p=null,u=3,v=!1,j=!1,S=!1,E=typeof setTimeout=="function"?setTimeout:null,m=typeof clearTimeout=="function"?clearTimeout:null,h=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function g(N){for(var R=n(d);R!==null;){if(R.callback===null)s(d);else if(R.startTime<=N)s(d),R.sortIndex=R.expirationTime,t(c,R);else break;R=n(d)}}function C(N){if(S=!1,g(N),!j)if(n(c)!==null)j=!0,$(b);else{var R=n(d);R!==null&&y(C,R.startTime-N)}}function b(N,R){j=!1,S&&(S=!1,m(L),L=-1),v=!0;var F=u;try{for(g(R),p=n(c);p!==null&&(!(p.expirationTime>R)||N&&!G());){var W=p.callback;if(typeof W=="function"){p.callback=null,u=p.priorityLevel;var Q=W(p.expirationTime<=R);R=e.unstable_now(),typeof Q=="function"?p.callback=Q:p===n(c)&&s(c),g(R)}else s(c);p=n(c)}if(p!==null)var q=!0;else{var X=n(d);X!==null&&y(C,X.startTime-R),q=!1}return q}finally{p=null,u=F,v=!1}}var k=!1,I=null,L=-1,A=5,T=-1;function G(){return!(e.unstable_now()-T<A)}function O(){if(I!==null){var N=e.unstable_now();T=N;var R=!0;try{R=I(!0,N)}finally{R?M():(k=!1,I=null)}}else k=!1}var M;if(typeof h=="function")M=function(){h(O)};else if(typeof MessageChannel<"u"){var z=new MessageChannel,w=z.port2;z.port1.onmessage=O,M=function(){w.postMessage(null)}}else M=function(){E(O,0)};function $(N){I=N,k||(k=!0,M())}function y(N,R){L=E(function(){N(e.unstable_now())},R)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(N){N.callback=null},e.unstable_continueExecution=function(){j||v||(j=!0,$(b))},e.unstable_forceFrameRate=function(N){0>N||125<N?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):A=0<N?Math.floor(1e3/N):5},e.unstable_getCurrentPriorityLevel=function(){return u},e.unstable_getFirstCallbackNode=function(){return n(c)},e.unstable_next=function(N){switch(u){case 1:case 2:case 3:var R=3;break;default:R=u}var F=u;u=R;try{return N()}finally{u=F}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(N,R){switch(N){case 1:case 2:case 3:case 4:case 5:break;default:N=3}var F=u;u=N;try{return R()}finally{u=F}},e.unstable_scheduleCallback=function(N,R,F){var W=e.unstable_now();switch(typeof F=="object"&&F!==null?(F=F.delay,F=typeof F=="number"&&0<F?W+F:W):F=W,N){case 1:var Q=-1;break;case 2:Q=250;break;case 5:Q=1073741823;break;case 4:Q=1e4;break;default:Q=5e3}return Q=F+Q,N={id:x++,callback:R,priorityLevel:N,startTime:F,expirationTime:Q,sortIndex:-1},F>W?(N.sortIndex=F,t(d,N),n(c)===null&&N===n(d)&&(S?(m(L),L=-1):S=!0,y(C,F-W))):(N.sortIndex=Q,t(c,N),j||v||(j=!0,$(b))),N},e.unstable_shouldYield=G,e.unstable_wrapCallback=function(N){var R=u;return function(){var F=u;u=R;try{return N.apply(this,arguments)}finally{u=F}}}})(Xc);Qc.exports=Xc;var Fp=Qc.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var $p=f,rt=Fp;function _(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var qc=new Set,Rr={};function kn(e,t){Yn(e,t),Yn(e+"Capture",t)}function Yn(e,t){for(Rr[e]=t,e=0;e<t.length;e++)qc.add(t[e])}var Pt=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),ia=Object.prototype.hasOwnProperty,zp=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,mi={},hi={};function Bp(e){return ia.call(hi,e)?!0:ia.call(mi,e)?!1:zp.test(e)?hi[e]=!0:(mi[e]=!0,!1)}function Gp(e,t,n,s){if(n!==null&&n.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return s?!1:n!==null?!n.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function Up(e,t,n,s){if(t===null||typeof t>"u"||Gp(e,t,n,s))return!0;if(s)return!1;if(n!==null)switch(n.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function He(e,t,n,s,o,a,l){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=s,this.attributeNamespace=o,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=a,this.removeEmptyString=l}var Te={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){Te[e]=new He(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];Te[t]=new He(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){Te[e]=new He(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){Te[e]=new He(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){Te[e]=new He(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){Te[e]=new He(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){Te[e]=new He(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){Te[e]=new He(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){Te[e]=new He(e,5,!1,e.toLowerCase(),null,!1,!1)});var ul=/[\-:]([a-z])/g;function pl(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(ul,pl);Te[t]=new He(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(ul,pl);Te[t]=new He(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(ul,pl);Te[t]=new He(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){Te[e]=new He(e,1,!1,e.toLowerCase(),null,!1,!1)});Te.xlinkHref=new He("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){Te[e]=new He(e,1,!1,e.toLowerCase(),null,!0,!0)});function ml(e,t,n,s){var o=Te.hasOwnProperty(t)?Te[t]:null;(o!==null?o.type!==0:s||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(Up(t,n,o,s)&&(n=null),s||o===null?Bp(t)&&(n===null?e.removeAttribute(t):e.setAttribute(t,""+n)):o.mustUseProperty?e[o.propertyName]=n===null?o.type===3?!1:"":n:(t=o.attributeName,s=o.attributeNamespace,n===null?e.removeAttribute(t):(o=o.type,n=o===3||o===4&&n===!0?"":""+n,s?e.setAttributeNS(s,t,n):e.setAttribute(t,n))))}var Mt=$p.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,as=Symbol.for("react.element"),Rn=Symbol.for("react.portal"),Pn=Symbol.for("react.fragment"),hl=Symbol.for("react.strict_mode"),ca=Symbol.for("react.profiler"),Yc=Symbol.for("react.provider"),Kc=Symbol.for("react.context"),fl=Symbol.for("react.forward_ref"),da=Symbol.for("react.suspense"),ua=Symbol.for("react.suspense_list"),xl=Symbol.for("react.memo"),Vt=Symbol.for("react.lazy"),Jc=Symbol.for("react.offscreen"),fi=Symbol.iterator;function dr(e){return e===null||typeof e!="object"?null:(e=fi&&e[fi]||e["@@iterator"],typeof e=="function"?e:null)}var ve=Object.assign,Io;function vr(e){if(Io===void 0)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);Io=t&&t[1]||""}return`
`+Io+e}var Ro=!1;function Po(e,t){if(!e||Ro)return"";Ro=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(d){var s=d}Reflect.construct(e,[],t)}else{try{t.call()}catch(d){s=d}e.call(t.prototype)}else{try{throw Error()}catch(d){s=d}e()}}catch(d){if(d&&s&&typeof d.stack=="string"){for(var o=d.stack.split(`
`),a=s.stack.split(`
`),l=o.length-1,i=a.length-1;1<=l&&0<=i&&o[l]!==a[i];)i--;for(;1<=l&&0<=i;l--,i--)if(o[l]!==a[i]){if(l!==1||i!==1)do if(l--,i--,0>i||o[l]!==a[i]){var c=`
`+o[l].replace(" at new "," at ");return e.displayName&&c.includes("<anonymous>")&&(c=c.replace("<anonymous>",e.displayName)),c}while(1<=l&&0<=i);break}}}finally{Ro=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?vr(e):""}function Vp(e){switch(e.tag){case 5:return vr(e.type);case 16:return vr("Lazy");case 13:return vr("Suspense");case 19:return vr("SuspenseList");case 0:case 2:case 15:return e=Po(e.type,!1),e;case 11:return e=Po(e.type.render,!1),e;case 1:return e=Po(e.type,!0),e;default:return""}}function pa(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case Pn:return"Fragment";case Rn:return"Portal";case ca:return"Profiler";case hl:return"StrictMode";case da:return"Suspense";case ua:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case Kc:return(e.displayName||"Context")+".Consumer";case Yc:return(e._context.displayName||"Context")+".Provider";case fl:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case xl:return t=e.displayName||null,t!==null?t:pa(e.type)||"Memo";case Vt:t=e._payload,e=e._init;try{return pa(e(t))}catch{}}return null}function Wp(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return pa(t);case 8:return t===hl?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function an(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function Zc(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function Hp(e){var t=Zc(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),s=""+e[t];if(!e.hasOwnProperty(t)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var o=n.get,a=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return o.call(this)},set:function(l){s=""+l,a.call(this,l)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return s},setValue:function(l){s=""+l},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function ls(e){e._valueTracker||(e._valueTracker=Hp(e))}function ed(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),s="";return e&&(s=Zc(e)?e.checked?"true":"false":e.value),e=s,e!==n?(t.setValue(e),!0):!1}function _s(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function ma(e,t){var n=t.checked;return ve({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??e._wrapperState.initialChecked})}function xi(e,t){var n=t.defaultValue==null?"":t.defaultValue,s=t.checked!=null?t.checked:t.defaultChecked;n=an(t.value!=null?t.value:n),e._wrapperState={initialChecked:s,initialValue:n,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function td(e,t){t=t.checked,t!=null&&ml(e,"checked",t,!1)}function ha(e,t){td(e,t);var n=an(t.value),s=t.type;if(n!=null)s==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if(s==="submit"||s==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?fa(e,t.type,n):t.hasOwnProperty("defaultValue")&&fa(e,t.type,an(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function gi(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var s=t.type;if(!(s!=="submit"&&s!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}n=e.name,n!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,n!==""&&(e.name=n)}function fa(e,t,n){(t!=="number"||_s(e.ownerDocument)!==e)&&(n==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var yr=Array.isArray;function Vn(e,t,n,s){if(e=e.options,t){t={};for(var o=0;o<n.length;o++)t["$"+n[o]]=!0;for(n=0;n<e.length;n++)o=t.hasOwnProperty("$"+e[n].value),e[n].selected!==o&&(e[n].selected=o),o&&s&&(e[n].defaultSelected=!0)}else{for(n=""+an(n),t=null,o=0;o<e.length;o++){if(e[o].value===n){e[o].selected=!0,s&&(e[o].defaultSelected=!0);return}t!==null||e[o].disabled||(t=e[o])}t!==null&&(t.selected=!0)}}function xa(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(_(91));return ve({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function vi(e,t){var n=t.value;if(n==null){if(n=t.children,t=t.defaultValue,n!=null){if(t!=null)throw Error(_(92));if(yr(n)){if(1<n.length)throw Error(_(93));n=n[0]}t=n}t==null&&(t=""),n=t}e._wrapperState={initialValue:an(n)}}function nd(e,t){var n=an(t.value),s=an(t.defaultValue);n!=null&&(n=""+n,n!==e.value&&(e.value=n),t.defaultValue==null&&e.defaultValue!==n&&(e.defaultValue=n)),s!=null&&(e.defaultValue=""+s)}function yi(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function rd(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function ga(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?rd(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var is,sd=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,n,s,o){MSApp.execUnsafeLocalFunction(function(){return e(t,n,s,o)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(is=is||document.createElement("div"),is.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=is.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function Pr(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&n.nodeType===3){n.nodeValue=t;return}}e.textContent=t}var Nr={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Qp=["Webkit","ms","Moz","O"];Object.keys(Nr).forEach(function(e){Qp.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),Nr[t]=Nr[e]})});function od(e,t,n){return t==null||typeof t=="boolean"||t===""?"":n||typeof t!="number"||t===0||Nr.hasOwnProperty(e)&&Nr[e]?(""+t).trim():t+"px"}function ad(e,t){e=e.style;for(var n in t)if(t.hasOwnProperty(n)){var s=n.indexOf("--")===0,o=od(n,t[n],s);n==="float"&&(n="cssFloat"),s?e.setProperty(n,o):e[n]=o}}var Xp=ve({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function va(e,t){if(t){if(Xp[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(_(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(_(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(_(61))}if(t.style!=null&&typeof t.style!="object")throw Error(_(62))}}function ya(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var wa=null;function gl(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var ja=null,Wn=null,Hn=null;function wi(e){if(e=ts(e)){if(typeof ja!="function")throw Error(_(280));var t=e.stateNode;t&&(t=ho(t),ja(e.stateNode,e.type,t))}}function ld(e){Wn?Hn?Hn.push(e):Hn=[e]:Wn=e}function id(){if(Wn){var e=Wn,t=Hn;if(Hn=Wn=null,wi(e),t)for(e=0;e<t.length;e++)wi(t[e])}}function cd(e,t){return e(t)}function dd(){}var Lo=!1;function ud(e,t,n){if(Lo)return e(t,n);Lo=!0;try{return cd(e,t,n)}finally{Lo=!1,(Wn!==null||Hn!==null)&&(dd(),id())}}function Lr(e,t){var n=e.stateNode;if(n===null)return null;var s=ho(n);if(s===null)return null;n=s[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(s=!s.disabled)||(e=e.type,s=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!s;break e;default:e=!1}if(e)return null;if(n&&typeof n!="function")throw Error(_(231,t,typeof n));return n}var Na=!1;if(Pt)try{var ur={};Object.defineProperty(ur,"passive",{get:function(){Na=!0}}),window.addEventListener("test",ur,ur),window.removeEventListener("test",ur,ur)}catch{Na=!1}function qp(e,t,n,s,o,a,l,i,c){var d=Array.prototype.slice.call(arguments,3);try{t.apply(n,d)}catch(x){this.onError(x)}}var Sr=!1,Ms=null,Fs=!1,Sa=null,Yp={onError:function(e){Sr=!0,Ms=e}};function Kp(e,t,n,s,o,a,l,i,c){Sr=!1,Ms=null,qp.apply(Yp,arguments)}function Jp(e,t,n,s,o,a,l,i,c){if(Kp.apply(this,arguments),Sr){if(Sr){var d=Ms;Sr=!1,Ms=null}else throw Error(_(198));Fs||(Fs=!0,Sa=d)}}function bn(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(n=t.return),e=t.return;while(e)}return t.tag===3?n:null}function pd(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function ji(e){if(bn(e)!==e)throw Error(_(188))}function Zp(e){var t=e.alternate;if(!t){if(t=bn(e),t===null)throw Error(_(188));return t!==e?null:e}for(var n=e,s=t;;){var o=n.return;if(o===null)break;var a=o.alternate;if(a===null){if(s=o.return,s!==null){n=s;continue}break}if(o.child===a.child){for(a=o.child;a;){if(a===n)return ji(o),e;if(a===s)return ji(o),t;a=a.sibling}throw Error(_(188))}if(n.return!==s.return)n=o,s=a;else{for(var l=!1,i=o.child;i;){if(i===n){l=!0,n=o,s=a;break}if(i===s){l=!0,s=o,n=a;break}i=i.sibling}if(!l){for(i=a.child;i;){if(i===n){l=!0,n=a,s=o;break}if(i===s){l=!0,s=a,n=o;break}i=i.sibling}if(!l)throw Error(_(189))}}if(n.alternate!==s)throw Error(_(190))}if(n.tag!==3)throw Error(_(188));return n.stateNode.current===n?e:t}function md(e){return e=Zp(e),e!==null?hd(e):null}function hd(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=hd(e);if(t!==null)return t;e=e.sibling}return null}var fd=rt.unstable_scheduleCallback,Ni=rt.unstable_cancelCallback,em=rt.unstable_shouldYield,tm=rt.unstable_requestPaint,je=rt.unstable_now,nm=rt.unstable_getCurrentPriorityLevel,vl=rt.unstable_ImmediatePriority,xd=rt.unstable_UserBlockingPriority,$s=rt.unstable_NormalPriority,rm=rt.unstable_LowPriority,gd=rt.unstable_IdlePriority,co=null,Et=null;function sm(e){if(Et&&typeof Et.onCommitFiberRoot=="function")try{Et.onCommitFiberRoot(co,e,void 0,(e.current.flags&128)===128)}catch{}}var gt=Math.clz32?Math.clz32:lm,om=Math.log,am=Math.LN2;function lm(e){return e>>>=0,e===0?32:31-(om(e)/am|0)|0}var cs=64,ds=4194304;function wr(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function zs(e,t){var n=e.pendingLanes;if(n===0)return 0;var s=0,o=e.suspendedLanes,a=e.pingedLanes,l=n&268435455;if(l!==0){var i=l&~o;i!==0?s=wr(i):(a&=l,a!==0&&(s=wr(a)))}else l=n&~o,l!==0?s=wr(l):a!==0&&(s=wr(a));if(s===0)return 0;if(t!==0&&t!==s&&!(t&o)&&(o=s&-s,a=t&-t,o>=a||o===16&&(a&4194240)!==0))return t;if(s&4&&(s|=n&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=s;0<t;)n=31-gt(t),o=1<<n,s|=e[n],t&=~o;return s}function im(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function cm(e,t){for(var n=e.suspendedLanes,s=e.pingedLanes,o=e.expirationTimes,a=e.pendingLanes;0<a;){var l=31-gt(a),i=1<<l,c=o[l];c===-1?(!(i&n)||i&s)&&(o[l]=im(i,t)):c<=t&&(e.expiredLanes|=i),a&=~i}}function Ca(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function vd(){var e=cs;return cs<<=1,!(cs&4194240)&&(cs=64),e}function To(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function Zr(e,t,n){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-gt(t),e[t]=n}function dm(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var s=e.eventTimes;for(e=e.expirationTimes;0<n;){var o=31-gt(n),a=1<<o;t[o]=0,s[o]=-1,e[o]=-1,n&=~a}}function yl(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var s=31-gt(n),o=1<<s;o&t|e[s]&t&&(e[s]|=t),n&=~o}}var re=0;function yd(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var wd,wl,jd,Nd,Sd,Ea=!1,us=[],Kt=null,Jt=null,Zt=null,Tr=new Map,_r=new Map,Ht=[],um="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Si(e,t){switch(e){case"focusin":case"focusout":Kt=null;break;case"dragenter":case"dragleave":Jt=null;break;case"mouseover":case"mouseout":Zt=null;break;case"pointerover":case"pointerout":Tr.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":_r.delete(t.pointerId)}}function pr(e,t,n,s,o,a){return e===null||e.nativeEvent!==a?(e={blockedOn:t,domEventName:n,eventSystemFlags:s,nativeEvent:a,targetContainers:[o]},t!==null&&(t=ts(t),t!==null&&wl(t)),e):(e.eventSystemFlags|=s,t=e.targetContainers,o!==null&&t.indexOf(o)===-1&&t.push(o),e)}function pm(e,t,n,s,o){switch(t){case"focusin":return Kt=pr(Kt,e,t,n,s,o),!0;case"dragenter":return Jt=pr(Jt,e,t,n,s,o),!0;case"mouseover":return Zt=pr(Zt,e,t,n,s,o),!0;case"pointerover":var a=o.pointerId;return Tr.set(a,pr(Tr.get(a)||null,e,t,n,s,o)),!0;case"gotpointercapture":return a=o.pointerId,_r.set(a,pr(_r.get(a)||null,e,t,n,s,o)),!0}return!1}function Cd(e){var t=xn(e.target);if(t!==null){var n=bn(t);if(n!==null){if(t=n.tag,t===13){if(t=pd(n),t!==null){e.blockedOn=t,Sd(e.priority,function(){jd(n)});return}}else if(t===3&&n.stateNode.current.memoizedState.isDehydrated){e.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}e.blockedOn=null}function As(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var n=Aa(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(n===null){n=e.nativeEvent;var s=new n.constructor(n.type,n);wa=s,n.target.dispatchEvent(s),wa=null}else return t=ts(n),t!==null&&wl(t),e.blockedOn=n,!1;t.shift()}return!0}function Ci(e,t,n){As(e)&&n.delete(t)}function mm(){Ea=!1,Kt!==null&&As(Kt)&&(Kt=null),Jt!==null&&As(Jt)&&(Jt=null),Zt!==null&&As(Zt)&&(Zt=null),Tr.forEach(Ci),_r.forEach(Ci)}function mr(e,t){e.blockedOn===t&&(e.blockedOn=null,Ea||(Ea=!0,rt.unstable_scheduleCallback(rt.unstable_NormalPriority,mm)))}function Mr(e){function t(o){return mr(o,e)}if(0<us.length){mr(us[0],e);for(var n=1;n<us.length;n++){var s=us[n];s.blockedOn===e&&(s.blockedOn=null)}}for(Kt!==null&&mr(Kt,e),Jt!==null&&mr(Jt,e),Zt!==null&&mr(Zt,e),Tr.forEach(t),_r.forEach(t),n=0;n<Ht.length;n++)s=Ht[n],s.blockedOn===e&&(s.blockedOn=null);for(;0<Ht.length&&(n=Ht[0],n.blockedOn===null);)Cd(n),n.blockedOn===null&&Ht.shift()}var Qn=Mt.ReactCurrentBatchConfig,Bs=!0;function hm(e,t,n,s){var o=re,a=Qn.transition;Qn.transition=null;try{re=1,jl(e,t,n,s)}finally{re=o,Qn.transition=a}}function fm(e,t,n,s){var o=re,a=Qn.transition;Qn.transition=null;try{re=4,jl(e,t,n,s)}finally{re=o,Qn.transition=a}}function jl(e,t,n,s){if(Bs){var o=Aa(e,t,n,s);if(o===null)Wo(e,t,s,Gs,n),Si(e,s);else if(pm(o,e,t,n,s))s.stopPropagation();else if(Si(e,s),t&4&&-1<um.indexOf(e)){for(;o!==null;){var a=ts(o);if(a!==null&&wd(a),a=Aa(e,t,n,s),a===null&&Wo(e,t,s,Gs,n),a===o)break;o=a}o!==null&&s.stopPropagation()}else Wo(e,t,s,null,n)}}var Gs=null;function Aa(e,t,n,s){if(Gs=null,e=gl(s),e=xn(e),e!==null)if(t=bn(e),t===null)e=null;else if(n=t.tag,n===13){if(e=pd(t),e!==null)return e;e=null}else if(n===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return Gs=e,null}function Ed(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(nm()){case vl:return 1;case xd:return 4;case $s:case rm:return 16;case gd:return 536870912;default:return 16}default:return 16}}var Xt=null,Nl=null,ks=null;function Ad(){if(ks)return ks;var e,t=Nl,n=t.length,s,o="value"in Xt?Xt.value:Xt.textContent,a=o.length;for(e=0;e<n&&t[e]===o[e];e++);var l=n-e;for(s=1;s<=l&&t[n-s]===o[a-s];s++);return ks=o.slice(e,1<s?1-s:void 0)}function bs(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function ps(){return!0}function Ei(){return!1}function at(e){function t(n,s,o,a,l){this._reactName=n,this._targetInst=o,this.type=s,this.nativeEvent=a,this.target=l,this.currentTarget=null;for(var i in e)e.hasOwnProperty(i)&&(n=e[i],this[i]=n?n(a):a[i]);return this.isDefaultPrevented=(a.defaultPrevented!=null?a.defaultPrevented:a.returnValue===!1)?ps:Ei,this.isPropagationStopped=Ei,this}return ve(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=ps)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=ps)},persist:function(){},isPersistent:ps}),t}var ar={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Sl=at(ar),es=ve({},ar,{view:0,detail:0}),xm=at(es),_o,Mo,hr,uo=ve({},es,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Cl,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==hr&&(hr&&e.type==="mousemove"?(_o=e.screenX-hr.screenX,Mo=e.screenY-hr.screenY):Mo=_o=0,hr=e),_o)},movementY:function(e){return"movementY"in e?e.movementY:Mo}}),Ai=at(uo),gm=ve({},uo,{dataTransfer:0}),vm=at(gm),ym=ve({},es,{relatedTarget:0}),Fo=at(ym),wm=ve({},ar,{animationName:0,elapsedTime:0,pseudoElement:0}),jm=at(wm),Nm=ve({},ar,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),Sm=at(Nm),Cm=ve({},ar,{data:0}),ki=at(Cm),Em={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Am={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},km={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function bm(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=km[e])?!!t[e]:!1}function Cl(){return bm}var Dm=ve({},es,{key:function(e){if(e.key){var t=Em[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=bs(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?Am[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Cl,charCode:function(e){return e.type==="keypress"?bs(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?bs(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),Om=at(Dm),Im=ve({},uo,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),bi=at(Im),Rm=ve({},es,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Cl}),Pm=at(Rm),Lm=ve({},ar,{propertyName:0,elapsedTime:0,pseudoElement:0}),Tm=at(Lm),_m=ve({},uo,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Mm=at(_m),Fm=[9,13,27,32],El=Pt&&"CompositionEvent"in window,Cr=null;Pt&&"documentMode"in document&&(Cr=document.documentMode);var $m=Pt&&"TextEvent"in window&&!Cr,kd=Pt&&(!El||Cr&&8<Cr&&11>=Cr),Di=" ",Oi=!1;function bd(e,t){switch(e){case"keyup":return Fm.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Dd(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Ln=!1;function zm(e,t){switch(e){case"compositionend":return Dd(t);case"keypress":return t.which!==32?null:(Oi=!0,Di);case"textInput":return e=t.data,e===Di&&Oi?null:e;default:return null}}function Bm(e,t){if(Ln)return e==="compositionend"||!El&&bd(e,t)?(e=Ad(),ks=Nl=Xt=null,Ln=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return kd&&t.locale!=="ko"?null:t.data;default:return null}}var Gm={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Ii(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!Gm[e.type]:t==="textarea"}function Od(e,t,n,s){ld(s),t=Us(t,"onChange"),0<t.length&&(n=new Sl("onChange","change",null,n,s),e.push({event:n,listeners:t}))}var Er=null,Fr=null;function Um(e){Bd(e,0)}function po(e){var t=Mn(e);if(ed(t))return e}function Vm(e,t){if(e==="change")return t}var Id=!1;if(Pt){var $o;if(Pt){var zo="oninput"in document;if(!zo){var Ri=document.createElement("div");Ri.setAttribute("oninput","return;"),zo=typeof Ri.oninput=="function"}$o=zo}else $o=!1;Id=$o&&(!document.documentMode||9<document.documentMode)}function Pi(){Er&&(Er.detachEvent("onpropertychange",Rd),Fr=Er=null)}function Rd(e){if(e.propertyName==="value"&&po(Fr)){var t=[];Od(t,Fr,e,gl(e)),ud(Um,t)}}function Wm(e,t,n){e==="focusin"?(Pi(),Er=t,Fr=n,Er.attachEvent("onpropertychange",Rd)):e==="focusout"&&Pi()}function Hm(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return po(Fr)}function Qm(e,t){if(e==="click")return po(t)}function Xm(e,t){if(e==="input"||e==="change")return po(t)}function qm(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var yt=typeof Object.is=="function"?Object.is:qm;function $r(e,t){if(yt(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var n=Object.keys(e),s=Object.keys(t);if(n.length!==s.length)return!1;for(s=0;s<n.length;s++){var o=n[s];if(!ia.call(t,o)||!yt(e[o],t[o]))return!1}return!0}function Li(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Ti(e,t){var n=Li(e);e=0;for(var s;n;){if(n.nodeType===3){if(s=e+n.textContent.length,e<=t&&s>=t)return{node:n,offset:t-e};e=s}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=Li(n)}}function Pd(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?Pd(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function Ld(){for(var e=window,t=_s();t instanceof e.HTMLIFrameElement;){try{var n=typeof t.contentWindow.location.href=="string"}catch{n=!1}if(n)e=t.contentWindow;else break;t=_s(e.document)}return t}function Al(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function Ym(e){var t=Ld(),n=e.focusedElem,s=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&Pd(n.ownerDocument.documentElement,n)){if(s!==null&&Al(n)){if(t=s.start,e=s.end,e===void 0&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if(e=(t=n.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var o=n.textContent.length,a=Math.min(s.start,o);s=s.end===void 0?a:Math.min(s.end,o),!e.extend&&a>s&&(o=s,s=a,a=o),o=Ti(n,a);var l=Ti(n,s);o&&l&&(e.rangeCount!==1||e.anchorNode!==o.node||e.anchorOffset!==o.offset||e.focusNode!==l.node||e.focusOffset!==l.offset)&&(t=t.createRange(),t.setStart(o.node,o.offset),e.removeAllRanges(),a>s?(e.addRange(t),e.extend(l.node,l.offset)):(t.setEnd(l.node,l.offset),e.addRange(t)))}}for(t=[],e=n;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<t.length;n++)e=t[n],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var Km=Pt&&"documentMode"in document&&11>=document.documentMode,Tn=null,ka=null,Ar=null,ba=!1;function _i(e,t,n){var s=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;ba||Tn==null||Tn!==_s(s)||(s=Tn,"selectionStart"in s&&Al(s)?s={start:s.selectionStart,end:s.selectionEnd}:(s=(s.ownerDocument&&s.ownerDocument.defaultView||window).getSelection(),s={anchorNode:s.anchorNode,anchorOffset:s.anchorOffset,focusNode:s.focusNode,focusOffset:s.focusOffset}),Ar&&$r(Ar,s)||(Ar=s,s=Us(ka,"onSelect"),0<s.length&&(t=new Sl("onSelect","select",null,t,n),e.push({event:t,listeners:s}),t.target=Tn)))}function ms(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var _n={animationend:ms("Animation","AnimationEnd"),animationiteration:ms("Animation","AnimationIteration"),animationstart:ms("Animation","AnimationStart"),transitionend:ms("Transition","TransitionEnd")},Bo={},Td={};Pt&&(Td=document.createElement("div").style,"AnimationEvent"in window||(delete _n.animationend.animation,delete _n.animationiteration.animation,delete _n.animationstart.animation),"TransitionEvent"in window||delete _n.transitionend.transition);function mo(e){if(Bo[e])return Bo[e];if(!_n[e])return e;var t=_n[e],n;for(n in t)if(t.hasOwnProperty(n)&&n in Td)return Bo[e]=t[n];return e}var _d=mo("animationend"),Md=mo("animationiteration"),Fd=mo("animationstart"),$d=mo("transitionend"),zd=new Map,Mi="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function cn(e,t){zd.set(e,t),kn(t,[e])}for(var Go=0;Go<Mi.length;Go++){var Uo=Mi[Go],Jm=Uo.toLowerCase(),Zm=Uo[0].toUpperCase()+Uo.slice(1);cn(Jm,"on"+Zm)}cn(_d,"onAnimationEnd");cn(Md,"onAnimationIteration");cn(Fd,"onAnimationStart");cn("dblclick","onDoubleClick");cn("focusin","onFocus");cn("focusout","onBlur");cn($d,"onTransitionEnd");Yn("onMouseEnter",["mouseout","mouseover"]);Yn("onMouseLeave",["mouseout","mouseover"]);Yn("onPointerEnter",["pointerout","pointerover"]);Yn("onPointerLeave",["pointerout","pointerover"]);kn("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));kn("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));kn("onBeforeInput",["compositionend","keypress","textInput","paste"]);kn("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));kn("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));kn("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var jr="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),eh=new Set("cancel close invalid load scroll toggle".split(" ").concat(jr));function Fi(e,t,n){var s=e.type||"unknown-event";e.currentTarget=n,Jp(s,t,void 0,e),e.currentTarget=null}function Bd(e,t){t=(t&4)!==0;for(var n=0;n<e.length;n++){var s=e[n],o=s.event;s=s.listeners;e:{var a=void 0;if(t)for(var l=s.length-1;0<=l;l--){var i=s[l],c=i.instance,d=i.currentTarget;if(i=i.listener,c!==a&&o.isPropagationStopped())break e;Fi(o,i,d),a=c}else for(l=0;l<s.length;l++){if(i=s[l],c=i.instance,d=i.currentTarget,i=i.listener,c!==a&&o.isPropagationStopped())break e;Fi(o,i,d),a=c}}}if(Fs)throw e=Sa,Fs=!1,Sa=null,e}function ce(e,t){var n=t[Pa];n===void 0&&(n=t[Pa]=new Set);var s=e+"__bubble";n.has(s)||(Gd(t,e,2,!1),n.add(s))}function Vo(e,t,n){var s=0;t&&(s|=4),Gd(n,e,s,t)}var hs="_reactListening"+Math.random().toString(36).slice(2);function zr(e){if(!e[hs]){e[hs]=!0,qc.forEach(function(n){n!=="selectionchange"&&(eh.has(n)||Vo(n,!1,e),Vo(n,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[hs]||(t[hs]=!0,Vo("selectionchange",!1,t))}}function Gd(e,t,n,s){switch(Ed(t)){case 1:var o=hm;break;case 4:o=fm;break;default:o=jl}n=o.bind(null,t,n,e),o=void 0,!Na||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(o=!0),s?o!==void 0?e.addEventListener(t,n,{capture:!0,passive:o}):e.addEventListener(t,n,!0):o!==void 0?e.addEventListener(t,n,{passive:o}):e.addEventListener(t,n,!1)}function Wo(e,t,n,s,o){var a=s;if(!(t&1)&&!(t&2)&&s!==null)e:for(;;){if(s===null)return;var l=s.tag;if(l===3||l===4){var i=s.stateNode.containerInfo;if(i===o||i.nodeType===8&&i.parentNode===o)break;if(l===4)for(l=s.return;l!==null;){var c=l.tag;if((c===3||c===4)&&(c=l.stateNode.containerInfo,c===o||c.nodeType===8&&c.parentNode===o))return;l=l.return}for(;i!==null;){if(l=xn(i),l===null)return;if(c=l.tag,c===5||c===6){s=a=l;continue e}i=i.parentNode}}s=s.return}ud(function(){var d=a,x=gl(n),p=[];e:{var u=zd.get(e);if(u!==void 0){var v=Sl,j=e;switch(e){case"keypress":if(bs(n)===0)break e;case"keydown":case"keyup":v=Om;break;case"focusin":j="focus",v=Fo;break;case"focusout":j="blur",v=Fo;break;case"beforeblur":case"afterblur":v=Fo;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":v=Ai;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":v=vm;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":v=Pm;break;case _d:case Md:case Fd:v=jm;break;case $d:v=Tm;break;case"scroll":v=xm;break;case"wheel":v=Mm;break;case"copy":case"cut":case"paste":v=Sm;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":v=bi}var S=(t&4)!==0,E=!S&&e==="scroll",m=S?u!==null?u+"Capture":null:u;S=[];for(var h=d,g;h!==null;){g=h;var C=g.stateNode;if(g.tag===5&&C!==null&&(g=C,m!==null&&(C=Lr(h,m),C!=null&&S.push(Br(h,C,g)))),E)break;h=h.return}0<S.length&&(u=new v(u,j,null,n,x),p.push({event:u,listeners:S}))}}if(!(t&7)){e:{if(u=e==="mouseover"||e==="pointerover",v=e==="mouseout"||e==="pointerout",u&&n!==wa&&(j=n.relatedTarget||n.fromElement)&&(xn(j)||j[Lt]))break e;if((v||u)&&(u=x.window===x?x:(u=x.ownerDocument)?u.defaultView||u.parentWindow:window,v?(j=n.relatedTarget||n.toElement,v=d,j=j?xn(j):null,j!==null&&(E=bn(j),j!==E||j.tag!==5&&j.tag!==6)&&(j=null)):(v=null,j=d),v!==j)){if(S=Ai,C="onMouseLeave",m="onMouseEnter",h="mouse",(e==="pointerout"||e==="pointerover")&&(S=bi,C="onPointerLeave",m="onPointerEnter",h="pointer"),E=v==null?u:Mn(v),g=j==null?u:Mn(j),u=new S(C,h+"leave",v,n,x),u.target=E,u.relatedTarget=g,C=null,xn(x)===d&&(S=new S(m,h+"enter",j,n,x),S.target=g,S.relatedTarget=E,C=S),E=C,v&&j)t:{for(S=v,m=j,h=0,g=S;g;g=In(g))h++;for(g=0,C=m;C;C=In(C))g++;for(;0<h-g;)S=In(S),h--;for(;0<g-h;)m=In(m),g--;for(;h--;){if(S===m||m!==null&&S===m.alternate)break t;S=In(S),m=In(m)}S=null}else S=null;v!==null&&$i(p,u,v,S,!1),j!==null&&E!==null&&$i(p,E,j,S,!0)}}e:{if(u=d?Mn(d):window,v=u.nodeName&&u.nodeName.toLowerCase(),v==="select"||v==="input"&&u.type==="file")var b=Vm;else if(Ii(u))if(Id)b=Xm;else{b=Hm;var k=Wm}else(v=u.nodeName)&&v.toLowerCase()==="input"&&(u.type==="checkbox"||u.type==="radio")&&(b=Qm);if(b&&(b=b(e,d))){Od(p,b,n,x);break e}k&&k(e,u,d),e==="focusout"&&(k=u._wrapperState)&&k.controlled&&u.type==="number"&&fa(u,"number",u.value)}switch(k=d?Mn(d):window,e){case"focusin":(Ii(k)||k.contentEditable==="true")&&(Tn=k,ka=d,Ar=null);break;case"focusout":Ar=ka=Tn=null;break;case"mousedown":ba=!0;break;case"contextmenu":case"mouseup":case"dragend":ba=!1,_i(p,n,x);break;case"selectionchange":if(Km)break;case"keydown":case"keyup":_i(p,n,x)}var I;if(El)e:{switch(e){case"compositionstart":var L="onCompositionStart";break e;case"compositionend":L="onCompositionEnd";break e;case"compositionupdate":L="onCompositionUpdate";break e}L=void 0}else Ln?bd(e,n)&&(L="onCompositionEnd"):e==="keydown"&&n.keyCode===229&&(L="onCompositionStart");L&&(kd&&n.locale!=="ko"&&(Ln||L!=="onCompositionStart"?L==="onCompositionEnd"&&Ln&&(I=Ad()):(Xt=x,Nl="value"in Xt?Xt.value:Xt.textContent,Ln=!0)),k=Us(d,L),0<k.length&&(L=new ki(L,e,null,n,x),p.push({event:L,listeners:k}),I?L.data=I:(I=Dd(n),I!==null&&(L.data=I)))),(I=$m?zm(e,n):Bm(e,n))&&(d=Us(d,"onBeforeInput"),0<d.length&&(x=new ki("onBeforeInput","beforeinput",null,n,x),p.push({event:x,listeners:d}),x.data=I))}Bd(p,t)})}function Br(e,t,n){return{instance:e,listener:t,currentTarget:n}}function Us(e,t){for(var n=t+"Capture",s=[];e!==null;){var o=e,a=o.stateNode;o.tag===5&&a!==null&&(o=a,a=Lr(e,n),a!=null&&s.unshift(Br(e,a,o)),a=Lr(e,t),a!=null&&s.push(Br(e,a,o))),e=e.return}return s}function In(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function $i(e,t,n,s,o){for(var a=t._reactName,l=[];n!==null&&n!==s;){var i=n,c=i.alternate,d=i.stateNode;if(c!==null&&c===s)break;i.tag===5&&d!==null&&(i=d,o?(c=Lr(n,a),c!=null&&l.unshift(Br(n,c,i))):o||(c=Lr(n,a),c!=null&&l.push(Br(n,c,i)))),n=n.return}l.length!==0&&e.push({event:t,listeners:l})}var th=/\r\n?/g,nh=/\u0000|\uFFFD/g;function zi(e){return(typeof e=="string"?e:""+e).replace(th,`
`).replace(nh,"")}function fs(e,t,n){if(t=zi(t),zi(e)!==t&&n)throw Error(_(425))}function Vs(){}var Da=null,Oa=null;function Ia(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var Ra=typeof setTimeout=="function"?setTimeout:void 0,rh=typeof clearTimeout=="function"?clearTimeout:void 0,Bi=typeof Promise=="function"?Promise:void 0,sh=typeof queueMicrotask=="function"?queueMicrotask:typeof Bi<"u"?function(e){return Bi.resolve(null).then(e).catch(oh)}:Ra;function oh(e){setTimeout(function(){throw e})}function Ho(e,t){var n=t,s=0;do{var o=n.nextSibling;if(e.removeChild(n),o&&o.nodeType===8)if(n=o.data,n==="/$"){if(s===0){e.removeChild(o),Mr(t);return}s--}else n!=="$"&&n!=="$?"&&n!=="$!"||s++;n=o}while(n);Mr(t)}function en(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function Gi(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="$"||n==="$!"||n==="$?"){if(t===0)return e;t--}else n==="/$"&&t++}e=e.previousSibling}return null}var lr=Math.random().toString(36).slice(2),Ct="__reactFiber$"+lr,Gr="__reactProps$"+lr,Lt="__reactContainer$"+lr,Pa="__reactEvents$"+lr,ah="__reactListeners$"+lr,lh="__reactHandles$"+lr;function xn(e){var t=e[Ct];if(t)return t;for(var n=e.parentNode;n;){if(t=n[Lt]||n[Ct]){if(n=t.alternate,t.child!==null||n!==null&&n.child!==null)for(e=Gi(e);e!==null;){if(n=e[Ct])return n;e=Gi(e)}return t}e=n,n=e.parentNode}return null}function ts(e){return e=e[Ct]||e[Lt],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function Mn(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(_(33))}function ho(e){return e[Gr]||null}var La=[],Fn=-1;function dn(e){return{current:e}}function de(e){0>Fn||(e.current=La[Fn],La[Fn]=null,Fn--)}function ie(e,t){Fn++,La[Fn]=e.current,e.current=t}var ln={},Ge=dn(ln),qe=dn(!1),Nn=ln;function Kn(e,t){var n=e.type.contextTypes;if(!n)return ln;var s=e.stateNode;if(s&&s.__reactInternalMemoizedUnmaskedChildContext===t)return s.__reactInternalMemoizedMaskedChildContext;var o={},a;for(a in n)o[a]=t[a];return s&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=o),o}function Ye(e){return e=e.childContextTypes,e!=null}function Ws(){de(qe),de(Ge)}function Ui(e,t,n){if(Ge.current!==ln)throw Error(_(168));ie(Ge,t),ie(qe,n)}function Ud(e,t,n){var s=e.stateNode;if(t=t.childContextTypes,typeof s.getChildContext!="function")return n;s=s.getChildContext();for(var o in s)if(!(o in t))throw Error(_(108,Wp(e)||"Unknown",o));return ve({},n,s)}function Hs(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||ln,Nn=Ge.current,ie(Ge,e),ie(qe,qe.current),!0}function Vi(e,t,n){var s=e.stateNode;if(!s)throw Error(_(169));n?(e=Ud(e,t,Nn),s.__reactInternalMemoizedMergedChildContext=e,de(qe),de(Ge),ie(Ge,e)):de(qe),ie(qe,n)}var Dt=null,fo=!1,Qo=!1;function Vd(e){Dt===null?Dt=[e]:Dt.push(e)}function ih(e){fo=!0,Vd(e)}function un(){if(!Qo&&Dt!==null){Qo=!0;var e=0,t=re;try{var n=Dt;for(re=1;e<n.length;e++){var s=n[e];do s=s(!0);while(s!==null)}Dt=null,fo=!1}catch(o){throw Dt!==null&&(Dt=Dt.slice(e+1)),fd(vl,un),o}finally{re=t,Qo=!1}}return null}var $n=[],zn=0,Qs=null,Xs=0,lt=[],it=0,Sn=null,Ot=1,It="";function hn(e,t){$n[zn++]=Xs,$n[zn++]=Qs,Qs=e,Xs=t}function Wd(e,t,n){lt[it++]=Ot,lt[it++]=It,lt[it++]=Sn,Sn=e;var s=Ot;e=It;var o=32-gt(s)-1;s&=~(1<<o),n+=1;var a=32-gt(t)+o;if(30<a){var l=o-o%5;a=(s&(1<<l)-1).toString(32),s>>=l,o-=l,Ot=1<<32-gt(t)+o|n<<o|s,It=a+e}else Ot=1<<a|n<<o|s,It=e}function kl(e){e.return!==null&&(hn(e,1),Wd(e,1,0))}function bl(e){for(;e===Qs;)Qs=$n[--zn],$n[zn]=null,Xs=$n[--zn],$n[zn]=null;for(;e===Sn;)Sn=lt[--it],lt[it]=null,It=lt[--it],lt[it]=null,Ot=lt[--it],lt[it]=null}var nt=null,tt=null,ue=!1,xt=null;function Hd(e,t){var n=ct(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,t=e.deletions,t===null?(e.deletions=[n],e.flags|=16):t.push(n)}function Wi(e,t){switch(e.tag){case 5:var n=e.type;return t=t.nodeType!==1||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,nt=e,tt=en(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,nt=e,tt=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(n=Sn!==null?{id:Ot,overflow:It}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},n=ct(18,null,null,0),n.stateNode=t,n.return=e,e.child=n,nt=e,tt=null,!0):!1;default:return!1}}function Ta(e){return(e.mode&1)!==0&&(e.flags&128)===0}function _a(e){if(ue){var t=tt;if(t){var n=t;if(!Wi(e,t)){if(Ta(e))throw Error(_(418));t=en(n.nextSibling);var s=nt;t&&Wi(e,t)?Hd(s,n):(e.flags=e.flags&-4097|2,ue=!1,nt=e)}}else{if(Ta(e))throw Error(_(418));e.flags=e.flags&-4097|2,ue=!1,nt=e}}}function Hi(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;nt=e}function xs(e){if(e!==nt)return!1;if(!ue)return Hi(e),ue=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!Ia(e.type,e.memoizedProps)),t&&(t=tt)){if(Ta(e))throw Qd(),Error(_(418));for(;t;)Hd(e,t),t=en(t.nextSibling)}if(Hi(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(_(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="/$"){if(t===0){tt=en(e.nextSibling);break e}t--}else n!=="$"&&n!=="$!"&&n!=="$?"||t++}e=e.nextSibling}tt=null}}else tt=nt?en(e.stateNode.nextSibling):null;return!0}function Qd(){for(var e=tt;e;)e=en(e.nextSibling)}function Jn(){tt=nt=null,ue=!1}function Dl(e){xt===null?xt=[e]:xt.push(e)}var ch=Mt.ReactCurrentBatchConfig;function fr(e,t,n){if(e=n.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(_(309));var s=n.stateNode}if(!s)throw Error(_(147,e));var o=s,a=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===a?t.ref:(t=function(l){var i=o.refs;l===null?delete i[a]:i[a]=l},t._stringRef=a,t)}if(typeof e!="string")throw Error(_(284));if(!n._owner)throw Error(_(290,e))}return e}function gs(e,t){throw e=Object.prototype.toString.call(t),Error(_(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function Qi(e){var t=e._init;return t(e._payload)}function Xd(e){function t(m,h){if(e){var g=m.deletions;g===null?(m.deletions=[h],m.flags|=16):g.push(h)}}function n(m,h){if(!e)return null;for(;h!==null;)t(m,h),h=h.sibling;return null}function s(m,h){for(m=new Map;h!==null;)h.key!==null?m.set(h.key,h):m.set(h.index,h),h=h.sibling;return m}function o(m,h){return m=sn(m,h),m.index=0,m.sibling=null,m}function a(m,h,g){return m.index=g,e?(g=m.alternate,g!==null?(g=g.index,g<h?(m.flags|=2,h):g):(m.flags|=2,h)):(m.flags|=1048576,h)}function l(m){return e&&m.alternate===null&&(m.flags|=2),m}function i(m,h,g,C){return h===null||h.tag!==6?(h=ea(g,m.mode,C),h.return=m,h):(h=o(h,g),h.return=m,h)}function c(m,h,g,C){var b=g.type;return b===Pn?x(m,h,g.props.children,C,g.key):h!==null&&(h.elementType===b||typeof b=="object"&&b!==null&&b.$$typeof===Vt&&Qi(b)===h.type)?(C=o(h,g.props),C.ref=fr(m,h,g),C.return=m,C):(C=Ts(g.type,g.key,g.props,null,m.mode,C),C.ref=fr(m,h,g),C.return=m,C)}function d(m,h,g,C){return h===null||h.tag!==4||h.stateNode.containerInfo!==g.containerInfo||h.stateNode.implementation!==g.implementation?(h=ta(g,m.mode,C),h.return=m,h):(h=o(h,g.children||[]),h.return=m,h)}function x(m,h,g,C,b){return h===null||h.tag!==7?(h=wn(g,m.mode,C,b),h.return=m,h):(h=o(h,g),h.return=m,h)}function p(m,h,g){if(typeof h=="string"&&h!==""||typeof h=="number")return h=ea(""+h,m.mode,g),h.return=m,h;if(typeof h=="object"&&h!==null){switch(h.$$typeof){case as:return g=Ts(h.type,h.key,h.props,null,m.mode,g),g.ref=fr(m,null,h),g.return=m,g;case Rn:return h=ta(h,m.mode,g),h.return=m,h;case Vt:var C=h._init;return p(m,C(h._payload),g)}if(yr(h)||dr(h))return h=wn(h,m.mode,g,null),h.return=m,h;gs(m,h)}return null}function u(m,h,g,C){var b=h!==null?h.key:null;if(typeof g=="string"&&g!==""||typeof g=="number")return b!==null?null:i(m,h,""+g,C);if(typeof g=="object"&&g!==null){switch(g.$$typeof){case as:return g.key===b?c(m,h,g,C):null;case Rn:return g.key===b?d(m,h,g,C):null;case Vt:return b=g._init,u(m,h,b(g._payload),C)}if(yr(g)||dr(g))return b!==null?null:x(m,h,g,C,null);gs(m,g)}return null}function v(m,h,g,C,b){if(typeof C=="string"&&C!==""||typeof C=="number")return m=m.get(g)||null,i(h,m,""+C,b);if(typeof C=="object"&&C!==null){switch(C.$$typeof){case as:return m=m.get(C.key===null?g:C.key)||null,c(h,m,C,b);case Rn:return m=m.get(C.key===null?g:C.key)||null,d(h,m,C,b);case Vt:var k=C._init;return v(m,h,g,k(C._payload),b)}if(yr(C)||dr(C))return m=m.get(g)||null,x(h,m,C,b,null);gs(h,C)}return null}function j(m,h,g,C){for(var b=null,k=null,I=h,L=h=0,A=null;I!==null&&L<g.length;L++){I.index>L?(A=I,I=null):A=I.sibling;var T=u(m,I,g[L],C);if(T===null){I===null&&(I=A);break}e&&I&&T.alternate===null&&t(m,I),h=a(T,h,L),k===null?b=T:k.sibling=T,k=T,I=A}if(L===g.length)return n(m,I),ue&&hn(m,L),b;if(I===null){for(;L<g.length;L++)I=p(m,g[L],C),I!==null&&(h=a(I,h,L),k===null?b=I:k.sibling=I,k=I);return ue&&hn(m,L),b}for(I=s(m,I);L<g.length;L++)A=v(I,m,L,g[L],C),A!==null&&(e&&A.alternate!==null&&I.delete(A.key===null?L:A.key),h=a(A,h,L),k===null?b=A:k.sibling=A,k=A);return e&&I.forEach(function(G){return t(m,G)}),ue&&hn(m,L),b}function S(m,h,g,C){var b=dr(g);if(typeof b!="function")throw Error(_(150));if(g=b.call(g),g==null)throw Error(_(151));for(var k=b=null,I=h,L=h=0,A=null,T=g.next();I!==null&&!T.done;L++,T=g.next()){I.index>L?(A=I,I=null):A=I.sibling;var G=u(m,I,T.value,C);if(G===null){I===null&&(I=A);break}e&&I&&G.alternate===null&&t(m,I),h=a(G,h,L),k===null?b=G:k.sibling=G,k=G,I=A}if(T.done)return n(m,I),ue&&hn(m,L),b;if(I===null){for(;!T.done;L++,T=g.next())T=p(m,T.value,C),T!==null&&(h=a(T,h,L),k===null?b=T:k.sibling=T,k=T);return ue&&hn(m,L),b}for(I=s(m,I);!T.done;L++,T=g.next())T=v(I,m,L,T.value,C),T!==null&&(e&&T.alternate!==null&&I.delete(T.key===null?L:T.key),h=a(T,h,L),k===null?b=T:k.sibling=T,k=T);return e&&I.forEach(function(O){return t(m,O)}),ue&&hn(m,L),b}function E(m,h,g,C){if(typeof g=="object"&&g!==null&&g.type===Pn&&g.key===null&&(g=g.props.children),typeof g=="object"&&g!==null){switch(g.$$typeof){case as:e:{for(var b=g.key,k=h;k!==null;){if(k.key===b){if(b=g.type,b===Pn){if(k.tag===7){n(m,k.sibling),h=o(k,g.props.children),h.return=m,m=h;break e}}else if(k.elementType===b||typeof b=="object"&&b!==null&&b.$$typeof===Vt&&Qi(b)===k.type){n(m,k.sibling),h=o(k,g.props),h.ref=fr(m,k,g),h.return=m,m=h;break e}n(m,k);break}else t(m,k);k=k.sibling}g.type===Pn?(h=wn(g.props.children,m.mode,C,g.key),h.return=m,m=h):(C=Ts(g.type,g.key,g.props,null,m.mode,C),C.ref=fr(m,h,g),C.return=m,m=C)}return l(m);case Rn:e:{for(k=g.key;h!==null;){if(h.key===k)if(h.tag===4&&h.stateNode.containerInfo===g.containerInfo&&h.stateNode.implementation===g.implementation){n(m,h.sibling),h=o(h,g.children||[]),h.return=m,m=h;break e}else{n(m,h);break}else t(m,h);h=h.sibling}h=ta(g,m.mode,C),h.return=m,m=h}return l(m);case Vt:return k=g._init,E(m,h,k(g._payload),C)}if(yr(g))return j(m,h,g,C);if(dr(g))return S(m,h,g,C);gs(m,g)}return typeof g=="string"&&g!==""||typeof g=="number"?(g=""+g,h!==null&&h.tag===6?(n(m,h.sibling),h=o(h,g),h.return=m,m=h):(n(m,h),h=ea(g,m.mode,C),h.return=m,m=h),l(m)):n(m,h)}return E}var Zn=Xd(!0),qd=Xd(!1),qs=dn(null),Ys=null,Bn=null,Ol=null;function Il(){Ol=Bn=Ys=null}function Rl(e){var t=qs.current;de(qs),e._currentValue=t}function Ma(e,t,n){for(;e!==null;){var s=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,s!==null&&(s.childLanes|=t)):s!==null&&(s.childLanes&t)!==t&&(s.childLanes|=t),e===n)break;e=e.return}}function Xn(e,t){Ys=e,Ol=Bn=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(Xe=!0),e.firstContext=null)}function ut(e){var t=e._currentValue;if(Ol!==e)if(e={context:e,memoizedValue:t,next:null},Bn===null){if(Ys===null)throw Error(_(308));Bn=e,Ys.dependencies={lanes:0,firstContext:e}}else Bn=Bn.next=e;return t}var gn=null;function Pl(e){gn===null?gn=[e]:gn.push(e)}function Yd(e,t,n,s){var o=t.interleaved;return o===null?(n.next=n,Pl(t)):(n.next=o.next,o.next=n),t.interleaved=n,Tt(e,s)}function Tt(e,t){e.lanes|=t;var n=e.alternate;for(n!==null&&(n.lanes|=t),n=e,e=e.return;e!==null;)e.childLanes|=t,n=e.alternate,n!==null&&(n.childLanes|=t),n=e,e=e.return;return n.tag===3?n.stateNode:null}var Wt=!1;function Ll(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Kd(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Rt(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function tn(e,t,n){var s=e.updateQueue;if(s===null)return null;if(s=s.shared,te&2){var o=s.pending;return o===null?t.next=t:(t.next=o.next,o.next=t),s.pending=t,Tt(e,n)}return o=s.interleaved,o===null?(t.next=t,Pl(s)):(t.next=o.next,o.next=t),s.interleaved=t,Tt(e,n)}function Ds(e,t,n){if(t=t.updateQueue,t!==null&&(t=t.shared,(n&4194240)!==0)){var s=t.lanes;s&=e.pendingLanes,n|=s,t.lanes=n,yl(e,n)}}function Xi(e,t){var n=e.updateQueue,s=e.alternate;if(s!==null&&(s=s.updateQueue,n===s)){var o=null,a=null;if(n=n.firstBaseUpdate,n!==null){do{var l={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};a===null?o=a=l:a=a.next=l,n=n.next}while(n!==null);a===null?o=a=t:a=a.next=t}else o=a=t;n={baseState:s.baseState,firstBaseUpdate:o,lastBaseUpdate:a,shared:s.shared,effects:s.effects},e.updateQueue=n;return}e=n.lastBaseUpdate,e===null?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function Ks(e,t,n,s){var o=e.updateQueue;Wt=!1;var a=o.firstBaseUpdate,l=o.lastBaseUpdate,i=o.shared.pending;if(i!==null){o.shared.pending=null;var c=i,d=c.next;c.next=null,l===null?a=d:l.next=d,l=c;var x=e.alternate;x!==null&&(x=x.updateQueue,i=x.lastBaseUpdate,i!==l&&(i===null?x.firstBaseUpdate=d:i.next=d,x.lastBaseUpdate=c))}if(a!==null){var p=o.baseState;l=0,x=d=c=null,i=a;do{var u=i.lane,v=i.eventTime;if((s&u)===u){x!==null&&(x=x.next={eventTime:v,lane:0,tag:i.tag,payload:i.payload,callback:i.callback,next:null});e:{var j=e,S=i;switch(u=t,v=n,S.tag){case 1:if(j=S.payload,typeof j=="function"){p=j.call(v,p,u);break e}p=j;break e;case 3:j.flags=j.flags&-65537|128;case 0:if(j=S.payload,u=typeof j=="function"?j.call(v,p,u):j,u==null)break e;p=ve({},p,u);break e;case 2:Wt=!0}}i.callback!==null&&i.lane!==0&&(e.flags|=64,u=o.effects,u===null?o.effects=[i]:u.push(i))}else v={eventTime:v,lane:u,tag:i.tag,payload:i.payload,callback:i.callback,next:null},x===null?(d=x=v,c=p):x=x.next=v,l|=u;if(i=i.next,i===null){if(i=o.shared.pending,i===null)break;u=i,i=u.next,u.next=null,o.lastBaseUpdate=u,o.shared.pending=null}}while(!0);if(x===null&&(c=p),o.baseState=c,o.firstBaseUpdate=d,o.lastBaseUpdate=x,t=o.shared.interleaved,t!==null){o=t;do l|=o.lane,o=o.next;while(o!==t)}else a===null&&(o.shared.lanes=0);En|=l,e.lanes=l,e.memoizedState=p}}function qi(e,t,n){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var s=e[t],o=s.callback;if(o!==null){if(s.callback=null,s=n,typeof o!="function")throw Error(_(191,o));o.call(s)}}}var ns={},At=dn(ns),Ur=dn(ns),Vr=dn(ns);function vn(e){if(e===ns)throw Error(_(174));return e}function Tl(e,t){switch(ie(Vr,t),ie(Ur,e),ie(At,ns),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:ga(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=ga(t,e)}de(At),ie(At,t)}function er(){de(At),de(Ur),de(Vr)}function Jd(e){vn(Vr.current);var t=vn(At.current),n=ga(t,e.type);t!==n&&(ie(Ur,e),ie(At,n))}function _l(e){Ur.current===e&&(de(At),de(Ur))}var fe=dn(0);function Js(e){for(var t=e;t!==null;){if(t.tag===13){var n=t.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var Xo=[];function Ml(){for(var e=0;e<Xo.length;e++)Xo[e]._workInProgressVersionPrimary=null;Xo.length=0}var Os=Mt.ReactCurrentDispatcher,qo=Mt.ReactCurrentBatchConfig,Cn=0,xe=null,be=null,Oe=null,Zs=!1,kr=!1,Wr=0,dh=0;function Fe(){throw Error(_(321))}function Fl(e,t){if(t===null)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!yt(e[n],t[n]))return!1;return!0}function $l(e,t,n,s,o,a){if(Cn=a,xe=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,Os.current=e===null||e.memoizedState===null?hh:fh,e=n(s,o),kr){a=0;do{if(kr=!1,Wr=0,25<=a)throw Error(_(301));a+=1,Oe=be=null,t.updateQueue=null,Os.current=xh,e=n(s,o)}while(kr)}if(Os.current=eo,t=be!==null&&be.next!==null,Cn=0,Oe=be=xe=null,Zs=!1,t)throw Error(_(300));return e}function zl(){var e=Wr!==0;return Wr=0,e}function St(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Oe===null?xe.memoizedState=Oe=e:Oe=Oe.next=e,Oe}function pt(){if(be===null){var e=xe.alternate;e=e!==null?e.memoizedState:null}else e=be.next;var t=Oe===null?xe.memoizedState:Oe.next;if(t!==null)Oe=t,be=e;else{if(e===null)throw Error(_(310));be=e,e={memoizedState:be.memoizedState,baseState:be.baseState,baseQueue:be.baseQueue,queue:be.queue,next:null},Oe===null?xe.memoizedState=Oe=e:Oe=Oe.next=e}return Oe}function Hr(e,t){return typeof t=="function"?t(e):t}function Yo(e){var t=pt(),n=t.queue;if(n===null)throw Error(_(311));n.lastRenderedReducer=e;var s=be,o=s.baseQueue,a=n.pending;if(a!==null){if(o!==null){var l=o.next;o.next=a.next,a.next=l}s.baseQueue=o=a,n.pending=null}if(o!==null){a=o.next,s=s.baseState;var i=l=null,c=null,d=a;do{var x=d.lane;if((Cn&x)===x)c!==null&&(c=c.next={lane:0,action:d.action,hasEagerState:d.hasEagerState,eagerState:d.eagerState,next:null}),s=d.hasEagerState?d.eagerState:e(s,d.action);else{var p={lane:x,action:d.action,hasEagerState:d.hasEagerState,eagerState:d.eagerState,next:null};c===null?(i=c=p,l=s):c=c.next=p,xe.lanes|=x,En|=x}d=d.next}while(d!==null&&d!==a);c===null?l=s:c.next=i,yt(s,t.memoizedState)||(Xe=!0),t.memoizedState=s,t.baseState=l,t.baseQueue=c,n.lastRenderedState=s}if(e=n.interleaved,e!==null){o=e;do a=o.lane,xe.lanes|=a,En|=a,o=o.next;while(o!==e)}else o===null&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function Ko(e){var t=pt(),n=t.queue;if(n===null)throw Error(_(311));n.lastRenderedReducer=e;var s=n.dispatch,o=n.pending,a=t.memoizedState;if(o!==null){n.pending=null;var l=o=o.next;do a=e(a,l.action),l=l.next;while(l!==o);yt(a,t.memoizedState)||(Xe=!0),t.memoizedState=a,t.baseQueue===null&&(t.baseState=a),n.lastRenderedState=a}return[a,s]}function Zd(){}function eu(e,t){var n=xe,s=pt(),o=t(),a=!yt(s.memoizedState,o);if(a&&(s.memoizedState=o,Xe=!0),s=s.queue,Bl(ru.bind(null,n,s,e),[e]),s.getSnapshot!==t||a||Oe!==null&&Oe.memoizedState.tag&1){if(n.flags|=2048,Qr(9,nu.bind(null,n,s,o,t),void 0,null),Ie===null)throw Error(_(349));Cn&30||tu(n,t,o)}return o}function tu(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},t=xe.updateQueue,t===null?(t={lastEffect:null,stores:null},xe.updateQueue=t,t.stores=[e]):(n=t.stores,n===null?t.stores=[e]:n.push(e))}function nu(e,t,n,s){t.value=n,t.getSnapshot=s,su(t)&&ou(e)}function ru(e,t,n){return n(function(){su(t)&&ou(e)})}function su(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!yt(e,n)}catch{return!0}}function ou(e){var t=Tt(e,1);t!==null&&vt(t,e,1,-1)}function Yi(e){var t=St();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Hr,lastRenderedState:e},t.queue=e,e=e.dispatch=mh.bind(null,xe,e),[t.memoizedState,e]}function Qr(e,t,n,s){return e={tag:e,create:t,destroy:n,deps:s,next:null},t=xe.updateQueue,t===null?(t={lastEffect:null,stores:null},xe.updateQueue=t,t.lastEffect=e.next=e):(n=t.lastEffect,n===null?t.lastEffect=e.next=e:(s=n.next,n.next=e,e.next=s,t.lastEffect=e)),e}function au(){return pt().memoizedState}function Is(e,t,n,s){var o=St();xe.flags|=e,o.memoizedState=Qr(1|t,n,void 0,s===void 0?null:s)}function xo(e,t,n,s){var o=pt();s=s===void 0?null:s;var a=void 0;if(be!==null){var l=be.memoizedState;if(a=l.destroy,s!==null&&Fl(s,l.deps)){o.memoizedState=Qr(t,n,a,s);return}}xe.flags|=e,o.memoizedState=Qr(1|t,n,a,s)}function Ki(e,t){return Is(8390656,8,e,t)}function Bl(e,t){return xo(2048,8,e,t)}function lu(e,t){return xo(4,2,e,t)}function iu(e,t){return xo(4,4,e,t)}function cu(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function du(e,t,n){return n=n!=null?n.concat([e]):null,xo(4,4,cu.bind(null,t,e),n)}function Gl(){}function uu(e,t){var n=pt();t=t===void 0?null:t;var s=n.memoizedState;return s!==null&&t!==null&&Fl(t,s[1])?s[0]:(n.memoizedState=[e,t],e)}function pu(e,t){var n=pt();t=t===void 0?null:t;var s=n.memoizedState;return s!==null&&t!==null&&Fl(t,s[1])?s[0]:(e=e(),n.memoizedState=[e,t],e)}function mu(e,t,n){return Cn&21?(yt(n,t)||(n=vd(),xe.lanes|=n,En|=n,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,Xe=!0),e.memoizedState=n)}function uh(e,t){var n=re;re=n!==0&&4>n?n:4,e(!0);var s=qo.transition;qo.transition={};try{e(!1),t()}finally{re=n,qo.transition=s}}function hu(){return pt().memoizedState}function ph(e,t,n){var s=rn(e);if(n={lane:s,action:n,hasEagerState:!1,eagerState:null,next:null},fu(e))xu(t,n);else if(n=Yd(e,t,n,s),n!==null){var o=Ve();vt(n,e,s,o),gu(n,t,s)}}function mh(e,t,n){var s=rn(e),o={lane:s,action:n,hasEagerState:!1,eagerState:null,next:null};if(fu(e))xu(t,o);else{var a=e.alternate;if(e.lanes===0&&(a===null||a.lanes===0)&&(a=t.lastRenderedReducer,a!==null))try{var l=t.lastRenderedState,i=a(l,n);if(o.hasEagerState=!0,o.eagerState=i,yt(i,l)){var c=t.interleaved;c===null?(o.next=o,Pl(t)):(o.next=c.next,c.next=o),t.interleaved=o;return}}catch{}finally{}n=Yd(e,t,o,s),n!==null&&(o=Ve(),vt(n,e,s,o),gu(n,t,s))}}function fu(e){var t=e.alternate;return e===xe||t!==null&&t===xe}function xu(e,t){kr=Zs=!0;var n=e.pending;n===null?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function gu(e,t,n){if(n&4194240){var s=t.lanes;s&=e.pendingLanes,n|=s,t.lanes=n,yl(e,n)}}var eo={readContext:ut,useCallback:Fe,useContext:Fe,useEffect:Fe,useImperativeHandle:Fe,useInsertionEffect:Fe,useLayoutEffect:Fe,useMemo:Fe,useReducer:Fe,useRef:Fe,useState:Fe,useDebugValue:Fe,useDeferredValue:Fe,useTransition:Fe,useMutableSource:Fe,useSyncExternalStore:Fe,useId:Fe,unstable_isNewReconciler:!1},hh={readContext:ut,useCallback:function(e,t){return St().memoizedState=[e,t===void 0?null:t],e},useContext:ut,useEffect:Ki,useImperativeHandle:function(e,t,n){return n=n!=null?n.concat([e]):null,Is(4194308,4,cu.bind(null,t,e),n)},useLayoutEffect:function(e,t){return Is(4194308,4,e,t)},useInsertionEffect:function(e,t){return Is(4,2,e,t)},useMemo:function(e,t){var n=St();return t=t===void 0?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var s=St();return t=n!==void 0?n(t):t,s.memoizedState=s.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},s.queue=e,e=e.dispatch=ph.bind(null,xe,e),[s.memoizedState,e]},useRef:function(e){var t=St();return e={current:e},t.memoizedState=e},useState:Yi,useDebugValue:Gl,useDeferredValue:function(e){return St().memoizedState=e},useTransition:function(){var e=Yi(!1),t=e[0];return e=uh.bind(null,e[1]),St().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var s=xe,o=St();if(ue){if(n===void 0)throw Error(_(407));n=n()}else{if(n=t(),Ie===null)throw Error(_(349));Cn&30||tu(s,t,n)}o.memoizedState=n;var a={value:n,getSnapshot:t};return o.queue=a,Ki(ru.bind(null,s,a,e),[e]),s.flags|=2048,Qr(9,nu.bind(null,s,a,n,t),void 0,null),n},useId:function(){var e=St(),t=Ie.identifierPrefix;if(ue){var n=It,s=Ot;n=(s&~(1<<32-gt(s)-1)).toString(32)+n,t=":"+t+"R"+n,n=Wr++,0<n&&(t+="H"+n.toString(32)),t+=":"}else n=dh++,t=":"+t+"r"+n.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},fh={readContext:ut,useCallback:uu,useContext:ut,useEffect:Bl,useImperativeHandle:du,useInsertionEffect:lu,useLayoutEffect:iu,useMemo:pu,useReducer:Yo,useRef:au,useState:function(){return Yo(Hr)},useDebugValue:Gl,useDeferredValue:function(e){var t=pt();return mu(t,be.memoizedState,e)},useTransition:function(){var e=Yo(Hr)[0],t=pt().memoizedState;return[e,t]},useMutableSource:Zd,useSyncExternalStore:eu,useId:hu,unstable_isNewReconciler:!1},xh={readContext:ut,useCallback:uu,useContext:ut,useEffect:Bl,useImperativeHandle:du,useInsertionEffect:lu,useLayoutEffect:iu,useMemo:pu,useReducer:Ko,useRef:au,useState:function(){return Ko(Hr)},useDebugValue:Gl,useDeferredValue:function(e){var t=pt();return be===null?t.memoizedState=e:mu(t,be.memoizedState,e)},useTransition:function(){var e=Ko(Hr)[0],t=pt().memoizedState;return[e,t]},useMutableSource:Zd,useSyncExternalStore:eu,useId:hu,unstable_isNewReconciler:!1};function ht(e,t){if(e&&e.defaultProps){t=ve({},t),e=e.defaultProps;for(var n in e)t[n]===void 0&&(t[n]=e[n]);return t}return t}function Fa(e,t,n,s){t=e.memoizedState,n=n(s,t),n=n==null?t:ve({},t,n),e.memoizedState=n,e.lanes===0&&(e.updateQueue.baseState=n)}var go={isMounted:function(e){return(e=e._reactInternals)?bn(e)===e:!1},enqueueSetState:function(e,t,n){e=e._reactInternals;var s=Ve(),o=rn(e),a=Rt(s,o);a.payload=t,n!=null&&(a.callback=n),t=tn(e,a,o),t!==null&&(vt(t,e,o,s),Ds(t,e,o))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var s=Ve(),o=rn(e),a=Rt(s,o);a.tag=1,a.payload=t,n!=null&&(a.callback=n),t=tn(e,a,o),t!==null&&(vt(t,e,o,s),Ds(t,e,o))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=Ve(),s=rn(e),o=Rt(n,s);o.tag=2,t!=null&&(o.callback=t),t=tn(e,o,s),t!==null&&(vt(t,e,s,n),Ds(t,e,s))}};function Ji(e,t,n,s,o,a,l){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(s,a,l):t.prototype&&t.prototype.isPureReactComponent?!$r(n,s)||!$r(o,a):!0}function vu(e,t,n){var s=!1,o=ln,a=t.contextType;return typeof a=="object"&&a!==null?a=ut(a):(o=Ye(t)?Nn:Ge.current,s=t.contextTypes,a=(s=s!=null)?Kn(e,o):ln),t=new t(n,a),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=go,e.stateNode=t,t._reactInternals=e,s&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=o,e.__reactInternalMemoizedMaskedChildContext=a),t}function Zi(e,t,n,s){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(n,s),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(n,s),t.state!==e&&go.enqueueReplaceState(t,t.state,null)}function $a(e,t,n,s){var o=e.stateNode;o.props=n,o.state=e.memoizedState,o.refs={},Ll(e);var a=t.contextType;typeof a=="object"&&a!==null?o.context=ut(a):(a=Ye(t)?Nn:Ge.current,o.context=Kn(e,a)),o.state=e.memoizedState,a=t.getDerivedStateFromProps,typeof a=="function"&&(Fa(e,t,a,n),o.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof o.getSnapshotBeforeUpdate=="function"||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(t=o.state,typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount(),t!==o.state&&go.enqueueReplaceState(o,o.state,null),Ks(e,n,o,s),o.state=e.memoizedState),typeof o.componentDidMount=="function"&&(e.flags|=4194308)}function tr(e,t){try{var n="",s=t;do n+=Vp(s),s=s.return;while(s);var o=n}catch(a){o=`
Error generating stack: `+a.message+`
`+a.stack}return{value:e,source:t,stack:o,digest:null}}function Jo(e,t,n){return{value:e,source:null,stack:n??null,digest:t??null}}function za(e,t){try{console.error(t.value)}catch(n){setTimeout(function(){throw n})}}var gh=typeof WeakMap=="function"?WeakMap:Map;function yu(e,t,n){n=Rt(-1,n),n.tag=3,n.payload={element:null};var s=t.value;return n.callback=function(){no||(no=!0,Ya=s),za(e,t)},n}function wu(e,t,n){n=Rt(-1,n),n.tag=3;var s=e.type.getDerivedStateFromError;if(typeof s=="function"){var o=t.value;n.payload=function(){return s(o)},n.callback=function(){za(e,t)}}var a=e.stateNode;return a!==null&&typeof a.componentDidCatch=="function"&&(n.callback=function(){za(e,t),typeof s!="function"&&(nn===null?nn=new Set([this]):nn.add(this));var l=t.stack;this.componentDidCatch(t.value,{componentStack:l!==null?l:""})}),n}function ec(e,t,n){var s=e.pingCache;if(s===null){s=e.pingCache=new gh;var o=new Set;s.set(t,o)}else o=s.get(t),o===void 0&&(o=new Set,s.set(t,o));o.has(n)||(o.add(n),e=Ih.bind(null,e,t,n),t.then(e,e))}function tc(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function nc(e,t,n,s,o){return e.mode&1?(e.flags|=65536,e.lanes=o,e):(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(t=Rt(-1,1),t.tag=2,tn(n,t,1))),n.lanes|=1),e)}var vh=Mt.ReactCurrentOwner,Xe=!1;function Ue(e,t,n,s){t.child=e===null?qd(t,null,n,s):Zn(t,e.child,n,s)}function rc(e,t,n,s,o){n=n.render;var a=t.ref;return Xn(t,o),s=$l(e,t,n,s,a,o),n=zl(),e!==null&&!Xe?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~o,_t(e,t,o)):(ue&&n&&kl(t),t.flags|=1,Ue(e,t,s,o),t.child)}function sc(e,t,n,s,o){if(e===null){var a=n.type;return typeof a=="function"&&!Yl(a)&&a.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(t.tag=15,t.type=a,ju(e,t,a,s,o)):(e=Ts(n.type,null,s,t,t.mode,o),e.ref=t.ref,e.return=t,t.child=e)}if(a=e.child,!(e.lanes&o)){var l=a.memoizedProps;if(n=n.compare,n=n!==null?n:$r,n(l,s)&&e.ref===t.ref)return _t(e,t,o)}return t.flags|=1,e=sn(a,s),e.ref=t.ref,e.return=t,t.child=e}function ju(e,t,n,s,o){if(e!==null){var a=e.memoizedProps;if($r(a,s)&&e.ref===t.ref)if(Xe=!1,t.pendingProps=s=a,(e.lanes&o)!==0)e.flags&131072&&(Xe=!0);else return t.lanes=e.lanes,_t(e,t,o)}return Ba(e,t,n,s,o)}function Nu(e,t,n){var s=t.pendingProps,o=s.children,a=e!==null?e.memoizedState:null;if(s.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},ie(Un,et),et|=n;else{if(!(n&1073741824))return e=a!==null?a.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,ie(Un,et),et|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},s=a!==null?a.baseLanes:n,ie(Un,et),et|=s}else a!==null?(s=a.baseLanes|n,t.memoizedState=null):s=n,ie(Un,et),et|=s;return Ue(e,t,o,n),t.child}function Su(e,t){var n=t.ref;(e===null&&n!==null||e!==null&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function Ba(e,t,n,s,o){var a=Ye(n)?Nn:Ge.current;return a=Kn(t,a),Xn(t,o),n=$l(e,t,n,s,a,o),s=zl(),e!==null&&!Xe?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~o,_t(e,t,o)):(ue&&s&&kl(t),t.flags|=1,Ue(e,t,n,o),t.child)}function oc(e,t,n,s,o){if(Ye(n)){var a=!0;Hs(t)}else a=!1;if(Xn(t,o),t.stateNode===null)Rs(e,t),vu(t,n,s),$a(t,n,s,o),s=!0;else if(e===null){var l=t.stateNode,i=t.memoizedProps;l.props=i;var c=l.context,d=n.contextType;typeof d=="object"&&d!==null?d=ut(d):(d=Ye(n)?Nn:Ge.current,d=Kn(t,d));var x=n.getDerivedStateFromProps,p=typeof x=="function"||typeof l.getSnapshotBeforeUpdate=="function";p||typeof l.UNSAFE_componentWillReceiveProps!="function"&&typeof l.componentWillReceiveProps!="function"||(i!==s||c!==d)&&Zi(t,l,s,d),Wt=!1;var u=t.memoizedState;l.state=u,Ks(t,s,l,o),c=t.memoizedState,i!==s||u!==c||qe.current||Wt?(typeof x=="function"&&(Fa(t,n,x,s),c=t.memoizedState),(i=Wt||Ji(t,n,i,s,u,c,d))?(p||typeof l.UNSAFE_componentWillMount!="function"&&typeof l.componentWillMount!="function"||(typeof l.componentWillMount=="function"&&l.componentWillMount(),typeof l.UNSAFE_componentWillMount=="function"&&l.UNSAFE_componentWillMount()),typeof l.componentDidMount=="function"&&(t.flags|=4194308)):(typeof l.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=s,t.memoizedState=c),l.props=s,l.state=c,l.context=d,s=i):(typeof l.componentDidMount=="function"&&(t.flags|=4194308),s=!1)}else{l=t.stateNode,Kd(e,t),i=t.memoizedProps,d=t.type===t.elementType?i:ht(t.type,i),l.props=d,p=t.pendingProps,u=l.context,c=n.contextType,typeof c=="object"&&c!==null?c=ut(c):(c=Ye(n)?Nn:Ge.current,c=Kn(t,c));var v=n.getDerivedStateFromProps;(x=typeof v=="function"||typeof l.getSnapshotBeforeUpdate=="function")||typeof l.UNSAFE_componentWillReceiveProps!="function"&&typeof l.componentWillReceiveProps!="function"||(i!==p||u!==c)&&Zi(t,l,s,c),Wt=!1,u=t.memoizedState,l.state=u,Ks(t,s,l,o);var j=t.memoizedState;i!==p||u!==j||qe.current||Wt?(typeof v=="function"&&(Fa(t,n,v,s),j=t.memoizedState),(d=Wt||Ji(t,n,d,s,u,j,c)||!1)?(x||typeof l.UNSAFE_componentWillUpdate!="function"&&typeof l.componentWillUpdate!="function"||(typeof l.componentWillUpdate=="function"&&l.componentWillUpdate(s,j,c),typeof l.UNSAFE_componentWillUpdate=="function"&&l.UNSAFE_componentWillUpdate(s,j,c)),typeof l.componentDidUpdate=="function"&&(t.flags|=4),typeof l.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof l.componentDidUpdate!="function"||i===e.memoizedProps&&u===e.memoizedState||(t.flags|=4),typeof l.getSnapshotBeforeUpdate!="function"||i===e.memoizedProps&&u===e.memoizedState||(t.flags|=1024),t.memoizedProps=s,t.memoizedState=j),l.props=s,l.state=j,l.context=c,s=d):(typeof l.componentDidUpdate!="function"||i===e.memoizedProps&&u===e.memoizedState||(t.flags|=4),typeof l.getSnapshotBeforeUpdate!="function"||i===e.memoizedProps&&u===e.memoizedState||(t.flags|=1024),s=!1)}return Ga(e,t,n,s,a,o)}function Ga(e,t,n,s,o,a){Su(e,t);var l=(t.flags&128)!==0;if(!s&&!l)return o&&Vi(t,n,!1),_t(e,t,a);s=t.stateNode,vh.current=t;var i=l&&typeof n.getDerivedStateFromError!="function"?null:s.render();return t.flags|=1,e!==null&&l?(t.child=Zn(t,e.child,null,a),t.child=Zn(t,null,i,a)):Ue(e,t,i,a),t.memoizedState=s.state,o&&Vi(t,n,!0),t.child}function Cu(e){var t=e.stateNode;t.pendingContext?Ui(e,t.pendingContext,t.pendingContext!==t.context):t.context&&Ui(e,t.context,!1),Tl(e,t.containerInfo)}function ac(e,t,n,s,o){return Jn(),Dl(o),t.flags|=256,Ue(e,t,n,s),t.child}var Ua={dehydrated:null,treeContext:null,retryLane:0};function Va(e){return{baseLanes:e,cachePool:null,transitions:null}}function Eu(e,t,n){var s=t.pendingProps,o=fe.current,a=!1,l=(t.flags&128)!==0,i;if((i=l)||(i=e!==null&&e.memoizedState===null?!1:(o&2)!==0),i?(a=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(o|=1),ie(fe,o&1),e===null)return _a(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(l=s.children,e=s.fallback,a?(s=t.mode,a=t.child,l={mode:"hidden",children:l},!(s&1)&&a!==null?(a.childLanes=0,a.pendingProps=l):a=wo(l,s,0,null),e=wn(e,s,n,null),a.return=t,e.return=t,a.sibling=e,t.child=a,t.child.memoizedState=Va(n),t.memoizedState=Ua,e):Ul(t,l));if(o=e.memoizedState,o!==null&&(i=o.dehydrated,i!==null))return yh(e,t,l,s,i,o,n);if(a){a=s.fallback,l=t.mode,o=e.child,i=o.sibling;var c={mode:"hidden",children:s.children};return!(l&1)&&t.child!==o?(s=t.child,s.childLanes=0,s.pendingProps=c,t.deletions=null):(s=sn(o,c),s.subtreeFlags=o.subtreeFlags&14680064),i!==null?a=sn(i,a):(a=wn(a,l,n,null),a.flags|=2),a.return=t,s.return=t,s.sibling=a,t.child=s,s=a,a=t.child,l=e.child.memoizedState,l=l===null?Va(n):{baseLanes:l.baseLanes|n,cachePool:null,transitions:l.transitions},a.memoizedState=l,a.childLanes=e.childLanes&~n,t.memoizedState=Ua,s}return a=e.child,e=a.sibling,s=sn(a,{mode:"visible",children:s.children}),!(t.mode&1)&&(s.lanes=n),s.return=t,s.sibling=null,e!==null&&(n=t.deletions,n===null?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=s,t.memoizedState=null,s}function Ul(e,t){return t=wo({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function vs(e,t,n,s){return s!==null&&Dl(s),Zn(t,e.child,null,n),e=Ul(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function yh(e,t,n,s,o,a,l){if(n)return t.flags&256?(t.flags&=-257,s=Jo(Error(_(422))),vs(e,t,l,s)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(a=s.fallback,o=t.mode,s=wo({mode:"visible",children:s.children},o,0,null),a=wn(a,o,l,null),a.flags|=2,s.return=t,a.return=t,s.sibling=a,t.child=s,t.mode&1&&Zn(t,e.child,null,l),t.child.memoizedState=Va(l),t.memoizedState=Ua,a);if(!(t.mode&1))return vs(e,t,l,null);if(o.data==="$!"){if(s=o.nextSibling&&o.nextSibling.dataset,s)var i=s.dgst;return s=i,a=Error(_(419)),s=Jo(a,s,void 0),vs(e,t,l,s)}if(i=(l&e.childLanes)!==0,Xe||i){if(s=Ie,s!==null){switch(l&-l){case 4:o=2;break;case 16:o=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:o=32;break;case 536870912:o=268435456;break;default:o=0}o=o&(s.suspendedLanes|l)?0:o,o!==0&&o!==a.retryLane&&(a.retryLane=o,Tt(e,o),vt(s,e,o,-1))}return ql(),s=Jo(Error(_(421))),vs(e,t,l,s)}return o.data==="$?"?(t.flags|=128,t.child=e.child,t=Rh.bind(null,e),o._reactRetry=t,null):(e=a.treeContext,tt=en(o.nextSibling),nt=t,ue=!0,xt=null,e!==null&&(lt[it++]=Ot,lt[it++]=It,lt[it++]=Sn,Ot=e.id,It=e.overflow,Sn=t),t=Ul(t,s.children),t.flags|=4096,t)}function lc(e,t,n){e.lanes|=t;var s=e.alternate;s!==null&&(s.lanes|=t),Ma(e.return,t,n)}function Zo(e,t,n,s,o){var a=e.memoizedState;a===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:s,tail:n,tailMode:o}:(a.isBackwards=t,a.rendering=null,a.renderingStartTime=0,a.last=s,a.tail=n,a.tailMode=o)}function Au(e,t,n){var s=t.pendingProps,o=s.revealOrder,a=s.tail;if(Ue(e,t,s.children,n),s=fe.current,s&2)s=s&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&lc(e,n,t);else if(e.tag===19)lc(e,n,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}s&=1}if(ie(fe,s),!(t.mode&1))t.memoizedState=null;else switch(o){case"forwards":for(n=t.child,o=null;n!==null;)e=n.alternate,e!==null&&Js(e)===null&&(o=n),n=n.sibling;n=o,n===null?(o=t.child,t.child=null):(o=n.sibling,n.sibling=null),Zo(t,!1,o,n,a);break;case"backwards":for(n=null,o=t.child,t.child=null;o!==null;){if(e=o.alternate,e!==null&&Js(e)===null){t.child=o;break}e=o.sibling,o.sibling=n,n=o,o=e}Zo(t,!0,n,null,a);break;case"together":Zo(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Rs(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function _t(e,t,n){if(e!==null&&(t.dependencies=e.dependencies),En|=t.lanes,!(n&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(_(153));if(t.child!==null){for(e=t.child,n=sn(e,e.pendingProps),t.child=n,n.return=t;e.sibling!==null;)e=e.sibling,n=n.sibling=sn(e,e.pendingProps),n.return=t;n.sibling=null}return t.child}function wh(e,t,n){switch(t.tag){case 3:Cu(t),Jn();break;case 5:Jd(t);break;case 1:Ye(t.type)&&Hs(t);break;case 4:Tl(t,t.stateNode.containerInfo);break;case 10:var s=t.type._context,o=t.memoizedProps.value;ie(qs,s._currentValue),s._currentValue=o;break;case 13:if(s=t.memoizedState,s!==null)return s.dehydrated!==null?(ie(fe,fe.current&1),t.flags|=128,null):n&t.child.childLanes?Eu(e,t,n):(ie(fe,fe.current&1),e=_t(e,t,n),e!==null?e.sibling:null);ie(fe,fe.current&1);break;case 19:if(s=(n&t.childLanes)!==0,e.flags&128){if(s)return Au(e,t,n);t.flags|=128}if(o=t.memoizedState,o!==null&&(o.rendering=null,o.tail=null,o.lastEffect=null),ie(fe,fe.current),s)break;return null;case 22:case 23:return t.lanes=0,Nu(e,t,n)}return _t(e,t,n)}var ku,Wa,bu,Du;ku=function(e,t){for(var n=t.child;n!==null;){if(n.tag===5||n.tag===6)e.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};Wa=function(){};bu=function(e,t,n,s){var o=e.memoizedProps;if(o!==s){e=t.stateNode,vn(At.current);var a=null;switch(n){case"input":o=ma(e,o),s=ma(e,s),a=[];break;case"select":o=ve({},o,{value:void 0}),s=ve({},s,{value:void 0}),a=[];break;case"textarea":o=xa(e,o),s=xa(e,s),a=[];break;default:typeof o.onClick!="function"&&typeof s.onClick=="function"&&(e.onclick=Vs)}va(n,s);var l;n=null;for(d in o)if(!s.hasOwnProperty(d)&&o.hasOwnProperty(d)&&o[d]!=null)if(d==="style"){var i=o[d];for(l in i)i.hasOwnProperty(l)&&(n||(n={}),n[l]="")}else d!=="dangerouslySetInnerHTML"&&d!=="children"&&d!=="suppressContentEditableWarning"&&d!=="suppressHydrationWarning"&&d!=="autoFocus"&&(Rr.hasOwnProperty(d)?a||(a=[]):(a=a||[]).push(d,null));for(d in s){var c=s[d];if(i=o!=null?o[d]:void 0,s.hasOwnProperty(d)&&c!==i&&(c!=null||i!=null))if(d==="style")if(i){for(l in i)!i.hasOwnProperty(l)||c&&c.hasOwnProperty(l)||(n||(n={}),n[l]="");for(l in c)c.hasOwnProperty(l)&&i[l]!==c[l]&&(n||(n={}),n[l]=c[l])}else n||(a||(a=[]),a.push(d,n)),n=c;else d==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,i=i?i.__html:void 0,c!=null&&i!==c&&(a=a||[]).push(d,c)):d==="children"?typeof c!="string"&&typeof c!="number"||(a=a||[]).push(d,""+c):d!=="suppressContentEditableWarning"&&d!=="suppressHydrationWarning"&&(Rr.hasOwnProperty(d)?(c!=null&&d==="onScroll"&&ce("scroll",e),a||i===c||(a=[])):(a=a||[]).push(d,c))}n&&(a=a||[]).push("style",n);var d=a;(t.updateQueue=d)&&(t.flags|=4)}};Du=function(e,t,n,s){n!==s&&(t.flags|=4)};function xr(e,t){if(!ue)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;t!==null;)t.alternate!==null&&(n=t),t=t.sibling;n===null?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var s=null;n!==null;)n.alternate!==null&&(s=n),n=n.sibling;s===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:s.sibling=null}}function $e(e){var t=e.alternate!==null&&e.alternate.child===e.child,n=0,s=0;if(t)for(var o=e.child;o!==null;)n|=o.lanes|o.childLanes,s|=o.subtreeFlags&14680064,s|=o.flags&14680064,o.return=e,o=o.sibling;else for(o=e.child;o!==null;)n|=o.lanes|o.childLanes,s|=o.subtreeFlags,s|=o.flags,o.return=e,o=o.sibling;return e.subtreeFlags|=s,e.childLanes=n,t}function jh(e,t,n){var s=t.pendingProps;switch(bl(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return $e(t),null;case 1:return Ye(t.type)&&Ws(),$e(t),null;case 3:return s=t.stateNode,er(),de(qe),de(Ge),Ml(),s.pendingContext&&(s.context=s.pendingContext,s.pendingContext=null),(e===null||e.child===null)&&(xs(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,xt!==null&&(Za(xt),xt=null))),Wa(e,t),$e(t),null;case 5:_l(t);var o=vn(Vr.current);if(n=t.type,e!==null&&t.stateNode!=null)bu(e,t,n,s,o),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!s){if(t.stateNode===null)throw Error(_(166));return $e(t),null}if(e=vn(At.current),xs(t)){s=t.stateNode,n=t.type;var a=t.memoizedProps;switch(s[Ct]=t,s[Gr]=a,e=(t.mode&1)!==0,n){case"dialog":ce("cancel",s),ce("close",s);break;case"iframe":case"object":case"embed":ce("load",s);break;case"video":case"audio":for(o=0;o<jr.length;o++)ce(jr[o],s);break;case"source":ce("error",s);break;case"img":case"image":case"link":ce("error",s),ce("load",s);break;case"details":ce("toggle",s);break;case"input":xi(s,a),ce("invalid",s);break;case"select":s._wrapperState={wasMultiple:!!a.multiple},ce("invalid",s);break;case"textarea":vi(s,a),ce("invalid",s)}va(n,a),o=null;for(var l in a)if(a.hasOwnProperty(l)){var i=a[l];l==="children"?typeof i=="string"?s.textContent!==i&&(a.suppressHydrationWarning!==!0&&fs(s.textContent,i,e),o=["children",i]):typeof i=="number"&&s.textContent!==""+i&&(a.suppressHydrationWarning!==!0&&fs(s.textContent,i,e),o=["children",""+i]):Rr.hasOwnProperty(l)&&i!=null&&l==="onScroll"&&ce("scroll",s)}switch(n){case"input":ls(s),gi(s,a,!0);break;case"textarea":ls(s),yi(s);break;case"select":case"option":break;default:typeof a.onClick=="function"&&(s.onclick=Vs)}s=o,t.updateQueue=s,s!==null&&(t.flags|=4)}else{l=o.nodeType===9?o:o.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=rd(n)),e==="http://www.w3.org/1999/xhtml"?n==="script"?(e=l.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof s.is=="string"?e=l.createElement(n,{is:s.is}):(e=l.createElement(n),n==="select"&&(l=e,s.multiple?l.multiple=!0:s.size&&(l.size=s.size))):e=l.createElementNS(e,n),e[Ct]=t,e[Gr]=s,ku(e,t,!1,!1),t.stateNode=e;e:{switch(l=ya(n,s),n){case"dialog":ce("cancel",e),ce("close",e),o=s;break;case"iframe":case"object":case"embed":ce("load",e),o=s;break;case"video":case"audio":for(o=0;o<jr.length;o++)ce(jr[o],e);o=s;break;case"source":ce("error",e),o=s;break;case"img":case"image":case"link":ce("error",e),ce("load",e),o=s;break;case"details":ce("toggle",e),o=s;break;case"input":xi(e,s),o=ma(e,s),ce("invalid",e);break;case"option":o=s;break;case"select":e._wrapperState={wasMultiple:!!s.multiple},o=ve({},s,{value:void 0}),ce("invalid",e);break;case"textarea":vi(e,s),o=xa(e,s),ce("invalid",e);break;default:o=s}va(n,o),i=o;for(a in i)if(i.hasOwnProperty(a)){var c=i[a];a==="style"?ad(e,c):a==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,c!=null&&sd(e,c)):a==="children"?typeof c=="string"?(n!=="textarea"||c!=="")&&Pr(e,c):typeof c=="number"&&Pr(e,""+c):a!=="suppressContentEditableWarning"&&a!=="suppressHydrationWarning"&&a!=="autoFocus"&&(Rr.hasOwnProperty(a)?c!=null&&a==="onScroll"&&ce("scroll",e):c!=null&&ml(e,a,c,l))}switch(n){case"input":ls(e),gi(e,s,!1);break;case"textarea":ls(e),yi(e);break;case"option":s.value!=null&&e.setAttribute("value",""+an(s.value));break;case"select":e.multiple=!!s.multiple,a=s.value,a!=null?Vn(e,!!s.multiple,a,!1):s.defaultValue!=null&&Vn(e,!!s.multiple,s.defaultValue,!0);break;default:typeof o.onClick=="function"&&(e.onclick=Vs)}switch(n){case"button":case"input":case"select":case"textarea":s=!!s.autoFocus;break e;case"img":s=!0;break e;default:s=!1}}s&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return $e(t),null;case 6:if(e&&t.stateNode!=null)Du(e,t,e.memoizedProps,s);else{if(typeof s!="string"&&t.stateNode===null)throw Error(_(166));if(n=vn(Vr.current),vn(At.current),xs(t)){if(s=t.stateNode,n=t.memoizedProps,s[Ct]=t,(a=s.nodeValue!==n)&&(e=nt,e!==null))switch(e.tag){case 3:fs(s.nodeValue,n,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&fs(s.nodeValue,n,(e.mode&1)!==0)}a&&(t.flags|=4)}else s=(n.nodeType===9?n:n.ownerDocument).createTextNode(s),s[Ct]=t,t.stateNode=s}return $e(t),null;case 13:if(de(fe),s=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(ue&&tt!==null&&t.mode&1&&!(t.flags&128))Qd(),Jn(),t.flags|=98560,a=!1;else if(a=xs(t),s!==null&&s.dehydrated!==null){if(e===null){if(!a)throw Error(_(318));if(a=t.memoizedState,a=a!==null?a.dehydrated:null,!a)throw Error(_(317));a[Ct]=t}else Jn(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;$e(t),a=!1}else xt!==null&&(Za(xt),xt=null),a=!0;if(!a)return t.flags&65536?t:null}return t.flags&128?(t.lanes=n,t):(s=s!==null,s!==(e!==null&&e.memoizedState!==null)&&s&&(t.child.flags|=8192,t.mode&1&&(e===null||fe.current&1?De===0&&(De=3):ql())),t.updateQueue!==null&&(t.flags|=4),$e(t),null);case 4:return er(),Wa(e,t),e===null&&zr(t.stateNode.containerInfo),$e(t),null;case 10:return Rl(t.type._context),$e(t),null;case 17:return Ye(t.type)&&Ws(),$e(t),null;case 19:if(de(fe),a=t.memoizedState,a===null)return $e(t),null;if(s=(t.flags&128)!==0,l=a.rendering,l===null)if(s)xr(a,!1);else{if(De!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(l=Js(e),l!==null){for(t.flags|=128,xr(a,!1),s=l.updateQueue,s!==null&&(t.updateQueue=s,t.flags|=4),t.subtreeFlags=0,s=n,n=t.child;n!==null;)a=n,e=s,a.flags&=14680066,l=a.alternate,l===null?(a.childLanes=0,a.lanes=e,a.child=null,a.subtreeFlags=0,a.memoizedProps=null,a.memoizedState=null,a.updateQueue=null,a.dependencies=null,a.stateNode=null):(a.childLanes=l.childLanes,a.lanes=l.lanes,a.child=l.child,a.subtreeFlags=0,a.deletions=null,a.memoizedProps=l.memoizedProps,a.memoizedState=l.memoizedState,a.updateQueue=l.updateQueue,a.type=l.type,e=l.dependencies,a.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return ie(fe,fe.current&1|2),t.child}e=e.sibling}a.tail!==null&&je()>nr&&(t.flags|=128,s=!0,xr(a,!1),t.lanes=4194304)}else{if(!s)if(e=Js(l),e!==null){if(t.flags|=128,s=!0,n=e.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),xr(a,!0),a.tail===null&&a.tailMode==="hidden"&&!l.alternate&&!ue)return $e(t),null}else 2*je()-a.renderingStartTime>nr&&n!==1073741824&&(t.flags|=128,s=!0,xr(a,!1),t.lanes=4194304);a.isBackwards?(l.sibling=t.child,t.child=l):(n=a.last,n!==null?n.sibling=l:t.child=l,a.last=l)}return a.tail!==null?(t=a.tail,a.rendering=t,a.tail=t.sibling,a.renderingStartTime=je(),t.sibling=null,n=fe.current,ie(fe,s?n&1|2:n&1),t):($e(t),null);case 22:case 23:return Xl(),s=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==s&&(t.flags|=8192),s&&t.mode&1?et&1073741824&&($e(t),t.subtreeFlags&6&&(t.flags|=8192)):$e(t),null;case 24:return null;case 25:return null}throw Error(_(156,t.tag))}function Nh(e,t){switch(bl(t),t.tag){case 1:return Ye(t.type)&&Ws(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return er(),de(qe),de(Ge),Ml(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return _l(t),null;case 13:if(de(fe),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(_(340));Jn()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return de(fe),null;case 4:return er(),null;case 10:return Rl(t.type._context),null;case 22:case 23:return Xl(),null;case 24:return null;default:return null}}var ys=!1,Be=!1,Sh=typeof WeakSet=="function"?WeakSet:Set,U=null;function Gn(e,t){var n=e.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(s){ye(e,t,s)}else n.current=null}function Ha(e,t,n){try{n()}catch(s){ye(e,t,s)}}var ic=!1;function Ch(e,t){if(Da=Bs,e=Ld(),Al(e)){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{n=(n=e.ownerDocument)&&n.defaultView||window;var s=n.getSelection&&n.getSelection();if(s&&s.rangeCount!==0){n=s.anchorNode;var o=s.anchorOffset,a=s.focusNode;s=s.focusOffset;try{n.nodeType,a.nodeType}catch{n=null;break e}var l=0,i=-1,c=-1,d=0,x=0,p=e,u=null;t:for(;;){for(var v;p!==n||o!==0&&p.nodeType!==3||(i=l+o),p!==a||s!==0&&p.nodeType!==3||(c=l+s),p.nodeType===3&&(l+=p.nodeValue.length),(v=p.firstChild)!==null;)u=p,p=v;for(;;){if(p===e)break t;if(u===n&&++d===o&&(i=l),u===a&&++x===s&&(c=l),(v=p.nextSibling)!==null)break;p=u,u=p.parentNode}p=v}n=i===-1||c===-1?null:{start:i,end:c}}else n=null}n=n||{start:0,end:0}}else n=null;for(Oa={focusedElem:e,selectionRange:n},Bs=!1,U=t;U!==null;)if(t=U,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,U=e;else for(;U!==null;){t=U;try{var j=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(j!==null){var S=j.memoizedProps,E=j.memoizedState,m=t.stateNode,h=m.getSnapshotBeforeUpdate(t.elementType===t.type?S:ht(t.type,S),E);m.__reactInternalSnapshotBeforeUpdate=h}break;case 3:var g=t.stateNode.containerInfo;g.nodeType===1?g.textContent="":g.nodeType===9&&g.documentElement&&g.removeChild(g.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(_(163))}}catch(C){ye(t,t.return,C)}if(e=t.sibling,e!==null){e.return=t.return,U=e;break}U=t.return}return j=ic,ic=!1,j}function br(e,t,n){var s=t.updateQueue;if(s=s!==null?s.lastEffect:null,s!==null){var o=s=s.next;do{if((o.tag&e)===e){var a=o.destroy;o.destroy=void 0,a!==void 0&&Ha(t,n,a)}o=o.next}while(o!==s)}}function vo(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var n=t=t.next;do{if((n.tag&e)===e){var s=n.create;n.destroy=s()}n=n.next}while(n!==t)}}function Qa(e){var t=e.ref;if(t!==null){var n=e.stateNode;switch(e.tag){case 5:e=n;break;default:e=n}typeof t=="function"?t(e):t.current=e}}function Ou(e){var t=e.alternate;t!==null&&(e.alternate=null,Ou(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[Ct],delete t[Gr],delete t[Pa],delete t[ah],delete t[lh])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function Iu(e){return e.tag===5||e.tag===3||e.tag===4}function cc(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||Iu(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function Xa(e,t,n){var s=e.tag;if(s===5||s===6)e=e.stateNode,t?n.nodeType===8?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(n.nodeType===8?(t=n.parentNode,t.insertBefore(e,n)):(t=n,t.appendChild(e)),n=n._reactRootContainer,n!=null||t.onclick!==null||(t.onclick=Vs));else if(s!==4&&(e=e.child,e!==null))for(Xa(e,t,n),e=e.sibling;e!==null;)Xa(e,t,n),e=e.sibling}function qa(e,t,n){var s=e.tag;if(s===5||s===6)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(s!==4&&(e=e.child,e!==null))for(qa(e,t,n),e=e.sibling;e!==null;)qa(e,t,n),e=e.sibling}var Pe=null,ft=!1;function Bt(e,t,n){for(n=n.child;n!==null;)Ru(e,t,n),n=n.sibling}function Ru(e,t,n){if(Et&&typeof Et.onCommitFiberUnmount=="function")try{Et.onCommitFiberUnmount(co,n)}catch{}switch(n.tag){case 5:Be||Gn(n,t);case 6:var s=Pe,o=ft;Pe=null,Bt(e,t,n),Pe=s,ft=o,Pe!==null&&(ft?(e=Pe,n=n.stateNode,e.nodeType===8?e.parentNode.removeChild(n):e.removeChild(n)):Pe.removeChild(n.stateNode));break;case 18:Pe!==null&&(ft?(e=Pe,n=n.stateNode,e.nodeType===8?Ho(e.parentNode,n):e.nodeType===1&&Ho(e,n),Mr(e)):Ho(Pe,n.stateNode));break;case 4:s=Pe,o=ft,Pe=n.stateNode.containerInfo,ft=!0,Bt(e,t,n),Pe=s,ft=o;break;case 0:case 11:case 14:case 15:if(!Be&&(s=n.updateQueue,s!==null&&(s=s.lastEffect,s!==null))){o=s=s.next;do{var a=o,l=a.destroy;a=a.tag,l!==void 0&&(a&2||a&4)&&Ha(n,t,l),o=o.next}while(o!==s)}Bt(e,t,n);break;case 1:if(!Be&&(Gn(n,t),s=n.stateNode,typeof s.componentWillUnmount=="function"))try{s.props=n.memoizedProps,s.state=n.memoizedState,s.componentWillUnmount()}catch(i){ye(n,t,i)}Bt(e,t,n);break;case 21:Bt(e,t,n);break;case 22:n.mode&1?(Be=(s=Be)||n.memoizedState!==null,Bt(e,t,n),Be=s):Bt(e,t,n);break;default:Bt(e,t,n)}}function dc(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var n=e.stateNode;n===null&&(n=e.stateNode=new Sh),t.forEach(function(s){var o=Ph.bind(null,e,s);n.has(s)||(n.add(s),s.then(o,o))})}}function mt(e,t){var n=t.deletions;if(n!==null)for(var s=0;s<n.length;s++){var o=n[s];try{var a=e,l=t,i=l;e:for(;i!==null;){switch(i.tag){case 5:Pe=i.stateNode,ft=!1;break e;case 3:Pe=i.stateNode.containerInfo,ft=!0;break e;case 4:Pe=i.stateNode.containerInfo,ft=!0;break e}i=i.return}if(Pe===null)throw Error(_(160));Ru(a,l,o),Pe=null,ft=!1;var c=o.alternate;c!==null&&(c.return=null),o.return=null}catch(d){ye(o,t,d)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)Pu(t,e),t=t.sibling}function Pu(e,t){var n=e.alternate,s=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(mt(t,e),jt(e),s&4){try{br(3,e,e.return),vo(3,e)}catch(S){ye(e,e.return,S)}try{br(5,e,e.return)}catch(S){ye(e,e.return,S)}}break;case 1:mt(t,e),jt(e),s&512&&n!==null&&Gn(n,n.return);break;case 5:if(mt(t,e),jt(e),s&512&&n!==null&&Gn(n,n.return),e.flags&32){var o=e.stateNode;try{Pr(o,"")}catch(S){ye(e,e.return,S)}}if(s&4&&(o=e.stateNode,o!=null)){var a=e.memoizedProps,l=n!==null?n.memoizedProps:a,i=e.type,c=e.updateQueue;if(e.updateQueue=null,c!==null)try{i==="input"&&a.type==="radio"&&a.name!=null&&td(o,a),ya(i,l);var d=ya(i,a);for(l=0;l<c.length;l+=2){var x=c[l],p=c[l+1];x==="style"?ad(o,p):x==="dangerouslySetInnerHTML"?sd(o,p):x==="children"?Pr(o,p):ml(o,x,p,d)}switch(i){case"input":ha(o,a);break;case"textarea":nd(o,a);break;case"select":var u=o._wrapperState.wasMultiple;o._wrapperState.wasMultiple=!!a.multiple;var v=a.value;v!=null?Vn(o,!!a.multiple,v,!1):u!==!!a.multiple&&(a.defaultValue!=null?Vn(o,!!a.multiple,a.defaultValue,!0):Vn(o,!!a.multiple,a.multiple?[]:"",!1))}o[Gr]=a}catch(S){ye(e,e.return,S)}}break;case 6:if(mt(t,e),jt(e),s&4){if(e.stateNode===null)throw Error(_(162));o=e.stateNode,a=e.memoizedProps;try{o.nodeValue=a}catch(S){ye(e,e.return,S)}}break;case 3:if(mt(t,e),jt(e),s&4&&n!==null&&n.memoizedState.isDehydrated)try{Mr(t.containerInfo)}catch(S){ye(e,e.return,S)}break;case 4:mt(t,e),jt(e);break;case 13:mt(t,e),jt(e),o=e.child,o.flags&8192&&(a=o.memoizedState!==null,o.stateNode.isHidden=a,!a||o.alternate!==null&&o.alternate.memoizedState!==null||(Hl=je())),s&4&&dc(e);break;case 22:if(x=n!==null&&n.memoizedState!==null,e.mode&1?(Be=(d=Be)||x,mt(t,e),Be=d):mt(t,e),jt(e),s&8192){if(d=e.memoizedState!==null,(e.stateNode.isHidden=d)&&!x&&e.mode&1)for(U=e,x=e.child;x!==null;){for(p=U=x;U!==null;){switch(u=U,v=u.child,u.tag){case 0:case 11:case 14:case 15:br(4,u,u.return);break;case 1:Gn(u,u.return);var j=u.stateNode;if(typeof j.componentWillUnmount=="function"){s=u,n=u.return;try{t=s,j.props=t.memoizedProps,j.state=t.memoizedState,j.componentWillUnmount()}catch(S){ye(s,n,S)}}break;case 5:Gn(u,u.return);break;case 22:if(u.memoizedState!==null){pc(p);continue}}v!==null?(v.return=u,U=v):pc(p)}x=x.sibling}e:for(x=null,p=e;;){if(p.tag===5){if(x===null){x=p;try{o=p.stateNode,d?(a=o.style,typeof a.setProperty=="function"?a.setProperty("display","none","important"):a.display="none"):(i=p.stateNode,c=p.memoizedProps.style,l=c!=null&&c.hasOwnProperty("display")?c.display:null,i.style.display=od("display",l))}catch(S){ye(e,e.return,S)}}}else if(p.tag===6){if(x===null)try{p.stateNode.nodeValue=d?"":p.memoizedProps}catch(S){ye(e,e.return,S)}}else if((p.tag!==22&&p.tag!==23||p.memoizedState===null||p===e)&&p.child!==null){p.child.return=p,p=p.child;continue}if(p===e)break e;for(;p.sibling===null;){if(p.return===null||p.return===e)break e;x===p&&(x=null),p=p.return}x===p&&(x=null),p.sibling.return=p.return,p=p.sibling}}break;case 19:mt(t,e),jt(e),s&4&&dc(e);break;case 21:break;default:mt(t,e),jt(e)}}function jt(e){var t=e.flags;if(t&2){try{e:{for(var n=e.return;n!==null;){if(Iu(n)){var s=n;break e}n=n.return}throw Error(_(160))}switch(s.tag){case 5:var o=s.stateNode;s.flags&32&&(Pr(o,""),s.flags&=-33);var a=cc(e);qa(e,a,o);break;case 3:case 4:var l=s.stateNode.containerInfo,i=cc(e);Xa(e,i,l);break;default:throw Error(_(161))}}catch(c){ye(e,e.return,c)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function Eh(e,t,n){U=e,Lu(e)}function Lu(e,t,n){for(var s=(e.mode&1)!==0;U!==null;){var o=U,a=o.child;if(o.tag===22&&s){var l=o.memoizedState!==null||ys;if(!l){var i=o.alternate,c=i!==null&&i.memoizedState!==null||Be;i=ys;var d=Be;if(ys=l,(Be=c)&&!d)for(U=o;U!==null;)l=U,c=l.child,l.tag===22&&l.memoizedState!==null?mc(o):c!==null?(c.return=l,U=c):mc(o);for(;a!==null;)U=a,Lu(a),a=a.sibling;U=o,ys=i,Be=d}uc(e)}else o.subtreeFlags&8772&&a!==null?(a.return=o,U=a):uc(e)}}function uc(e){for(;U!==null;){var t=U;if(t.flags&8772){var n=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:Be||vo(5,t);break;case 1:var s=t.stateNode;if(t.flags&4&&!Be)if(n===null)s.componentDidMount();else{var o=t.elementType===t.type?n.memoizedProps:ht(t.type,n.memoizedProps);s.componentDidUpdate(o,n.memoizedState,s.__reactInternalSnapshotBeforeUpdate)}var a=t.updateQueue;a!==null&&qi(t,a,s);break;case 3:var l=t.updateQueue;if(l!==null){if(n=null,t.child!==null)switch(t.child.tag){case 5:n=t.child.stateNode;break;case 1:n=t.child.stateNode}qi(t,l,n)}break;case 5:var i=t.stateNode;if(n===null&&t.flags&4){n=i;var c=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&n.focus();break;case"img":c.src&&(n.src=c.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var d=t.alternate;if(d!==null){var x=d.memoizedState;if(x!==null){var p=x.dehydrated;p!==null&&Mr(p)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(_(163))}Be||t.flags&512&&Qa(t)}catch(u){ye(t,t.return,u)}}if(t===e){U=null;break}if(n=t.sibling,n!==null){n.return=t.return,U=n;break}U=t.return}}function pc(e){for(;U!==null;){var t=U;if(t===e){U=null;break}var n=t.sibling;if(n!==null){n.return=t.return,U=n;break}U=t.return}}function mc(e){for(;U!==null;){var t=U;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{vo(4,t)}catch(c){ye(t,n,c)}break;case 1:var s=t.stateNode;if(typeof s.componentDidMount=="function"){var o=t.return;try{s.componentDidMount()}catch(c){ye(t,o,c)}}var a=t.return;try{Qa(t)}catch(c){ye(t,a,c)}break;case 5:var l=t.return;try{Qa(t)}catch(c){ye(t,l,c)}}}catch(c){ye(t,t.return,c)}if(t===e){U=null;break}var i=t.sibling;if(i!==null){i.return=t.return,U=i;break}U=t.return}}var Ah=Math.ceil,to=Mt.ReactCurrentDispatcher,Vl=Mt.ReactCurrentOwner,dt=Mt.ReactCurrentBatchConfig,te=0,Ie=null,Ee=null,Le=0,et=0,Un=dn(0),De=0,Xr=null,En=0,yo=0,Wl=0,Dr=null,Qe=null,Hl=0,nr=1/0,bt=null,no=!1,Ya=null,nn=null,ws=!1,qt=null,ro=0,Or=0,Ka=null,Ps=-1,Ls=0;function Ve(){return te&6?je():Ps!==-1?Ps:Ps=je()}function rn(e){return e.mode&1?te&2&&Le!==0?Le&-Le:ch.transition!==null?(Ls===0&&(Ls=vd()),Ls):(e=re,e!==0||(e=window.event,e=e===void 0?16:Ed(e.type)),e):1}function vt(e,t,n,s){if(50<Or)throw Or=0,Ka=null,Error(_(185));Zr(e,n,s),(!(te&2)||e!==Ie)&&(e===Ie&&(!(te&2)&&(yo|=n),De===4&&Qt(e,Le)),Ke(e,s),n===1&&te===0&&!(t.mode&1)&&(nr=je()+500,fo&&un()))}function Ke(e,t){var n=e.callbackNode;cm(e,t);var s=zs(e,e===Ie?Le:0);if(s===0)n!==null&&Ni(n),e.callbackNode=null,e.callbackPriority=0;else if(t=s&-s,e.callbackPriority!==t){if(n!=null&&Ni(n),t===1)e.tag===0?ih(hc.bind(null,e)):Vd(hc.bind(null,e)),sh(function(){!(te&6)&&un()}),n=null;else{switch(yd(s)){case 1:n=vl;break;case 4:n=xd;break;case 16:n=$s;break;case 536870912:n=gd;break;default:n=$s}n=Gu(n,Tu.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function Tu(e,t){if(Ps=-1,Ls=0,te&6)throw Error(_(327));var n=e.callbackNode;if(qn()&&e.callbackNode!==n)return null;var s=zs(e,e===Ie?Le:0);if(s===0)return null;if(s&30||s&e.expiredLanes||t)t=so(e,s);else{t=s;var o=te;te|=2;var a=Mu();(Ie!==e||Le!==t)&&(bt=null,nr=je()+500,yn(e,t));do try{Dh();break}catch(i){_u(e,i)}while(!0);Il(),to.current=a,te=o,Ee!==null?t=0:(Ie=null,Le=0,t=De)}if(t!==0){if(t===2&&(o=Ca(e),o!==0&&(s=o,t=Ja(e,o))),t===1)throw n=Xr,yn(e,0),Qt(e,s),Ke(e,je()),n;if(t===6)Qt(e,s);else{if(o=e.current.alternate,!(s&30)&&!kh(o)&&(t=so(e,s),t===2&&(a=Ca(e),a!==0&&(s=a,t=Ja(e,a))),t===1))throw n=Xr,yn(e,0),Qt(e,s),Ke(e,je()),n;switch(e.finishedWork=o,e.finishedLanes=s,t){case 0:case 1:throw Error(_(345));case 2:fn(e,Qe,bt);break;case 3:if(Qt(e,s),(s&130023424)===s&&(t=Hl+500-je(),10<t)){if(zs(e,0)!==0)break;if(o=e.suspendedLanes,(o&s)!==s){Ve(),e.pingedLanes|=e.suspendedLanes&o;break}e.timeoutHandle=Ra(fn.bind(null,e,Qe,bt),t);break}fn(e,Qe,bt);break;case 4:if(Qt(e,s),(s&4194240)===s)break;for(t=e.eventTimes,o=-1;0<s;){var l=31-gt(s);a=1<<l,l=t[l],l>o&&(o=l),s&=~a}if(s=o,s=je()-s,s=(120>s?120:480>s?480:1080>s?1080:1920>s?1920:3e3>s?3e3:4320>s?4320:1960*Ah(s/1960))-s,10<s){e.timeoutHandle=Ra(fn.bind(null,e,Qe,bt),s);break}fn(e,Qe,bt);break;case 5:fn(e,Qe,bt);break;default:throw Error(_(329))}}}return Ke(e,je()),e.callbackNode===n?Tu.bind(null,e):null}function Ja(e,t){var n=Dr;return e.current.memoizedState.isDehydrated&&(yn(e,t).flags|=256),e=so(e,t),e!==2&&(t=Qe,Qe=n,t!==null&&Za(t)),e}function Za(e){Qe===null?Qe=e:Qe.push.apply(Qe,e)}function kh(e){for(var t=e;;){if(t.flags&16384){var n=t.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var s=0;s<n.length;s++){var o=n[s],a=o.getSnapshot;o=o.value;try{if(!yt(a(),o))return!1}catch{return!1}}}if(n=t.child,t.subtreeFlags&16384&&n!==null)n.return=t,t=n;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function Qt(e,t){for(t&=~Wl,t&=~yo,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-gt(t),s=1<<n;e[n]=-1,t&=~s}}function hc(e){if(te&6)throw Error(_(327));qn();var t=zs(e,0);if(!(t&1))return Ke(e,je()),null;var n=so(e,t);if(e.tag!==0&&n===2){var s=Ca(e);s!==0&&(t=s,n=Ja(e,s))}if(n===1)throw n=Xr,yn(e,0),Qt(e,t),Ke(e,je()),n;if(n===6)throw Error(_(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,fn(e,Qe,bt),Ke(e,je()),null}function Ql(e,t){var n=te;te|=1;try{return e(t)}finally{te=n,te===0&&(nr=je()+500,fo&&un())}}function An(e){qt!==null&&qt.tag===0&&!(te&6)&&qn();var t=te;te|=1;var n=dt.transition,s=re;try{if(dt.transition=null,re=1,e)return e()}finally{re=s,dt.transition=n,te=t,!(te&6)&&un()}}function Xl(){et=Un.current,de(Un)}function yn(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(n!==-1&&(e.timeoutHandle=-1,rh(n)),Ee!==null)for(n=Ee.return;n!==null;){var s=n;switch(bl(s),s.tag){case 1:s=s.type.childContextTypes,s!=null&&Ws();break;case 3:er(),de(qe),de(Ge),Ml();break;case 5:_l(s);break;case 4:er();break;case 13:de(fe);break;case 19:de(fe);break;case 10:Rl(s.type._context);break;case 22:case 23:Xl()}n=n.return}if(Ie=e,Ee=e=sn(e.current,null),Le=et=t,De=0,Xr=null,Wl=yo=En=0,Qe=Dr=null,gn!==null){for(t=0;t<gn.length;t++)if(n=gn[t],s=n.interleaved,s!==null){n.interleaved=null;var o=s.next,a=n.pending;if(a!==null){var l=a.next;a.next=o,s.next=l}n.pending=s}gn=null}return e}function _u(e,t){do{var n=Ee;try{if(Il(),Os.current=eo,Zs){for(var s=xe.memoizedState;s!==null;){var o=s.queue;o!==null&&(o.pending=null),s=s.next}Zs=!1}if(Cn=0,Oe=be=xe=null,kr=!1,Wr=0,Vl.current=null,n===null||n.return===null){De=1,Xr=t,Ee=null;break}e:{var a=e,l=n.return,i=n,c=t;if(t=Le,i.flags|=32768,c!==null&&typeof c=="object"&&typeof c.then=="function"){var d=c,x=i,p=x.tag;if(!(x.mode&1)&&(p===0||p===11||p===15)){var u=x.alternate;u?(x.updateQueue=u.updateQueue,x.memoizedState=u.memoizedState,x.lanes=u.lanes):(x.updateQueue=null,x.memoizedState=null)}var v=tc(l);if(v!==null){v.flags&=-257,nc(v,l,i,a,t),v.mode&1&&ec(a,d,t),t=v,c=d;var j=t.updateQueue;if(j===null){var S=new Set;S.add(c),t.updateQueue=S}else j.add(c);break e}else{if(!(t&1)){ec(a,d,t),ql();break e}c=Error(_(426))}}else if(ue&&i.mode&1){var E=tc(l);if(E!==null){!(E.flags&65536)&&(E.flags|=256),nc(E,l,i,a,t),Dl(tr(c,i));break e}}a=c=tr(c,i),De!==4&&(De=2),Dr===null?Dr=[a]:Dr.push(a),a=l;do{switch(a.tag){case 3:a.flags|=65536,t&=-t,a.lanes|=t;var m=yu(a,c,t);Xi(a,m);break e;case 1:i=c;var h=a.type,g=a.stateNode;if(!(a.flags&128)&&(typeof h.getDerivedStateFromError=="function"||g!==null&&typeof g.componentDidCatch=="function"&&(nn===null||!nn.has(g)))){a.flags|=65536,t&=-t,a.lanes|=t;var C=wu(a,i,t);Xi(a,C);break e}}a=a.return}while(a!==null)}$u(n)}catch(b){t=b,Ee===n&&n!==null&&(Ee=n=n.return);continue}break}while(!0)}function Mu(){var e=to.current;return to.current=eo,e===null?eo:e}function ql(){(De===0||De===3||De===2)&&(De=4),Ie===null||!(En&268435455)&&!(yo&268435455)||Qt(Ie,Le)}function so(e,t){var n=te;te|=2;var s=Mu();(Ie!==e||Le!==t)&&(bt=null,yn(e,t));do try{bh();break}catch(o){_u(e,o)}while(!0);if(Il(),te=n,to.current=s,Ee!==null)throw Error(_(261));return Ie=null,Le=0,De}function bh(){for(;Ee!==null;)Fu(Ee)}function Dh(){for(;Ee!==null&&!em();)Fu(Ee)}function Fu(e){var t=Bu(e.alternate,e,et);e.memoizedProps=e.pendingProps,t===null?$u(e):Ee=t,Vl.current=null}function $u(e){var t=e;do{var n=t.alternate;if(e=t.return,t.flags&32768){if(n=Nh(n,t),n!==null){n.flags&=32767,Ee=n;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{De=6,Ee=null;return}}else if(n=jh(n,t,et),n!==null){Ee=n;return}if(t=t.sibling,t!==null){Ee=t;return}Ee=t=e}while(t!==null);De===0&&(De=5)}function fn(e,t,n){var s=re,o=dt.transition;try{dt.transition=null,re=1,Oh(e,t,n,s)}finally{dt.transition=o,re=s}return null}function Oh(e,t,n,s){do qn();while(qt!==null);if(te&6)throw Error(_(327));n=e.finishedWork;var o=e.finishedLanes;if(n===null)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(_(177));e.callbackNode=null,e.callbackPriority=0;var a=n.lanes|n.childLanes;if(dm(e,a),e===Ie&&(Ee=Ie=null,Le=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||ws||(ws=!0,Gu($s,function(){return qn(),null})),a=(n.flags&15990)!==0,n.subtreeFlags&15990||a){a=dt.transition,dt.transition=null;var l=re;re=1;var i=te;te|=4,Vl.current=null,Ch(e,n),Pu(n,e),Ym(Oa),Bs=!!Da,Oa=Da=null,e.current=n,Eh(n),tm(),te=i,re=l,dt.transition=a}else e.current=n;if(ws&&(ws=!1,qt=e,ro=o),a=e.pendingLanes,a===0&&(nn=null),sm(n.stateNode),Ke(e,je()),t!==null)for(s=e.onRecoverableError,n=0;n<t.length;n++)o=t[n],s(o.value,{componentStack:o.stack,digest:o.digest});if(no)throw no=!1,e=Ya,Ya=null,e;return ro&1&&e.tag!==0&&qn(),a=e.pendingLanes,a&1?e===Ka?Or++:(Or=0,Ka=e):Or=0,un(),null}function qn(){if(qt!==null){var e=yd(ro),t=dt.transition,n=re;try{if(dt.transition=null,re=16>e?16:e,qt===null)var s=!1;else{if(e=qt,qt=null,ro=0,te&6)throw Error(_(331));var o=te;for(te|=4,U=e.current;U!==null;){var a=U,l=a.child;if(U.flags&16){var i=a.deletions;if(i!==null){for(var c=0;c<i.length;c++){var d=i[c];for(U=d;U!==null;){var x=U;switch(x.tag){case 0:case 11:case 15:br(8,x,a)}var p=x.child;if(p!==null)p.return=x,U=p;else for(;U!==null;){x=U;var u=x.sibling,v=x.return;if(Ou(x),x===d){U=null;break}if(u!==null){u.return=v,U=u;break}U=v}}}var j=a.alternate;if(j!==null){var S=j.child;if(S!==null){j.child=null;do{var E=S.sibling;S.sibling=null,S=E}while(S!==null)}}U=a}}if(a.subtreeFlags&2064&&l!==null)l.return=a,U=l;else e:for(;U!==null;){if(a=U,a.flags&2048)switch(a.tag){case 0:case 11:case 15:br(9,a,a.return)}var m=a.sibling;if(m!==null){m.return=a.return,U=m;break e}U=a.return}}var h=e.current;for(U=h;U!==null;){l=U;var g=l.child;if(l.subtreeFlags&2064&&g!==null)g.return=l,U=g;else e:for(l=h;U!==null;){if(i=U,i.flags&2048)try{switch(i.tag){case 0:case 11:case 15:vo(9,i)}}catch(b){ye(i,i.return,b)}if(i===l){U=null;break e}var C=i.sibling;if(C!==null){C.return=i.return,U=C;break e}U=i.return}}if(te=o,un(),Et&&typeof Et.onPostCommitFiberRoot=="function")try{Et.onPostCommitFiberRoot(co,e)}catch{}s=!0}return s}finally{re=n,dt.transition=t}}return!1}function fc(e,t,n){t=tr(n,t),t=yu(e,t,1),e=tn(e,t,1),t=Ve(),e!==null&&(Zr(e,1,t),Ke(e,t))}function ye(e,t,n){if(e.tag===3)fc(e,e,n);else for(;t!==null;){if(t.tag===3){fc(t,e,n);break}else if(t.tag===1){var s=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof s.componentDidCatch=="function"&&(nn===null||!nn.has(s))){e=tr(n,e),e=wu(t,e,1),t=tn(t,e,1),e=Ve(),t!==null&&(Zr(t,1,e),Ke(t,e));break}}t=t.return}}function Ih(e,t,n){var s=e.pingCache;s!==null&&s.delete(t),t=Ve(),e.pingedLanes|=e.suspendedLanes&n,Ie===e&&(Le&n)===n&&(De===4||De===3&&(Le&130023424)===Le&&500>je()-Hl?yn(e,0):Wl|=n),Ke(e,t)}function zu(e,t){t===0&&(e.mode&1?(t=ds,ds<<=1,!(ds&130023424)&&(ds=4194304)):t=1);var n=Ve();e=Tt(e,t),e!==null&&(Zr(e,t,n),Ke(e,n))}function Rh(e){var t=e.memoizedState,n=0;t!==null&&(n=t.retryLane),zu(e,n)}function Ph(e,t){var n=0;switch(e.tag){case 13:var s=e.stateNode,o=e.memoizedState;o!==null&&(n=o.retryLane);break;case 19:s=e.stateNode;break;default:throw Error(_(314))}s!==null&&s.delete(t),zu(e,n)}var Bu;Bu=function(e,t,n){if(e!==null)if(e.memoizedProps!==t.pendingProps||qe.current)Xe=!0;else{if(!(e.lanes&n)&&!(t.flags&128))return Xe=!1,wh(e,t,n);Xe=!!(e.flags&131072)}else Xe=!1,ue&&t.flags&1048576&&Wd(t,Xs,t.index);switch(t.lanes=0,t.tag){case 2:var s=t.type;Rs(e,t),e=t.pendingProps;var o=Kn(t,Ge.current);Xn(t,n),o=$l(null,t,s,e,o,n);var a=zl();return t.flags|=1,typeof o=="object"&&o!==null&&typeof o.render=="function"&&o.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Ye(s)?(a=!0,Hs(t)):a=!1,t.memoizedState=o.state!==null&&o.state!==void 0?o.state:null,Ll(t),o.updater=go,t.stateNode=o,o._reactInternals=t,$a(t,s,e,n),t=Ga(null,t,s,!0,a,n)):(t.tag=0,ue&&a&&kl(t),Ue(null,t,o,n),t=t.child),t;case 16:s=t.elementType;e:{switch(Rs(e,t),e=t.pendingProps,o=s._init,s=o(s._payload),t.type=s,o=t.tag=Th(s),e=ht(s,e),o){case 0:t=Ba(null,t,s,e,n);break e;case 1:t=oc(null,t,s,e,n);break e;case 11:t=rc(null,t,s,e,n);break e;case 14:t=sc(null,t,s,ht(s.type,e),n);break e}throw Error(_(306,s,""))}return t;case 0:return s=t.type,o=t.pendingProps,o=t.elementType===s?o:ht(s,o),Ba(e,t,s,o,n);case 1:return s=t.type,o=t.pendingProps,o=t.elementType===s?o:ht(s,o),oc(e,t,s,o,n);case 3:e:{if(Cu(t),e===null)throw Error(_(387));s=t.pendingProps,a=t.memoizedState,o=a.element,Kd(e,t),Ks(t,s,null,n);var l=t.memoizedState;if(s=l.element,a.isDehydrated)if(a={element:s,isDehydrated:!1,cache:l.cache,pendingSuspenseBoundaries:l.pendingSuspenseBoundaries,transitions:l.transitions},t.updateQueue.baseState=a,t.memoizedState=a,t.flags&256){o=tr(Error(_(423)),t),t=ac(e,t,s,n,o);break e}else if(s!==o){o=tr(Error(_(424)),t),t=ac(e,t,s,n,o);break e}else for(tt=en(t.stateNode.containerInfo.firstChild),nt=t,ue=!0,xt=null,n=qd(t,null,s,n),t.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(Jn(),s===o){t=_t(e,t,n);break e}Ue(e,t,s,n)}t=t.child}return t;case 5:return Jd(t),e===null&&_a(t),s=t.type,o=t.pendingProps,a=e!==null?e.memoizedProps:null,l=o.children,Ia(s,o)?l=null:a!==null&&Ia(s,a)&&(t.flags|=32),Su(e,t),Ue(e,t,l,n),t.child;case 6:return e===null&&_a(t),null;case 13:return Eu(e,t,n);case 4:return Tl(t,t.stateNode.containerInfo),s=t.pendingProps,e===null?t.child=Zn(t,null,s,n):Ue(e,t,s,n),t.child;case 11:return s=t.type,o=t.pendingProps,o=t.elementType===s?o:ht(s,o),rc(e,t,s,o,n);case 7:return Ue(e,t,t.pendingProps,n),t.child;case 8:return Ue(e,t,t.pendingProps.children,n),t.child;case 12:return Ue(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(s=t.type._context,o=t.pendingProps,a=t.memoizedProps,l=o.value,ie(qs,s._currentValue),s._currentValue=l,a!==null)if(yt(a.value,l)){if(a.children===o.children&&!qe.current){t=_t(e,t,n);break e}}else for(a=t.child,a!==null&&(a.return=t);a!==null;){var i=a.dependencies;if(i!==null){l=a.child;for(var c=i.firstContext;c!==null;){if(c.context===s){if(a.tag===1){c=Rt(-1,n&-n),c.tag=2;var d=a.updateQueue;if(d!==null){d=d.shared;var x=d.pending;x===null?c.next=c:(c.next=x.next,x.next=c),d.pending=c}}a.lanes|=n,c=a.alternate,c!==null&&(c.lanes|=n),Ma(a.return,n,t),i.lanes|=n;break}c=c.next}}else if(a.tag===10)l=a.type===t.type?null:a.child;else if(a.tag===18){if(l=a.return,l===null)throw Error(_(341));l.lanes|=n,i=l.alternate,i!==null&&(i.lanes|=n),Ma(l,n,t),l=a.sibling}else l=a.child;if(l!==null)l.return=a;else for(l=a;l!==null;){if(l===t){l=null;break}if(a=l.sibling,a!==null){a.return=l.return,l=a;break}l=l.return}a=l}Ue(e,t,o.children,n),t=t.child}return t;case 9:return o=t.type,s=t.pendingProps.children,Xn(t,n),o=ut(o),s=s(o),t.flags|=1,Ue(e,t,s,n),t.child;case 14:return s=t.type,o=ht(s,t.pendingProps),o=ht(s.type,o),sc(e,t,s,o,n);case 15:return ju(e,t,t.type,t.pendingProps,n);case 17:return s=t.type,o=t.pendingProps,o=t.elementType===s?o:ht(s,o),Rs(e,t),t.tag=1,Ye(s)?(e=!0,Hs(t)):e=!1,Xn(t,n),vu(t,s,o),$a(t,s,o,n),Ga(null,t,s,!0,e,n);case 19:return Au(e,t,n);case 22:return Nu(e,t,n)}throw Error(_(156,t.tag))};function Gu(e,t){return fd(e,t)}function Lh(e,t,n,s){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=s,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function ct(e,t,n,s){return new Lh(e,t,n,s)}function Yl(e){return e=e.prototype,!(!e||!e.isReactComponent)}function Th(e){if(typeof e=="function")return Yl(e)?1:0;if(e!=null){if(e=e.$$typeof,e===fl)return 11;if(e===xl)return 14}return 2}function sn(e,t){var n=e.alternate;return n===null?(n=ct(e.tag,t,e.key,e.mode),n.elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=e.flags&14680064,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function Ts(e,t,n,s,o,a){var l=2;if(s=e,typeof e=="function")Yl(e)&&(l=1);else if(typeof e=="string")l=5;else e:switch(e){case Pn:return wn(n.children,o,a,t);case hl:l=8,o|=8;break;case ca:return e=ct(12,n,t,o|2),e.elementType=ca,e.lanes=a,e;case da:return e=ct(13,n,t,o),e.elementType=da,e.lanes=a,e;case ua:return e=ct(19,n,t,o),e.elementType=ua,e.lanes=a,e;case Jc:return wo(n,o,a,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case Yc:l=10;break e;case Kc:l=9;break e;case fl:l=11;break e;case xl:l=14;break e;case Vt:l=16,s=null;break e}throw Error(_(130,e==null?e:typeof e,""))}return t=ct(l,n,t,o),t.elementType=e,t.type=s,t.lanes=a,t}function wn(e,t,n,s){return e=ct(7,e,s,t),e.lanes=n,e}function wo(e,t,n,s){return e=ct(22,e,s,t),e.elementType=Jc,e.lanes=n,e.stateNode={isHidden:!1},e}function ea(e,t,n){return e=ct(6,e,null,t),e.lanes=n,e}function ta(e,t,n){return t=ct(4,e.children!==null?e.children:[],e.key,t),t.lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function _h(e,t,n,s,o){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=To(0),this.expirationTimes=To(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=To(0),this.identifierPrefix=s,this.onRecoverableError=o,this.mutableSourceEagerHydrationData=null}function Kl(e,t,n,s,o,a,l,i,c){return e=new _h(e,t,n,i,c),t===1?(t=1,a===!0&&(t|=8)):t=0,a=ct(3,null,null,t),e.current=a,a.stateNode=e,a.memoizedState={element:s,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Ll(a),e}function Mh(e,t,n){var s=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Rn,key:s==null?null:""+s,children:e,containerInfo:t,implementation:n}}function Uu(e){if(!e)return ln;e=e._reactInternals;e:{if(bn(e)!==e||e.tag!==1)throw Error(_(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Ye(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(_(171))}if(e.tag===1){var n=e.type;if(Ye(n))return Ud(e,n,t)}return t}function Vu(e,t,n,s,o,a,l,i,c){return e=Kl(n,s,!0,e,o,a,l,i,c),e.context=Uu(null),n=e.current,s=Ve(),o=rn(n),a=Rt(s,o),a.callback=t??null,tn(n,a,o),e.current.lanes=o,Zr(e,o,s),Ke(e,s),e}function jo(e,t,n,s){var o=t.current,a=Ve(),l=rn(o);return n=Uu(n),t.context===null?t.context=n:t.pendingContext=n,t=Rt(a,l),t.payload={element:e},s=s===void 0?null:s,s!==null&&(t.callback=s),e=tn(o,t,l),e!==null&&(vt(e,o,l,a),Ds(e,o,l)),l}function oo(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function xc(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var n=e.retryLane;e.retryLane=n!==0&&n<t?n:t}}function Jl(e,t){xc(e,t),(e=e.alternate)&&xc(e,t)}function Fh(){return null}var Wu=typeof reportError=="function"?reportError:function(e){console.error(e)};function Zl(e){this._internalRoot=e}No.prototype.render=Zl.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(_(409));jo(e,t,null,null)};No.prototype.unmount=Zl.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;An(function(){jo(null,e,null,null)}),t[Lt]=null}};function No(e){this._internalRoot=e}No.prototype.unstable_scheduleHydration=function(e){if(e){var t=Nd();e={blockedOn:null,target:e,priority:t};for(var n=0;n<Ht.length&&t!==0&&t<Ht[n].priority;n++);Ht.splice(n,0,e),n===0&&Cd(e)}};function ei(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function So(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function gc(){}function $h(e,t,n,s,o){if(o){if(typeof s=="function"){var a=s;s=function(){var d=oo(l);a.call(d)}}var l=Vu(t,s,e,0,null,!1,!1,"",gc);return e._reactRootContainer=l,e[Lt]=l.current,zr(e.nodeType===8?e.parentNode:e),An(),l}for(;o=e.lastChild;)e.removeChild(o);if(typeof s=="function"){var i=s;s=function(){var d=oo(c);i.call(d)}}var c=Kl(e,0,!1,null,null,!1,!1,"",gc);return e._reactRootContainer=c,e[Lt]=c.current,zr(e.nodeType===8?e.parentNode:e),An(function(){jo(t,c,n,s)}),c}function Co(e,t,n,s,o){var a=n._reactRootContainer;if(a){var l=a;if(typeof o=="function"){var i=o;o=function(){var c=oo(l);i.call(c)}}jo(t,l,e,o)}else l=$h(n,t,e,o,s);return oo(l)}wd=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=wr(t.pendingLanes);n!==0&&(yl(t,n|1),Ke(t,je()),!(te&6)&&(nr=je()+500,un()))}break;case 13:An(function(){var s=Tt(e,1);if(s!==null){var o=Ve();vt(s,e,1,o)}}),Jl(e,1)}};wl=function(e){if(e.tag===13){var t=Tt(e,134217728);if(t!==null){var n=Ve();vt(t,e,134217728,n)}Jl(e,134217728)}};jd=function(e){if(e.tag===13){var t=rn(e),n=Tt(e,t);if(n!==null){var s=Ve();vt(n,e,t,s)}Jl(e,t)}};Nd=function(){return re};Sd=function(e,t){var n=re;try{return re=e,t()}finally{re=n}};ja=function(e,t,n){switch(t){case"input":if(ha(e,n),t=n.name,n.type==="radio"&&t!=null){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var s=n[t];if(s!==e&&s.form===e.form){var o=ho(s);if(!o)throw Error(_(90));ed(s),ha(s,o)}}}break;case"textarea":nd(e,n);break;case"select":t=n.value,t!=null&&Vn(e,!!n.multiple,t,!1)}};cd=Ql;dd=An;var zh={usingClientEntryPoint:!1,Events:[ts,Mn,ho,ld,id,Ql]},gr={findFiberByHostInstance:xn,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},Bh={bundleType:gr.bundleType,version:gr.version,rendererPackageName:gr.rendererPackageName,rendererConfig:gr.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Mt.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=md(e),e===null?null:e.stateNode},findFiberByHostInstance:gr.findFiberByHostInstance||Fh,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var js=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!js.isDisabled&&js.supportsFiber)try{co=js.inject(Bh),Et=js}catch{}}ot.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=zh;ot.createPortal=function(e,t){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!ei(t))throw Error(_(200));return Mh(e,t,null,n)};ot.createRoot=function(e,t){if(!ei(e))throw Error(_(299));var n=!1,s="",o=Wu;return t!=null&&(t.unstable_strictMode===!0&&(n=!0),t.identifierPrefix!==void 0&&(s=t.identifierPrefix),t.onRecoverableError!==void 0&&(o=t.onRecoverableError)),t=Kl(e,1,!1,null,null,n,!1,s,o),e[Lt]=t.current,zr(e.nodeType===8?e.parentNode:e),new Zl(t)};ot.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(_(188)):(e=Object.keys(e).join(","),Error(_(268,e)));return e=md(t),e=e===null?null:e.stateNode,e};ot.flushSync=function(e){return An(e)};ot.hydrate=function(e,t,n){if(!So(t))throw Error(_(200));return Co(null,e,t,!0,n)};ot.hydrateRoot=function(e,t,n){if(!ei(e))throw Error(_(405));var s=n!=null&&n.hydratedSources||null,o=!1,a="",l=Wu;if(n!=null&&(n.unstable_strictMode===!0&&(o=!0),n.identifierPrefix!==void 0&&(a=n.identifierPrefix),n.onRecoverableError!==void 0&&(l=n.onRecoverableError)),t=Vu(t,null,e,1,n??null,o,!1,a,l),e[Lt]=t.current,zr(e),s)for(e=0;e<s.length;e++)n=s[e],o=n._getVersion,o=o(n._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[n,o]:t.mutableSourceEagerHydrationData.push(n,o);return new No(t)};ot.render=function(e,t,n){if(!So(t))throw Error(_(200));return Co(null,e,t,!1,n)};ot.unmountComponentAtNode=function(e){if(!So(e))throw Error(_(40));return e._reactRootContainer?(An(function(){Co(null,null,e,!1,function(){e._reactRootContainer=null,e[Lt]=null})}),!0):!1};ot.unstable_batchedUpdates=Ql;ot.unstable_renderSubtreeIntoContainer=function(e,t,n,s){if(!So(n))throw Error(_(200));if(e==null||e._reactInternals===void 0)throw Error(_(38));return Co(e,t,n,!1,s)};ot.version="18.3.1-next-f1338f8080-20240426";function Hu(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(Hu)}catch(e){console.error(e)}}Hu(),Hc.exports=ot;var Gh=Hc.exports,vc=Gh;la.createRoot=vc.createRoot,la.hydrateRoot=vc.hydrateRoot;/**
 * @remix-run/router v1.23.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function qr(){return qr=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},qr.apply(this,arguments)}var Yt;(function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"})(Yt||(Yt={}));const yc="popstate";function Uh(e){e===void 0&&(e={});function t(o,a){let{pathname:l="/",search:i="",hash:c=""}=Dn(o.location.hash.substr(1));return!l.startsWith("/")&&!l.startsWith(".")&&(l="/"+l),el("",{pathname:l,search:i,hash:c},a.state&&a.state.usr||null,a.state&&a.state.key||"default")}function n(o,a){let l=o.document.querySelector("base"),i="";if(l&&l.getAttribute("href")){let c=o.location.href,d=c.indexOf("#");i=d===-1?c:c.slice(0,d)}return i+"#"+(typeof a=="string"?a:ao(a))}function s(o,a){ti(o.pathname.charAt(0)==="/","relative pathnames are not supported in hash history.push("+JSON.stringify(a)+")")}return Wh(t,n,s,e)}function ge(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function ti(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function Vh(){return Math.random().toString(36).substr(2,8)}function wc(e,t){return{usr:e.state,key:e.key,idx:t}}function el(e,t,n,s){return n===void 0&&(n=null),qr({pathname:typeof e=="string"?e:e.pathname,search:"",hash:""},typeof t=="string"?Dn(t):t,{state:n,key:t&&t.key||s||Vh()})}function ao(e){let{pathname:t="/",search:n="",hash:s=""}=e;return n&&n!=="?"&&(t+=n.charAt(0)==="?"?n:"?"+n),s&&s!=="#"&&(t+=s.charAt(0)==="#"?s:"#"+s),t}function Dn(e){let t={};if(e){let n=e.indexOf("#");n>=0&&(t.hash=e.substr(n),e=e.substr(0,n));let s=e.indexOf("?");s>=0&&(t.search=e.substr(s),e=e.substr(0,s)),e&&(t.pathname=e)}return t}function Wh(e,t,n,s){s===void 0&&(s={});let{window:o=document.defaultView,v5Compat:a=!1}=s,l=o.history,i=Yt.Pop,c=null,d=x();d==null&&(d=0,l.replaceState(qr({},l.state,{idx:d}),""));function x(){return(l.state||{idx:null}).idx}function p(){i=Yt.Pop;let E=x(),m=E==null?null:E-d;d=E,c&&c({action:i,location:S.location,delta:m})}function u(E,m){i=Yt.Push;let h=el(S.location,E,m);n&&n(h,E),d=x()+1;let g=wc(h,d),C=S.createHref(h);try{l.pushState(g,"",C)}catch(b){if(b instanceof DOMException&&b.name==="DataCloneError")throw b;o.location.assign(C)}a&&c&&c({action:i,location:S.location,delta:1})}function v(E,m){i=Yt.Replace;let h=el(S.location,E,m);n&&n(h,E),d=x();let g=wc(h,d),C=S.createHref(h);l.replaceState(g,"",C),a&&c&&c({action:i,location:S.location,delta:0})}function j(E){let m=o.location.origin!=="null"?o.location.origin:o.location.href,h=typeof E=="string"?E:ao(E);return h=h.replace(/ $/,"%20"),ge(m,"No window.location.(origin|href) available to create URL for href: "+h),new URL(h,m)}let S={get action(){return i},get location(){return e(o,l)},listen(E){if(c)throw new Error("A history only accepts one active listener");return o.addEventListener(yc,p),c=E,()=>{o.removeEventListener(yc,p),c=null}},createHref(E){return t(o,E)},createURL:j,encodeLocation(E){let m=j(E);return{pathname:m.pathname,search:m.search,hash:m.hash}},push:u,replace:v,go(E){return l.go(E)}};return S}var jc;(function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"})(jc||(jc={}));function Hh(e,t,n){return n===void 0&&(n="/"),Qh(e,t,n)}function Qh(e,t,n,s){let o=typeof t=="string"?Dn(t):t,a=rr(o.pathname||"/",n);if(a==null)return null;let l=Qu(e);Xh(l);let i=null;for(let c=0;i==null&&c<l.length;++c){let d=of(a);i=rf(l[c],d)}return i}function Qu(e,t,n,s){t===void 0&&(t=[]),n===void 0&&(n=[]),s===void 0&&(s="");let o=(a,l,i)=>{let c={relativePath:i===void 0?a.path||"":i,caseSensitive:a.caseSensitive===!0,childrenIndex:l,route:a};c.relativePath.startsWith("/")&&(ge(c.relativePath.startsWith(s),'Absolute route path "'+c.relativePath+'" nested under path '+('"'+s+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),c.relativePath=c.relativePath.slice(s.length));let d=on([s,c.relativePath]),x=n.concat(c);a.children&&a.children.length>0&&(ge(a.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+d+'".')),Qu(a.children,t,x,d)),!(a.path==null&&!a.index)&&t.push({path:d,score:tf(d,a.index),routesMeta:x})};return e.forEach((a,l)=>{var i;if(a.path===""||!((i=a.path)!=null&&i.includes("?")))o(a,l);else for(let c of Xu(a.path))o(a,l,c)}),t}function Xu(e){let t=e.split("/");if(t.length===0)return[];let[n,...s]=t,o=n.endsWith("?"),a=n.replace(/\?$/,"");if(s.length===0)return o?[a,""]:[a];let l=Xu(s.join("/")),i=[];return i.push(...l.map(c=>c===""?a:[a,c].join("/"))),o&&i.push(...l),i.map(c=>e.startsWith("/")&&c===""?"/":c)}function Xh(e){e.sort((t,n)=>t.score!==n.score?n.score-t.score:nf(t.routesMeta.map(s=>s.childrenIndex),n.routesMeta.map(s=>s.childrenIndex)))}const qh=/^:[\w-]+$/,Yh=3,Kh=2,Jh=1,Zh=10,ef=-2,Nc=e=>e==="*";function tf(e,t){let n=e.split("/"),s=n.length;return n.some(Nc)&&(s+=ef),t&&(s+=Kh),n.filter(o=>!Nc(o)).reduce((o,a)=>o+(qh.test(a)?Yh:a===""?Jh:Zh),s)}function nf(e,t){return e.length===t.length&&e.slice(0,-1).every((s,o)=>s===t[o])?e[e.length-1]-t[t.length-1]:0}function rf(e,t,n){let{routesMeta:s}=e,o={},a="/",l=[];for(let i=0;i<s.length;++i){let c=s[i],d=i===s.length-1,x=a==="/"?t:t.slice(a.length)||"/",p=tl({path:c.relativePath,caseSensitive:c.caseSensitive,end:d},x),u=c.route;if(!p)return null;Object.assign(o,p.params),l.push({params:o,pathname:on([a,p.pathname]),pathnameBase:df(on([a,p.pathnameBase])),route:u}),p.pathnameBase!=="/"&&(a=on([a,p.pathnameBase]))}return l}function tl(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[n,s]=sf(e.path,e.caseSensitive,e.end),o=t.match(n);if(!o)return null;let a=o[0],l=a.replace(/(.)\/+$/,"$1"),i=o.slice(1);return{params:s.reduce((d,x,p)=>{let{paramName:u,isOptional:v}=x;if(u==="*"){let S=i[p]||"";l=a.slice(0,a.length-S.length).replace(/(.)\/+$/,"$1")}const j=i[p];return v&&!j?d[u]=void 0:d[u]=(j||"").replace(/%2F/g,"/"),d},{}),pathname:a,pathnameBase:l,pattern:e}}function sf(e,t,n){t===void 0&&(t=!1),n===void 0&&(n=!0),ti(e==="*"||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were '+('"'+e.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+e.replace(/\*$/,"/*")+'".'));let s=[],o="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(l,i,c)=>(s.push({paramName:i,isOptional:c!=null}),c?"/?([^\\/]+)?":"/([^\\/]+)"));return e.endsWith("*")?(s.push({paramName:"*"}),o+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?o+="\\/*$":e!==""&&e!=="/"&&(o+="(?:(?=\\/|$))"),[new RegExp(o,t?void 0:"i"),s]}function of(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return ti(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+t+").")),e}}function rr(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let n=t.endsWith("/")?t.length-1:t.length,s=e.charAt(n);return s&&s!=="/"?null:e.slice(n)||"/"}function af(e,t){t===void 0&&(t="/");let{pathname:n,search:s="",hash:o=""}=typeof e=="string"?Dn(e):e;return{pathname:n?n.startsWith("/")?n:lf(n,t):t,search:uf(s),hash:pf(o)}}function lf(e,t){let n=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(o=>{o===".."?n.length>1&&n.pop():o!=="."&&n.push(o)}),n.length>1?n.join("/"):"/"}function na(e,t,n,s){return"Cannot include a '"+e+"' character in a manually specified "+("`to."+t+"` field ["+JSON.stringify(s)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function cf(e){return e.filter((t,n)=>n===0||t.route.path&&t.route.path.length>0)}function ni(e,t){let n=cf(e);return t?n.map((s,o)=>o===n.length-1?s.pathname:s.pathnameBase):n.map(s=>s.pathnameBase)}function ri(e,t,n,s){s===void 0&&(s=!1);let o;typeof e=="string"?o=Dn(e):(o=qr({},e),ge(!o.pathname||!o.pathname.includes("?"),na("?","pathname","search",o)),ge(!o.pathname||!o.pathname.includes("#"),na("#","pathname","hash",o)),ge(!o.search||!o.search.includes("#"),na("#","search","hash",o)));let a=e===""||o.pathname==="",l=a?"/":o.pathname,i;if(l==null)i=n;else{let p=t.length-1;if(!s&&l.startsWith("..")){let u=l.split("/");for(;u[0]==="..";)u.shift(),p-=1;o.pathname=u.join("/")}i=p>=0?t[p]:"/"}let c=af(o,i),d=l&&l!=="/"&&l.endsWith("/"),x=(a||l===".")&&n.endsWith("/");return!c.pathname.endsWith("/")&&(d||x)&&(c.pathname+="/"),c}const on=e=>e.join("/").replace(/\/\/+/g,"/"),df=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),uf=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,pf=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;function mf(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}const qu=["post","put","patch","delete"];new Set(qu);const hf=["get",...qu];new Set(hf);/**
 * React Router v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Yr(){return Yr=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},Yr.apply(this,arguments)}const Eo=f.createContext(null),Yu=f.createContext(null),Ft=f.createContext(null),Ao=f.createContext(null),kt=f.createContext({outlet:null,matches:[],isDataRoute:!1}),Ku=f.createContext(null);function ff(e,t){let{relative:n}=t===void 0?{}:t;ir()||ge(!1);let{basename:s,navigator:o}=f.useContext(Ft),{hash:a,pathname:l,search:i}=ko(e,{relative:n}),c=l;return s!=="/"&&(c=l==="/"?s:on([s,l])),o.createHref({pathname:c,search:i,hash:a})}function ir(){return f.useContext(Ao)!=null}function $t(){return ir()||ge(!1),f.useContext(Ao).location}function Ju(e){f.useContext(Ft).static||f.useLayoutEffect(e)}function pn(){let{isDataRoute:e}=f.useContext(kt);return e?If():xf()}function xf(){ir()||ge(!1);let e=f.useContext(Eo),{basename:t,future:n,navigator:s}=f.useContext(Ft),{matches:o}=f.useContext(kt),{pathname:a}=$t(),l=JSON.stringify(ni(o,n.v7_relativeSplatPath)),i=f.useRef(!1);return Ju(()=>{i.current=!0}),f.useCallback(function(d,x){if(x===void 0&&(x={}),!i.current)return;if(typeof d=="number"){s.go(d);return}let p=ri(d,JSON.parse(l),a,x.relative==="path");e==null&&t!=="/"&&(p.pathname=p.pathname==="/"?t:on([t,p.pathname])),(x.replace?s.replace:s.push)(p,x.state,x)},[t,s,l,a,e])}const gf=f.createContext(null);function vf(e){let t=f.useContext(kt).outlet;return t&&f.createElement(gf.Provider,{value:e},t)}function yf(){let{matches:e}=f.useContext(kt),t=e[e.length-1];return t?t.params:{}}function ko(e,t){let{relative:n}=t===void 0?{}:t,{future:s}=f.useContext(Ft),{matches:o}=f.useContext(kt),{pathname:a}=$t(),l=JSON.stringify(ni(o,s.v7_relativeSplatPath));return f.useMemo(()=>ri(e,JSON.parse(l),a,n==="path"),[e,l,a,n])}function wf(e,t){return jf(e,t)}function jf(e,t,n,s){ir()||ge(!1);let{navigator:o}=f.useContext(Ft),{matches:a}=f.useContext(kt),l=a[a.length-1],i=l?l.params:{};l&&l.pathname;let c=l?l.pathnameBase:"/";l&&l.route;let d=$t(),x;if(t){var p;let E=typeof t=="string"?Dn(t):t;c==="/"||(p=E.pathname)!=null&&p.startsWith(c)||ge(!1),x=E}else x=d;let u=x.pathname||"/",v=u;if(c!=="/"){let E=c.replace(/^\//,"").split("/");v="/"+u.replace(/^\//,"").split("/").slice(E.length).join("/")}let j=Hh(e,{pathname:v}),S=Af(j&&j.map(E=>Object.assign({},E,{params:Object.assign({},i,E.params),pathname:on([c,o.encodeLocation?o.encodeLocation(E.pathname).pathname:E.pathname]),pathnameBase:E.pathnameBase==="/"?c:on([c,o.encodeLocation?o.encodeLocation(E.pathnameBase).pathname:E.pathnameBase])})),a,n,s);return t&&S?f.createElement(Ao.Provider,{value:{location:Yr({pathname:"/",search:"",hash:"",state:null,key:"default"},x),navigationType:Yt.Pop}},S):S}function Nf(){let e=Of(),t=mf(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),n=e instanceof Error?e.stack:null,o={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return f.createElement(f.Fragment,null,f.createElement("h2",null,"Unexpected Application Error!"),f.createElement("h3",{style:{fontStyle:"italic"}},t),n?f.createElement("pre",{style:o},n):null,null)}const Sf=f.createElement(Nf,null);class Cf extends f.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,n){return n.location!==t.location||n.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:n.error,location:n.location,revalidation:t.revalidation||n.revalidation}}componentDidCatch(t,n){console.error("React Router caught the following error during render",t,n)}render(){return this.state.error!==void 0?f.createElement(kt.Provider,{value:this.props.routeContext},f.createElement(Ku.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function Ef(e){let{routeContext:t,match:n,children:s}=e,o=f.useContext(Eo);return o&&o.static&&o.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(o.staticContext._deepestRenderedBoundaryId=n.route.id),f.createElement(kt.Provider,{value:t},s)}function Af(e,t,n,s){var o;if(t===void 0&&(t=[]),n===void 0&&(n=null),s===void 0&&(s=null),e==null){var a;if(!n)return null;if(n.errors)e=n.matches;else if((a=s)!=null&&a.v7_partialHydration&&t.length===0&&!n.initialized&&n.matches.length>0)e=n.matches;else return null}let l=e,i=(o=n)==null?void 0:o.errors;if(i!=null){let x=l.findIndex(p=>p.route.id&&(i==null?void 0:i[p.route.id])!==void 0);x>=0||ge(!1),l=l.slice(0,Math.min(l.length,x+1))}let c=!1,d=-1;if(n&&s&&s.v7_partialHydration)for(let x=0;x<l.length;x++){let p=l[x];if((p.route.HydrateFallback||p.route.hydrateFallbackElement)&&(d=x),p.route.id){let{loaderData:u,errors:v}=n,j=p.route.loader&&u[p.route.id]===void 0&&(!v||v[p.route.id]===void 0);if(p.route.lazy||j){c=!0,d>=0?l=l.slice(0,d+1):l=[l[0]];break}}}return l.reduceRight((x,p,u)=>{let v,j=!1,S=null,E=null;n&&(v=i&&p.route.id?i[p.route.id]:void 0,S=p.route.errorElement||Sf,c&&(d<0&&u===0?(Rf("route-fallback"),j=!0,E=null):d===u&&(j=!0,E=p.route.hydrateFallbackElement||null)));let m=t.concat(l.slice(0,u+1)),h=()=>{let g;return v?g=S:j?g=E:p.route.Component?g=f.createElement(p.route.Component,null):p.route.element?g=p.route.element:g=x,f.createElement(Ef,{match:p,routeContext:{outlet:x,matches:m,isDataRoute:n!=null},children:g})};return n&&(p.route.ErrorBoundary||p.route.errorElement||u===0)?f.createElement(Cf,{location:n.location,revalidation:n.revalidation,component:S,error:v,children:h(),routeContext:{outlet:null,matches:m,isDataRoute:!0}}):h()},null)}var Zu=function(e){return e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e}(Zu||{}),ep=function(e){return e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e.UseRouteId="useRouteId",e}(ep||{});function kf(e){let t=f.useContext(Eo);return t||ge(!1),t}function bf(e){let t=f.useContext(Yu);return t||ge(!1),t}function Df(e){let t=f.useContext(kt);return t||ge(!1),t}function tp(e){let t=Df(),n=t.matches[t.matches.length-1];return n.route.id||ge(!1),n.route.id}function Of(){var e;let t=f.useContext(Ku),n=bf(),s=tp();return t!==void 0?t:(e=n.errors)==null?void 0:e[s]}function If(){let{router:e}=kf(Zu.UseNavigateStable),t=tp(ep.UseNavigateStable),n=f.useRef(!1);return Ju(()=>{n.current=!0}),f.useCallback(function(o,a){a===void 0&&(a={}),n.current&&(typeof o=="number"?e.navigate(o):e.navigate(o,Yr({fromRouteId:t},a)))},[e,t])}const Sc={};function Rf(e,t,n){Sc[e]||(Sc[e]=!0)}function Pf(e,t){e==null||e.v7_startTransition,e==null||e.v7_relativeSplatPath}function sr(e){let{to:t,replace:n,state:s,relative:o}=e;ir()||ge(!1);let{future:a,static:l}=f.useContext(Ft),{matches:i}=f.useContext(kt),{pathname:c}=$t(),d=pn(),x=ri(t,ni(i,a.v7_relativeSplatPath),c,o==="path"),p=JSON.stringify(x);return f.useEffect(()=>d(JSON.parse(p),{replace:n,state:s,relative:o}),[d,p,o,n,s]),null}function Lf(e){return vf(e.context)}function ke(e){ge(!1)}function Tf(e){let{basename:t="/",children:n=null,location:s,navigationType:o=Yt.Pop,navigator:a,static:l=!1,future:i}=e;ir()&&ge(!1);let c=t.replace(/^\/*/,"/"),d=f.useMemo(()=>({basename:c,navigator:a,static:l,future:Yr({v7_relativeSplatPath:!1},i)}),[c,i,a,l]);typeof s=="string"&&(s=Dn(s));let{pathname:x="/",search:p="",hash:u="",state:v=null,key:j="default"}=s,S=f.useMemo(()=>{let E=rr(x,c);return E==null?null:{location:{pathname:E,search:p,hash:u,state:v,key:j},navigationType:o}},[c,x,p,u,v,j,o]);return S==null?null:f.createElement(Ft.Provider,{value:d},f.createElement(Ao.Provider,{children:n,value:S}))}function _f(e){let{children:t,location:n}=e;return wf(nl(t),n)}new Promise(()=>{});function nl(e,t){t===void 0&&(t=[]);let n=[];return f.Children.forEach(e,(s,o)=>{if(!f.isValidElement(s))return;let a=[...t,o];if(s.type===f.Fragment){n.push.apply(n,nl(s.props.children,a));return}s.type!==ke&&ge(!1),!s.props.index||!s.props.children||ge(!1);let l={id:s.props.id||a.join("-"),caseSensitive:s.props.caseSensitive,element:s.props.element,Component:s.props.Component,index:s.props.index,path:s.props.path,loader:s.props.loader,action:s.props.action,errorElement:s.props.errorElement,ErrorBoundary:s.props.ErrorBoundary,hasErrorBoundary:s.props.ErrorBoundary!=null||s.props.errorElement!=null,shouldRevalidate:s.props.shouldRevalidate,handle:s.props.handle,lazy:s.props.lazy};s.props.children&&(l.children=nl(s.props.children,a)),n.push(l)}),n}/**
 * React Router DOM v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function lo(){return lo=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},lo.apply(this,arguments)}function np(e,t){if(e==null)return{};var n={},s=Object.keys(e),o,a;for(a=0;a<s.length;a++)o=s[a],!(t.indexOf(o)>=0)&&(n[o]=e[o]);return n}function Mf(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function Ff(e,t){return e.button===0&&(!t||t==="_self")&&!Mf(e)}function rl(e){return e===void 0&&(e=""),new URLSearchParams(typeof e=="string"||Array.isArray(e)||e instanceof URLSearchParams?e:Object.keys(e).reduce((t,n)=>{let s=e[n];return t.concat(Array.isArray(s)?s.map(o=>[n,o]):[[n,s]])},[]))}function $f(e,t){let n=rl(e);return t&&t.forEach((s,o)=>{n.has(o)||t.getAll(o).forEach(a=>{n.append(o,a)})}),n}const zf=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],Bf=["aria-current","caseSensitive","className","end","style","to","viewTransition","children"],Gf="6";try{window.__reactRouterVersion=Gf}catch{}const Uf=f.createContext({isTransitioning:!1}),Vf="startTransition",Cc=Ip[Vf];function Wf(e){let{basename:t,children:n,future:s,window:o}=e,a=f.useRef();a.current==null&&(a.current=Uh({window:o,v5Compat:!0}));let l=a.current,[i,c]=f.useState({action:l.action,location:l.location}),{v7_startTransition:d}=s||{},x=f.useCallback(p=>{d&&Cc?Cc(()=>c(p)):c(p)},[c,d]);return f.useLayoutEffect(()=>l.listen(x),[l,x]),f.useEffect(()=>Pf(s),[s]),f.createElement(Tf,{basename:t,children:n,location:i.location,navigationType:i.action,navigator:l,future:s})}const Hf=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",Qf=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Kr=f.forwardRef(function(t,n){let{onClick:s,relative:o,reloadDocument:a,replace:l,state:i,target:c,to:d,preventScrollReset:x,viewTransition:p}=t,u=np(t,zf),{basename:v}=f.useContext(Ft),j,S=!1;if(typeof d=="string"&&Qf.test(d)&&(j=d,Hf))try{let g=new URL(window.location.href),C=d.startsWith("//")?new URL(g.protocol+d):new URL(d),b=rr(C.pathname,v);C.origin===g.origin&&b!=null?d=b+C.search+C.hash:S=!0}catch{}let E=ff(d,{relative:o}),m=qf(d,{replace:l,state:i,target:c,preventScrollReset:x,relative:o,viewTransition:p});function h(g){s&&s(g),g.defaultPrevented||m(g)}return f.createElement("a",lo({},u,{href:j||E,onClick:S||a?s:h,ref:n,target:c}))}),Ns=f.forwardRef(function(t,n){let{"aria-current":s="page",caseSensitive:o=!1,className:a="",end:l=!1,style:i,to:c,viewTransition:d,children:x}=t,p=np(t,Bf),u=ko(c,{relative:p.relative}),v=$t(),j=f.useContext(Yu),{navigator:S,basename:E}=f.useContext(Ft),m=j!=null&&Yf(u)&&d===!0,h=S.encodeLocation?S.encodeLocation(u).pathname:u.pathname,g=v.pathname,C=j&&j.navigation&&j.navigation.location?j.navigation.location.pathname:null;o||(g=g.toLowerCase(),C=C?C.toLowerCase():null,h=h.toLowerCase()),C&&E&&(C=rr(C,E)||C);const b=h!=="/"&&h.endsWith("/")?h.length-1:h.length;let k=g===h||!l&&g.startsWith(h)&&g.charAt(b)==="/",I=C!=null&&(C===h||!l&&C.startsWith(h)&&C.charAt(h.length)==="/"),L={isActive:k,isPending:I,isTransitioning:m},A=k?s:void 0,T;typeof a=="function"?T=a(L):T=[a,k?"active":null,I?"pending":null,m?"transitioning":null].filter(Boolean).join(" ");let G=typeof i=="function"?i(L):i;return f.createElement(Kr,lo({},p,{"aria-current":A,className:T,ref:n,style:G,to:c,viewTransition:d}),typeof x=="function"?x(L):x)});var sl;(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmit="useSubmit",e.UseSubmitFetcher="useSubmitFetcher",e.UseFetcher="useFetcher",e.useViewTransitionState="useViewTransitionState"})(sl||(sl={}));var Ec;(function(e){e.UseFetcher="useFetcher",e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"})(Ec||(Ec={}));function Xf(e){let t=f.useContext(Eo);return t||ge(!1),t}function qf(e,t){let{target:n,replace:s,state:o,preventScrollReset:a,relative:l,viewTransition:i}=t===void 0?{}:t,c=pn(),d=$t(),x=ko(e,{relative:l});return f.useCallback(p=>{if(Ff(p,n)){p.preventDefault();let u=s!==void 0?s:ao(d)===ao(x);c(e,{replace:u,state:o,preventScrollReset:a,relative:l,viewTransition:i})}},[d,c,x,s,o,n,e,a,l,i])}function rp(e){let t=f.useRef(rl(e)),n=f.useRef(!1),s=$t(),o=f.useMemo(()=>$f(s.search,n.current?null:t.current),[s.search]),a=pn(),l=f.useCallback((i,c)=>{const d=rl(typeof i=="function"?i(o):i);n.current=!0,a("?"+d,c)},[a,o]);return[o,l]}function Yf(e,t){t===void 0&&(t={});let n=f.useContext(Uf);n==null&&ge(!1);let{basename:s}=Xf(sl.useViewTransitionState),o=ko(e,{relative:t.relative});if(!n.isTransitioning)return!1;let a=rr(n.currentLocation.pathname,s)||n.currentLocation.pathname,l=rr(n.nextLocation.pathname,s)||n.nextLocation.pathname;return tl(o.pathname,l)!=null||tl(o.pathname,a)!=null}var H=(e=>(e.RASCUNHO="RASCUNHO",e.ENVIADA_SARGENTO="ENVIADA_SARGENTO",e.APROVADA_SARGENTO="APROVADA_SARGENTO",e.NEGADA_SARGENTO="NEGADA_SARGENTO",e.VALIDADA_ADMIN="VALIDADA_ADMIN",e.REPROVADA_ADMIN="REPROVADA_ADMIN",e))(H||{}),K=(e=>(e.ATIVA="ATIVA",e.TROCADA="TROCADA",e.EXCLUIDA="EXCLUIDA",e.CANCELADA="CANCELADA",e))(K||{}),Re=(e=>(e.CREATE_FOLGA="CREATE_FOLGA",e.ACIONAR_FOLGA="ACIONAR_FOLGA",e.ENVIAR_SARGENTO="ENVIAR_SARGENTO",e.APROVAR_SARGENTO="APROVAR_SARGENTO",e.NEGAR_SARGENTO="NEGAR_Sargento",e.VALIDAR_ADMIN="VALIDAR_ADMIN",e.REPROVAR_ADMIN="REPROVAR_ADMIN",e.TROCA_FOLGA="TROCA_FOLGA",e.EXCLUIR_FOLGA="EXCLUIR_FOLGA",e.RESTAURAR_FOLGA="RESTAURAR_FOLGA",e.CREATE_POLICIAL="CREATE_POLICIAL",e.UPDATE_POLICIAL="UPDATE_POLICIAL",e.DELETE_POLICIAL="DELETE_POLICIAL",e.CREATE_USER="CREATE_USER",e.UPDATE_USER="UPDATE_USER",e.BULK_UPSERT_POLICIAIS="BULK_UPSERT_POLICIAIS",e.CREATE_FERIAS="CREATE_FERIAS",e.UPDATE_FERIAS="UPDATE_FERIAS",e.CREATE_AGENDA_EVENTO="CREATE_AGENDA_EVENTO",e.UPDATE_AGENDA_EVENTO="UPDATE_AGENDA_EVENTO",e.DELETE_AGENDA_EVENTO="DELETE_AGENDA_EVENTO",e.CREATE_GRUPO="CREATE_GRUPO",e.UPDATE_GRUPO="UPDATE_GRUPO",e.DELETE_GRUPO="DELETE_GRUPO",e.CREATE_PROTOCOLO="CREATE_PROTOCOLO",e.RESET_PROTOCOLO_COUNTER="RESET_PROTOCOLO_COUNTER",e))(Re||{}),we=(e=>(e.AGENDADA="AGENDADA",e.CONCLUIDA="CONCLUIDA",e.CANCELADA="CANCELADA",e.SOLICITANDO_ALTERACAO="SOLICITANDO_ALTERACAO",e))(we||{}),ee=(e=>(e.CURSO="CURSO",e.EAP="EAP",e.OPERACAO="OPERACAO",e.LICENCA_PREMIO="LICENCA_PREMIO",e.OUTRO="OUTRO",e))(ee||{}),Ce=(e=>(e.OFICIO="OFÍCIO",e.PARTE="PARTE",e.MEMORANDO="MEMORANDO",e.AESTORIGEM="AESTORIGEM",e.ATESTADO="ATESTADO",e.CERTIDAO="CERTIDÃO",e.DECLARACAO="DECLARAÇÃO",e.DESPACHO="DESPACHO",e.INFORMACAO="INFORMAÇÃO",e.ORDEM_SERVICO="ORDEM SERVIÇO",e.RELATORIO="RELATÓRIO",e.PTAC="PTAC",e.GUIA="GUIA",e.NOTA_SERVICO="NOTA SERVIÇO",e.EMAIL="E-MAIL",e.RAIA="RAIA",e.FMM="FMM",e.INVPRELIMINAR="INVPRELIMINAR",e))(Ce||{});const sp=["Sd 2ª Cl","Sd 1ª Cl","Cb","3º Sgt","2º Sgt","1º Sgt","Subten","2º Ten","1º Ten","Cap","Maj"];K.ATIVA+"",K.TROCADA+"",K.EXCLUIDA+"",K.CANCELADA+"";const Ac={[H.RASCUNHO]:"bg-gray-200 text-gray-800",[H.ENVIADA_SARGENTO]:"bg-blue-100 text-blue-800",[H.APROVADA_SARGENTO]:"bg-cyan-100 text-cyan-800",[H.NEGADA_SARGENTO]:"bg-orange-100 text-orange-800",[H.VALIDADA_ADMIN]:"bg-green-100 text-green-800",[H.REPROVADA_ADMIN]:"bg-red-100 text-red-800"},ra={[H.RASCUNHO]:"Rascunho",[H.ENVIADA_SARGENTO]:"Pendente Sgt.",[H.APROVADA_SARGENTO]:"Aprovada Sgt.",[H.NEGADA_SARGENTO]:"Negada Sgt.",[H.VALIDADA_ADMIN]:"Validada Adm.",[H.REPROVADA_ADMIN]:"Reprovada Adm."},Kf=[{value:K.ATIVA,label:"Ativa"},{value:K.TROCADA,label:"Trocada"},{value:K.EXCLUIDA,label:"Excluída"}],Jf={[we.AGENDADA]:"bg-green-100 text-green-800",[we.CONCLUIDA]:"bg-blue-100 text-blue-800",[we.CANCELADA]:"bg-red-100 text-red-800",[we.SOLICITANDO_ALTERACAO]:"bg-yellow-100 text-yellow-800"},sa={[we.AGENDADA]:"Agendada",[we.CONCLUIDA]:"Concluída",[we.CANCELADA]:"Cancelada",[we.SOLICITANDO_ALTERACAO]:"Solicitando Alteração"},jn={[ee.CURSO]:"Curso",[ee.EAP]:"EAP",[ee.OPERACAO]:"Operação",[ee.LICENCA_PREMIO]:"Licença Prêmio",[ee.OUTRO]:"Outro"},Ir={[ee.CURSO]:"bg-indigo-100 text-indigo-800",[ee.EAP]:"bg-purple-100 text-purple-800",[ee.OPERACAO]:"bg-red-100 text-red-800",[ee.LICENCA_PREMIO]:"bg-teal-100 text-teal-800",[ee.OUTRO]:"bg-gray-200 text-gray-800"},Zf="200",kc=[Ce.OFICIO,Ce.PARTE,Ce.MEMORANDO,Ce.AESTORIGEM,Ce.ATESTADO,Ce.CERTIDAO,Ce.DECLARACAO,Ce.DESPACHO,Ce.INFORMACAO,Ce.ORDEM_SERVICO,Ce.RELATORIO,Ce.PTAC,Ce.GUIA,Ce.NOTA_SERVICO,Ce.EMAIL,Ce.RAIA,Ce.FMM,Ce.INVPRELIMINAR],ex=150,tx=[{id:1,nome:"CARLOS ALBERTO DE NOBREGA",re:"123456-7",postoGrad:"Cb",ativo:!0,pelotao:"PEL-A"},{id:2,nome:"SILVIO SANTOS",re:"987654-3",postoGrad:"3º Sgt",ativo:!0,pelotao:"PEL-B"},{id:3,nome:"FAUSTO SILVA",re:"112233-4",postoGrad:"Sd 1ª Cl",ativo:!1,pelotao:"ADM"},{id:4,nome:"ANA MARIA BRAGA",re:"445566-7",postoGrad:"Cap",ativo:!0,pelotao:"ADM"},{id:5,nome:"RODRIGO FARO",re:"778899-0",postoGrad:"2º Ten",ativo:!0,pelotao:"ROCAM"},{id:6,nome:"USUARIO TESTE SUBORDINADO",re:"123123-1",postoGrad:"Sd 2ª Cl",ativo:!0,pelotao:"PEL-A"}],nx=[{id:101,policialId:null,nome:"Administrador do Sistema",reLogin:"000000",role:"ADMIN",acessoLiberado:!0,senha:"admin123",ativo:!0,criadoEm:new Date().toISOString(),atualizadoEm:new Date().toISOString()},{id:102,policialId:null,nome:"Sargento Mestre (TESTE)",reLogin:"132155",role:"SARGENTO",acessoLiberado:!0,senha:"132155",ativo:!0,criadoEm:new Date().toISOString(),atualizadoEm:new Date().toISOString(),pelotao:"TODOS",postoGrad:"1º Sgt"},{id:103,policialId:6,nome:"USUARIO TESTE SUBORDINADO",reLogin:"123123",role:"SUBORDINADO",acessoLiberado:!0,senha:"123123",ativo:!0,criadoEm:new Date().toISOString(),atualizadoEm:new Date().toISOString(),pelotao:"PEL-A",postoGrad:"Sd 2ª Cl"}],rx=[{folgald:"1",policialld:1,nome:"CARLOS ALBERTO DE NOBREGA",re:"123456-7",data:"2024-07-20",status:K.ATIVA,aprovacao:H.VALIDADA_ADMIN,criadaPorld:101,criadoEm:new Date().toISOString(),atualizadoEm:new Date().toISOString(),pelotao:"PEL-A",trocadaPara:null,motivo:null,adminld:101,adminParecer:"Ok"},{folgald:"2",policialld:2,nome:"SILVIO SANTOS",re:"987654-3",data:"2024-07-22",status:K.ATIVA,aprovacao:H.VALIDADA_ADMIN,criadaPorld:101,criadoEm:new Date().toISOString(),atualizadoEm:new Date().toISOString(),pelotao:"PEL-B",trocadaPara:null,motivo:null,adminld:101,adminParecer:"Ok"}],sx=[{id:"fer1",policialId:1,anoReferencia:2024,dataInicio:"2024-09-01",dataFim:"2024-09-30",duracaoDias:30,status:we.AGENDADA,criadoEm:new Date().toISOString(),criadoPorId:101,atualizadoEm:new Date().toISOString()},{id:"fer2",policialId:2,anoReferencia:2024,dataInicio:"2024-10-15",dataFim:"2024-10-29",duracaoDias:15,status:we.AGENDADA,criadoEm:new Date().toISOString(),criadoPorId:101,atualizadoEm:new Date().toISOString()}],ox=[{id:1,nome:"PEL-A"},{id:2,nome:"PEL-B"},{id:3,nome:"ADM"},{id:4,nome:"ROCAM"}],ol={policiais:tx,folgas:rx,historico:[],users:nx,leaveLedger:[],ferias:sx,agendaEventos:[],notificacoes:[],comentarios:[],grupos:ox,protocoloDocs:[],protocoloContador:{}};let B=ol;const ax=()=>{try{const e=localStorage.getItem("appData");B=e?JSON.parse(e):ol}catch(e){console.error("Failed to load DB from localStorage",e),B=ol}},he=()=>localStorage.setItem("appData",JSON.stringify(B));ax();const oe=(e,t=ex)=>new Promise(n=>setTimeout(()=>n(JSON.parse(JSON.stringify(e))),t)),Se=e=>Promise.reject(new Error(e)),ze=(e,t,n)=>({id:Date.now(),evento:e,actorId:t.id,actorNome:t.nome,timestamp:new Date().toISOString(),pelotao:t.pelotao||"N/A",dataOriginal:null,dataNova:null,motivo:null,antesDepois:null,...n}),le={getAllData:()=>oe(B),login:(e,t)=>{if(e==="143468"&&t==="143468"){const s=B.users.find(o=>o.role==="ADMIN");if(s)return oe(s)}const n=B.users.find(s=>s.reLogin===e);return n?n.acessoLiberado?n.senha!==t?Se("Senha incorreta"):oe(n):Se("Acesso não liberado"):Se("Usuário não encontrado")},grantAccess:(e,t,n,s,o)=>{if(!(e!=null&&e.id)||!t)return Se("Dados inválidos.");if(n==="ADMIN"&&(!s||s!==(o==null?void 0:o.senha)&&s!=="143468"))return Se("Senha de admin incorreta.");const a=(e.re||"").split("-")[0].replace(/\D/g,"");if(!a)return Se("RE do policial inválido.");const l=B.users.find(d=>d.policialId===e.id),i=l?{...l}:{id:Date.now(),policialId:e.id,criadoEm:new Date().toISOString(),ativo:!0,nome:"",reLogin:"",role:"SUBORDINADO",senha:"",acessoLiberado:!1,atualizadoEm:""};Object.assign(i,{nome:e.nome,reLogin:a,role:n,senha:t,acessoLiberado:!0,atualizadoEm:new Date().toISOString(),pelotao:e.pelotao,postoGrad:e.postoGrad});const c=B.users.findIndex(d=>d.id===i.id);return c>-1?B.users[c]=i:B.users.push(i),he(),oe(i)},resetPassword:(e,t)=>{if(t.length<3)return Se("Senha muito curta.");const n=B.users.find(s=>s.policialId===e);return n?(n.senha=t,n.acessoLiberado=!0,n.atualizadoEm=new Date().toISOString(),he(),oe(n)):Se("Usuário não encontrado.")},revokeAccess:e=>{const t=B.users.find(n=>n.policialId===e);return t?(t.acessoLiberado=!1,t.atualizadoEm=new Date().toISOString(),he(),oe(t)):Se("Usuário não encontrado.")},createFolga:(e,t)=>{const n={...e,folgald:`f${Date.now()}`,criadoEm:new Date().toISOString()},s=ze(Re.ACIONAR_FOLGA,t,{folgald:n.folgald,policialld:n.policialld,nome:n.nome,re:n.re,motivo:`Acionada: ${n.motivo}`,antesDepois:{depois:n}});return B.folgas.push(n),B.historico.unshift(s),he(),oe(n)},updateFolga:(e,t,n)=>{const s=B.folgas.findIndex(i=>i.folgald===e);if(s===-1)return Se("Folga não encontrada.");const o={...B.folgas[s]},a={...o,...t,atualizadoEm:new Date().toISOString(),atualizadoPorld:n.id};B.folgas[s]=a;const l=ze(Re.UPDATE_USER,n,{folgald:e,motivo:"Atualização de folga",antesDepois:{antes:o,depois:a}});return B.historico.unshift(l),he(),oe(a)},createPolicial:(e,t)=>{const n={...e,id:Date.now()};return B.policiais.push(n),B.historico.unshift(ze(Re.CREATE_POLICIAL,t,{policialld:n.id,nome:n.nome,re:n.re,antesDepois:{depois:n}})),he(),oe(n)},updatePolicial:(e,t)=>{const n=B.policiais.findIndex(o=>o.id===e.id);if(n===-1)return Se("Policial não encontrado.");const s=B.policiais[n];return B.policiais[n]=e,B.historico.unshift(ze(Re.UPDATE_POLICIAL,t,{policialld:e.id,antesDepois:{antes:s,depois:e}})),he(),oe(e)},deletePolicial:(e,t)=>{const n=B.policiais.find(s=>s.id===e);return n?(B.policiais=B.policiais.filter(s=>s.id!==e),B.users=B.users.filter(s=>s.policialId!==e),B.historico.unshift(ze(Re.DELETE_POLICIAL,t,{policialld:e,antesDepois:{antes:n}})),he(),oe({ok:!0})):Se("Policial não encontrado.")},bulkUpsertPoliciais:(e,t)=>{const n=new Map(B.policiais.map(s=>[s.re.split("-")[0],s]));return e.forEach(s=>{const o=n.get(s.re.split("-")[0]);o?Object.assign(o,s):B.policiais.push({...s,id:Date.now()+Math.random()})}),B.historico.unshift(ze(Re.BULK_UPSERT_POLICIAIS,t,{motivo:`Importados/Atualizados: ${e.length}`})),he(),oe({ok:!0})},addLeaveCredit:(e,t)=>{const n={id:`ll-${Date.now()}`,...e,createdAt:new Date().toISOString(),createdById:t.id,createdByNome:t.nome};return B.leaveLedger.unshift(n),he(),oe(n)},createFerias:(e,t)=>{const n={...e,id:`ferias-${Date.now()}`,criadoPorId:t.id,criadoEm:new Date().toISOString(),atualizadoEm:new Date().toISOString()};return B.ferias.push(n),B.historico.unshift(ze(Re.CREATE_FERIAS,t,{policialld:n.policialId,antesDepois:{depois:n}})),he(),oe(n)},updateFerias:(e,t,n)=>{const s=B.ferias.findIndex(l=>l.id===e);if(s===-1)return Se("Férias não encontradas.");const o=B.ferias[s],a={...o,...t,atualizadoPorId:n.id,atualizadoEm:new Date().toISOString()};return B.ferias[s]=a,B.historico.unshift(ze(Re.UPDATE_FERIAS,n,{policialld:a.policialId,antesDepois:{antes:o,depois:a}})),he(),oe(a)},createAgendaEvento:(e,t)=>{const n={...e,id:`agenda-${Date.now()}`,criadoPorId:t.id,criadoEm:new Date().toISOString(),atualizadoEm:new Date().toISOString()};return B.agendaEventos.push(n),B.historico.unshift(ze(Re.CREATE_AGENDA_EVENTO,t,{motivo:`Criado evento: ${n.titulo}`,antesDepois:{depois:n}})),he(),oe(n)},updateAgendaEvento:(e,t,n)=>{const s=B.agendaEventos.findIndex(l=>l.id===e);if(s===-1)return Se("Evento não encontrado.");const o=B.agendaEventos[s],a={...o,...t,atualizadoPorId:n.id,atualizadoEm:new Date().toISOString()};return B.agendaEventos[s]=a,B.historico.unshift(ze(Re.UPDATE_AGENDA_EVENTO,n,{antesDepois:{antes:o,depois:a}})),he(),oe(a)},deleteAgendaEvento:(e,t)=>{const n=B.agendaEventos.find(s=>s.id===e);return n?(B.agendaEventos=B.agendaEventos.filter(s=>s.id!==e),B.historico.unshift(ze(Re.DELETE_AGENDA_EVENTO,t,{antesDepois:{antes:n}})),he(),oe({ok:!0})):Se("Evento não encontrado.")},addNotificacoes:e=>(B.notificacoes.unshift(...e),he(),oe({ok:!0})),markNotificacoesAsRead:e=>(B.notificacoes.forEach(t=>{t.policialId===e&&(t.lida=!0)}),he(),oe({ok:!0})),createComentario:(e,t)=>{const n={id:`c-${Date.now()}`,folgald:e.folgald,actorId:t.id,actorNome:t.nome,actorPostoGrad:t.postoGrad,mensagem:e.mensagem.trim(),timestamp:new Date().toISOString()};return B.comentarios.push(n),he(),oe(n)},createGrupo:(e,t)=>{if(B.grupos.some(s=>s.nome.toLowerCase()===e.toLowerCase()))return Se("Um grupo com este nome já existe.");const n={id:Date.now(),nome:e};return B.grupos.push(n),B.historico.unshift(ze(Re.CREATE_GRUPO,t,{antesDepois:{depois:n}})),he(),oe(n)},updateGrupo:(e,t)=>{const n=B.grupos.findIndex(o=>o.id===e.id);if(n===-1)return Se("Grupo não encontrado.");const s=B.grupos[n];return B.policiais.forEach(o=>{o.pelotao===s.nome&&(o.pelotao=e.nome)}),B.grupos[n]=e,B.historico.unshift(ze(Re.UPDATE_GRUPO,t,{antesDepois:{antes:s,depois:e}})),he(),oe(e)},deleteGrupo:(e,t)=>{const n=B.grupos.find(o=>o.id===e);return n?B.policiais.some(o=>o.pelotao===n.nome)?Se("Não é possível excluir um grupo que está em uso por policiais."):(B.grupos=B.grupos.filter(o=>o.id!==e),B.historico.unshift(ze(Re.DELETE_GRUPO,t,{antesDepois:{antes:n}})),he(),oe({ok:!0})):Se("Grupo não encontrado.")},createProtocoloDoc:(e,t)=>{const n=new Date(e.dataEmissao+"T12:00:00").getFullYear(),s=String(n).slice(-2);B.protocoloContador||(B.protocoloContador={});const o=(B.protocoloContador[n]||0)+1;B.protocoloContador[n]=o;const a=`${String(o).padStart(3,"0")}/${Zf}/${s}`,l={...e,id:`proto-${Date.now()}`,numero:a,ano:n,sequencial:o,criadoEm:new Date().toISOString()};return B.protocoloDocs.unshift(l),B.historico.unshift(ze(Re.CREATE_PROTOCOLO,t,{motivo:`Protocolado doc nº ${a}`,antesDepois:{depois:l}})),he(),oe(l)},resetProtocoloCounter:e=>{const t=new Date().getFullYear(),n=B.protocoloContador[t]||0;return B.protocoloContador[t]=0,B.historico.unshift(ze(Re.RESET_PROTOCOLO_COUNTER,e,{motivo:`Contador de ${t} reiniciado. Valor anterior: ${n}`})),he(),oe({ok:!0})},getProtocoloDocById:e=>{const t=B.protocoloDocs.find(n=>n.id===e);return t?oe(t):Se("Documento não encontrado.")}},op=f.createContext({}),ae=()=>f.useContext(op),lx=({children:e})=>{const[t,n]=f.useState(()=>{try{const p=window.localStorage.getItem("currentUser");return p?JSON.parse(p):null}catch(p){return console.error("Falha ao carregar usuário do localStorage",p),null}});f.useEffect(()=>{t?window.localStorage.setItem("currentUser",JSON.stringify(t)):window.localStorage.removeItem("currentUser")},[t]);const s=(t==null?void 0:t.role)??null,o=!!t,a=f.useCallback(async(p,u)=>{const v=(p||"").replace(/\D/g,"");if(v.length<3)return{ok:!1,error:"RE inválido"};if(!u||u.trim().length<3)return{ok:!1,error:"Senha inválida"};try{const j=await le.login(v,u);return n(j),{ok:!0}}catch(j){return{ok:!1,error:j.message}}},[]),l=f.useCallback(()=>{n(null)},[]),i=f.useCallback(async(p,u,v="SUBORDINADO",j)=>{if(!t||t.role!=="ADMIN")return{ok:!1,error:"Apenas ADMIN pode conceder acesso"};try{return await le.grantAccess(p,u,v,j,t),{ok:!0}}catch(S){return{ok:!1,error:S.message}}},[t]),c=f.useCallback(async(p,u)=>{if(!t||t.role!=="ADMIN")return{ok:!1,error:"Apenas ADMIN pode resetar senha"};try{return await le.resetPassword(p,u),{ok:!0}}catch(v){return{ok:!1,error:v.message}}},[t]),d=f.useCallback(async p=>{if(!t||t.role!=="ADMIN")return{ok:!1,error:"Apenas ADMIN pode revogar acesso"};try{return await le.revokeAccess(p),{ok:!0}}catch(u){return{ok:!1,error:u.message}}},[t]),x=f.useMemo(()=>({isAuthenticated:o,currentUser:t,role:s,loginByRE:a,logout:l,grantAccess:i,resetPassword:c,revokeAccess:d}),[o,t,s,a,l,i,c,d]);return r.jsx(op.Provider,{value:x,children:e})},ap=f.createContext(void 0),pe=()=>{const e=f.useContext(ap);if(e===void 0)throw new Error("useData must be used within a DataProvider");return e},ix=({children:e})=>{const[t,n]=f.useState(!0),[s,o]=f.useState({policiais:[],folgas:[],historico:[],users:[],leaveLedger:[],ferias:[],agendaEventos:[],notificacoes:[],comentarios:[],grupos:[],protocoloDocs:[]}),a=f.useCallback(async()=>{const y=await le.getAllData();o(y)},[]);f.useEffect(()=>{(async()=>{try{n(!0),await a()}catch(N){console.error("Failed to fetch initial data",N)}finally{n(!1)}})()},[a]);const l=f.useCallback(async y=>{if(!y||y.length===0||(await le.addNotificacoes(y),a(),!("Notification"in window)||!("serviceWorker"in navigator))||await Notification.requestPermission()!=="granted")return;const R=await navigator.serviceWorker.getRegistration();R&&y.forEach(F=>{R.showNotification("Atualização SIGMA-E",{body:F.mensagem,icon:"/vite.svg",data:{url:F.link||"/dashboard"},tag:`sigma-notif-${F.id}`})})},[a]),i=y=>Number(y.slice(0,4)),c=y=>y.aprovacao===H.VALIDADA_ADMIN&&y.status===K.ATIVA?y.motivo==="Folga Cmt Geral":!1,d=f.useCallback((y,N)=>s.leaveLedger.filter(R=>R.policialId===y&&R.year===N).reduce((R,F)=>R+F.delta,0),[s.leaveLedger]),x=f.useCallback((y,N)=>s.folgas.filter(R=>R.policialld===y&&i(R.data)===N&&c(R)).length,[s.folgas]),p=f.useCallback((y,N)=>d(y,N)-x(y,N),[d,x]),u=f.useCallback(y=>{const N=i(y.dateISO),R=p(y.policialId,N);return R>0?{ok:!0,balance:R}:y.allowOverride?{ok:!0,balance:R,warn:"Sem saldo, mas a criação foi permitida pelo perfil do usuário."}:{ok:!1,error:`Sem saldo de folgas para o ano de ${N}.`,balance:R}},[p]),v=f.useCallback(async(y,N)=>{var me;if(y.motivo==="Folga Cmt Geral"){const ne=new Date(y.data+"T12:00:00");if(s.folgas.find(Ae=>{if(Ae.policialld!==y.policialld||Ae.motivo!=="Folga Cmt Geral"||!(Ae.status!==K.EXCLUIDA&&Ae.status!==K.CANCELADA&&Ae.aprovacao!==H.NEGADA_SARGENTO&&Ae.aprovacao!==H.REPROVADA_ADMIN))return!1;const D=new Date(Ae.data+"T12:00:00");return D.getFullYear()===ne.getFullYear()&&D.getMonth()===ne.getMonth()}))throw new Error("Este policial já possui uma Folga Cmt Geral neste mês.")}const R=s.policiais.find(ne=>ne.id===y.policialld);if(!R)throw new Error("Policial não encontrado.");const{role:F}=N;let W,Q;F==="SUBORDINADO"?(W=H.ENVIADA_SARGENTO,Q=(me=s.users.find(ne=>ne.role==="SARGENTO"&&ne.pelotao===R.pelotao&&ne.ativo))==null?void 0:me.id):F==="SARGENTO"?W=H.APROVADA_SARGENTO:W=H.VALIDADA_ADMIN;const q={policialld:R.id,nome:R.nome,re:R.re,pelotao:R.pelotao,data:y.data,motivo:y.motivo,status:K.ATIVA,aprovacao:W,criadaPorld:N.id,atualizadoEm:new Date().toISOString(),trocadaPara:null,sargentoResponsavelld:Q};await le.createFolga(q,N),await a();const X=s.users.find(ne=>ne.id===Q);X&&await l([{id:Date.now(),policialId:X.id,mensagem:`${R.postoGrad} ${R.nome} solicitou uma folga.`,lida:!1,link:`/folgas?aprovacao=${H.ENVIADA_SARGENTO}`,criadoEm:new Date().toISOString()}])},[s,a,l]),j=f.useCallback(async(y,N,R)=>{await le.updateFolga(y,N,R);const F={...s.folgas.find(X=>X.folgald===y),...N};await a();const W=[],Q=s.users.find(X=>X.policialId===F.policialld),q=s.users.find(X=>X.role==="SARGENTO"&&X.pelotao===F.pelotao&&X.ativo);N.aprovacao&&Q&&W.push({id:Date.now(),policialId:Q.id,mensagem:`Sua folga teve o status alterado para ${F.aprovacao}`,lida:!1,link:"/folgas",criadoEm:new Date().toISOString()}),N.aprovacao===H.APROVADA_SARGENTO&&s.users.filter(X=>X.role==="ADMIN").forEach(X=>W.push({id:Date.now()+X.id,policialId:X.id,mensagem:`Folga de ${F.nome} aguardando sua validação.`,lida:!1,link:`/folgas?aprovacao=${H.APROVADA_SARGENTO}`,criadoEm:new Date().toISOString()})),N.aprovacao===H.VALIDADA_ADMIN&&q&&W.push({id:Date.now()+1,policialId:q.id,mensagem:`Folga de ${F.nome} foi validada.`,lida:!1,link:"/folgas",criadoEm:new Date().toISOString()}),W.length>0&&await l(W)},[s,a,l]),S=f.useCallback(async(y,N)=>{await le.createPolicial(y,N),await a()},[a]),E=f.useCallback(async(y,N)=>{await le.updatePolicial(y,N),await a()},[a]),m=f.useCallback(async(y,N)=>{await le.deletePolicial(y,N),await a()},[a]),h=f.useCallback(async(y,N)=>{await le.bulkUpsertPoliciais(y,N),await a()},[a]),g=f.useCallback(async(y,N)=>{await le.addLeaveCredit(y,N),await a()},[a]),C=f.useCallback(async(y,N)=>{await le.createFerias(y,N),await a()},[a]),b=f.useCallback(async(y,N,R)=>{await le.updateFerias(y,N,R),await a()},[a]),k=f.useCallback(async(y,N)=>{const R=await le.createAgendaEvento(y,N);await a();const F=new Map(s.users.map(Q=>[Q.policialId,Q])),W=R.policiaisIds.map((Q,q)=>{const X=F.get(Q);return X?{id:Date.now()+q,policialId:X.id,mensagem:`Você foi escalado para: "${R.titulo}" em ${new Date(R.data+"T12:00:00").toLocaleDateString()}.`,lida:!1,link:"/calendario",criadoEm:new Date().toISOString()}:null}).filter(Boolean);await l(W)},[a,l,s.users]),I=f.useCallback(async(y,N,R)=>{const F=s.agendaEventos.find(X=>X.id===y),W=await le.updateAgendaEvento(y,N,R);await a();const Q=new Set(F.policiaisIds),q=(W.policiaisIds||[]).filter(X=>!Q.has(X));if(q.length>0){const X=new Map(s.users.map(ne=>[ne.policialId,ne])),me=q.map((ne,_e)=>{const Ae=X.get(ne);return Ae?{id:Date.now()+_e,policialId:Ae.id,mensagem:`Você foi escalado para: "${W.titulo}" em ${new Date(W.data+"T12:00:00").toLocaleDateString()}.`,lida:!1,link:"/calendario",criadoEm:new Date().toISOString()}:null}).filter(Boolean);await l(me)}},[a,l,s.agendaEventos,s.users]),L=f.useCallback(async(y,N)=>{await le.deleteAgendaEvento(y,N),await a()},[a]),A=f.useCallback(async y=>{await le.markNotificacoesAsRead(y),await a()},[a]),T=f.useCallback(async(y,N,R)=>{if(!N.trim())return;const F=s.folgas.find(me=>me.folgald===y);if(!F)return;await le.createComentario({folgald:y,mensagem:N},R),await a();const W=s.users.find(me=>me.role==="SARGENTO"&&me.pelotao===F.pelotao&&me.ativo),Q=s.users.find(me=>me.policialId===F.policialld);let q,X="";R.role==="SUBORDINADO"&&W?(q=W,X=`${R.nome} comentou na folga de ${F.nome}.`):R.role==="SARGENTO"&&Q&&(q=Q,X="Seu sargento comentou em sua folga."),q&&await l([{id:Date.now(),policialId:q.id,mensagem:X,lida:!1,link:"/folgas",criadoEm:new Date().toISOString()}])},[a,s.folgas,s.users,l]),G=f.useCallback(async(y,N)=>{await le.createGrupo(y,N),await a()},[a]),O=f.useCallback(async(y,N)=>{await le.updateGrupo(y,N),await a()},[a]),M=f.useCallback(async(y,N)=>{await le.deleteGrupo(y,N),await a()},[a]),z=f.useCallback(async(y,N)=>{const R=await le.createProtocoloDoc(y,N);return await a(),R},[a]),w=f.useCallback(async y=>{await le.resetProtocoloCounter(y),await a()},[a]),$={...s,loading:t,addFolga:v,updateFolga:j,addPolicial:S,updatePolicial:E,deletePolicial:m,bulkUpsertPoliciais:h,adminAddLeaveCredits:g,getBalanceFor:p,getCreditsFor:d,countUsedFolgasFor:x,canRequestFolga:u,addFerias:C,updateFerias:b,addAgendaEvento:k,updateAgendaEvento:I,deleteAgendaEvento:L,markNotificacoesAsRead:A,addComentario:T,addGrupo:G,updateGrupo:O,deleteGrupo:M,addProtocoloDoc:z,adminResetProtocoloCounter:w};return r.jsx(ap.Provider,{value:$,children:e})};function bc(e){return(e||"").replace(/\D/g,"")}const cx=({className:e})=>r.jsx("div",{className:`flex items-center justify-center ${e}`,children:r.jsx("svg",{viewBox:"0 0 80 88",className:"h-20 w-auto",children:r.jsxs("g",{children:[r.jsx("path",{d:"M40 0 L80 16 V56 C80 78 40 88 40 88 C40 88 0 78 0 56 V16 Z",fill:"#19398A"}),r.jsx("path",{d:"M40 4 L76 18.4 V54.8 C76 74.8 40 84 40 84 C40 84 4 74.8 4 54.8 V18.4 Z",strokeWidth:"3",stroke:"white",fill:"none"}),r.jsx("text",{x:"32",y:"62",fontFamily:"Verdana, sans-serif",fontSize:"42",fontWeight:"bold",fill:"white",textAnchor:"middle",children:"Σ"}),r.jsx("text",{x:"55",y:"48",fontFamily:"Verdana, sans-serif",fontSize:"22",fontWeight:"bold",fill:"white",children:"E"})]})})}),dx=()=>{const e=pn(),{loginByRE:t}=ae(),[n,s]=f.useState(""),[o,a]=f.useState(""),[l,i]=f.useState(null),[c,d]=f.useState(null),[x,p]=f.useState(!1),u=j=>{const S=j.target.value;/\D/.test(S)?d("O RE deve conter apenas números."):d(null),s(bc(S))},v=async j=>{if(j.preventDefault(),i(null),c)return;const S=bc(n);if(S.length<3){i("Informe seu RE sem o dígito");return}if(!o||o.trim().length<3){i("Informe uma senha válida");return}p(!0);const{ok:E,error:m}=await t(S,o);if(p(!1),!E){i(m||"Falha no login");return}e("/dashboard")};return r.jsx("div",{className:"min-h-screen bg-pm-gray-50 flex items-center justify-center p-6",children:r.jsxs("div",{className:"w-full max-w-md bg-white shadow rounded-xl p-6",children:[r.jsxs("div",{className:"flex flex-col items-center mb-6",children:[r.jsx(cx,{}),r.jsx("h1",{className:"text-3xl font-bold text-pm-blue mt-4",children:"SIGMA-E"}),r.jsx("p",{className:"text-pm-gray-600 text-center text-base -mt-1",children:"Sistema Integrado de Gestão, Monitoramento e Administração do Efetivo"})]}),r.jsx("p",{className:"text-pm-gray-500 mb-6 text-center",children:"Acesse com seu RE (sem dígito) e senha."}),l&&r.jsx("div",{className:"mb-4 text-sm text-red-700 bg-red-50 border border-red-200 rounded p-2 text-center",children:l}),r.jsxs("form",{onSubmit:v,className:"space-y-4",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-pm-gray-700 mb-1 text-left",children:"RE (sem dígito)"}),r.jsx("input",{inputMode:"numeric",pattern:"[0-9]*",autoComplete:"username",className:`w-full border ${c?"border-red-500 focus:ring-red-500":"border-pm-gray-300 focus:ring-pm-blue"} rounded-lg px-3 py-2 focus:outline-none focus:ring-2`,placeholder:"Ex.: 123456",value:n,onChange:u,"aria-invalid":!!c,"aria-describedby":"re-error-message"}),c?r.jsx("p",{id:"re-error-message",className:"text-xs text-red-600 mt-1 text-left",children:c}):r.jsx("p",{className:"text-xs text-pm-gray-500 mt-1 text-left",children:"Digite apenas os números antes do traço. Ex.: se seu RE é 123456-7, digite 123456."})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-pm-gray-700 mb-1 text-left",children:"Senha"}),r.jsx("input",{type:"password",autoComplete:"current-password",className:"w-full border border-pm-gray-300 rounded-lg px-3 py-2 focus:outline-none focus:ring-2 focus:ring-pm-blue",placeholder:"Sua senha",value:o,onChange:j=>a(j.target.value)})]}),r.jsx("button",{type:"submit",disabled:x,className:"w-full bg-pm-blue hover:bg-pm-blue-dark text-white rounded-lg py-2 font-semibold transition disabled:opacity-50",children:x?"Entrando...":"Entrar"})]}),r.jsx("div",{className:"mt-6 text-xs text-center text-pm-gray-500",children:"Acesso ao sistema é concedido pelo Administrador na área interna (Gerenciar Policiais)."}),r.jsx("div",{className:"mt-8 border-t pt-4 text-center text-xs text-pm-gray-400",children:"Desenvolvido por Cb PM 143468-3 Samuel Henrique Alves"})]})})},Nt=({title:e,value:t,icon:n,color:s,onClick:o})=>{const a=r.jsxs(r.Fragment,{children:[r.jsx("div",{className:`p-4 rounded-full ${s} mr-4`,children:n}),r.jsxs("div",{children:[r.jsx("p",{className:"text-sm text-pm-gray-500 font-medium",children:e}),r.jsx("p",{className:"text-3xl font-bold text-pm-gray-800",children:t})]})]});return o?r.jsx("button",{onClick:o,className:"bg-white p-6 rounded-lg shadow-md flex items-center w-full text-left transition-transform transform hover:scale-105 hover:shadow-lg focus:outline-none focus:ring-2 focus:ring-pm-blue focus:ring-offset-2","aria-label":`${e}: ${t}`,children:a}):r.jsx("div",{className:"bg-white p-6 rounded-lg shadow-md flex items-center",children:a})},ux=e=>{const{folgas:t}=pe(),{currentUser:n,role:s}=ae();return f.useMemo(()=>t.filter(o=>s==="SUBORDINADO"?o.policialld===(n==null?void 0:n.policialId):s==="SARGENTO"?(n==null?void 0:n.pelotao)==="TODOS"?!0:o.pelotao===(n==null?void 0:n.pelotao)||o.sargentoResponsavelld===(n==null?void 0:n.id):!0).filter(o=>{const a=e.nomeRe.toLowerCase(),l=!e.nomeRe||o.nome.toLowerCase().includes(a)||o.re.toLowerCase().includes(a),i=!e.pelotao||o.pelotao===e.pelotao,c=!e.aprovacao||o.aprovacao===e.aprovacao,d=!e.status||o.status===e.status;return l&&i&&c&&d}).sort((o,a)=>new Date(a.criadoEm).getTime()-new Date(o.criadoEm).getTime()),[t,e,s,n])},px=e=>{const{folgas:t,policiais:n}=pe(),{currentUser:s,role:o}=ae(),a=f.useMemo(()=>t.filter(d=>o==="SUBORDINADO"?d.policialld===(s==null?void 0:s.policialId):o==="SARGENTO"&&(s==null?void 0:s.pelotao)!=="TODOS"?d.pelotao===(s==null?void 0:s.pelotao):!0).filter(d=>{const x=n.find(S=>S.id===d.policialld),p=d.data.substring(0,7),u=!e.mes||p===e.mes,v=!e.pelotao||d.pelotao===e.pelotao,j=!e.postoGrad||x&&x.postoGrad===e.postoGrad;return u&&v&&j}),[t,n,e,o,s]),l=f.useMemo(()=>{const d=a.filter(S=>S.aprovacao===H.VALIDADA_ADMIN),x=d.filter(S=>S.status===K.ATIVA).length,p=d.filter(S=>S.status===K.TROCADA).length,u=d.filter(S=>S.status===K.EXCLUIDA).length,v=a.filter(S=>S.aprovacao===H.ENVIADA_SARGENTO).length,j=a.filter(S=>S.aprovacao===H.APROVADA_SARGENTO).length;return{ativas:x,trocadas:p,excluidas:u,total:x+p+u,pendenteSgt:v,pendenteAdmin:j}},[a]),i=f.useMemo(()=>{const d=a.map(p=>p.motivo).filter(p=>!!p&&p.trim()!=="");if(d.length===0)return[];const x={"Folga Cmt Geral":0,"Folga Cmt Cia":0,"Folga Compensação":0,"Folga Outros":0,"Motivos Antigos/Outros":0};return d.forEach(p=>{p.startsWith("Folga Cmt Geral")?x["Folga Cmt Geral"]++:p.startsWith("Folga Cmt Cia")?x["Folga Cmt Cia"]++:p.startsWith("Folga Compensação")?x["Folga Compensação"]++:p.startsWith("Folga Outros")?x["Folga Outros"]++:x["Motivos Antigos/Outros"]++}),Object.entries(x).map(([p,u])=>({category:p,count:u})).filter(p=>p.count>0).sort((p,u)=>u.count-p.count)},[a]),c=f.useMemo(()=>{const d=new Set(t.map(x=>x.data.substring(0,7)));return Array.from(d).sort().reverse()},[t]);return{stats:l,reasonChartData:i,mesesDisponiveis:c}},mx=()=>{const{folgas:e,ferias:t,agendaEventos:n,policiais:s}=pe(),{currentUser:o,role:a}=ae(),l=f.useMemo(()=>new Map(s.map(p=>[p.id,p])),[s]),i=p=>p.toISOString().split("T")[0],c=f.useMemo(()=>{const p=new Map;return e.filter(u=>u.status===K.ATIVA&&u.aprovacao===H.VALIDADA_ADMIN).filter(u=>a==="SUBORDINADO"?u.policialld===(o==null?void 0:o.policialId):a==="SARGENTO"&&(o==null?void 0:o.pelotao)!=="TODOS"?u.pelotao===(o==null?void 0:o.pelotao):!0).forEach(u=>{const v=u.data;p.has(v)||p.set(v,[]),p.get(v).push(u)}),p},[e,a,o]),d=f.useMemo(()=>{const p=new Map;return t.filter(u=>u.status===we.AGENDADA).filter(u=>{const v=l.get(u.policialId);return a==="SUBORDINADO"?u.policialId===(o==null?void 0:o.policialId):a==="SARGENTO"&&(o==null?void 0:o.pelotao)!=="TODOS"?(v==null?void 0:v.pelotao)===(o==null?void 0:o.pelotao):!0}).forEach(u=>{const v=l.get(u.policialId),j={...u};v&&(j.nome=v.nome,j.re=v.re,j.pelotao=v.pelotao);let S=new Date(u.dataInicio+"T12:00:00");const E=new Date(u.dataFim+"T12:00:00");for(;S<=E;){const m=i(S);p.has(m)||p.set(m,[]),p.get(m).push(j),S.setDate(S.getDate()+1)}}),p},[t,a,o,l]),x=f.useMemo(()=>{const p=new Map;return n.filter(v=>a==="ADMIN"||a==="SARGENTO"&&(o==null?void 0:o.pelotao)==="TODOS"?!0:a==="SARGENTO"?v.policiaisIds.some(j=>{var S;return((S=l.get(j))==null?void 0:S.pelotao)===(o==null?void 0:o.pelotao)}):a==="SUBORDINADO"?v.policiaisIds.includes((o==null?void 0:o.policialId)??-1):!1).forEach(v=>{const j=v.data;p.has(j)||p.set(j,[]),p.get(j).push(v)}),p},[n,a,o,l]);return{folgasAtivasPorDia:c,feriasPorDia:d,eventosAgendaPorDia:x}},hx=e=>{const{historico:t}=pe();return f.useMemo(()=>t.filter(n=>{const s=new Date(n.timestamp).getTime(),o=!e.userId||n.actorId===parseInt(e.userId),a=!e.dataInicio||s>=new Date(e.dataInicio).getTime(),l=!e.dataFim||s<=new Date(e.dataFim+"T23:59:59").getTime();return o&&a&&l}),[t,e])},fx=e=>{const{policiais:t,getCreditsFor:n,countUsedFolgasFor:s}=pe(),{yearFilter:o,pelotaoFilter:a,searchFilter:l}=e;return f.useMemo(()=>{const i=l.toLowerCase();return t.filter(c=>c.ativo).map(c=>{const d=n(c.id,o),x=s(c.id,o),p=d-x;return{...c,creditos:d,usadas:x,saldo:p}}).filter(c=>{const d=!l||c.nome.toLowerCase().includes(i)||c.re.includes(i),x=!a||c.pelotao===a;return d&&x}).sort((c,d)=>c.nome.localeCompare(d.nome))},[t,o,a,l,n,s])},xx=e=>{const{ferias:t,policiais:n}=pe(),{currentUser:s,role:o}=ae(),a=f.useMemo(()=>new Map(n.map(l=>[l.id,l])),[n]);return f.useMemo(()=>t.map(l=>{const i=a.get(l.policialId);if(i){const{id:c,...d}=i;return{...l,...d}}return l}).filter(l=>{const i=o==="ADMIN"||o==="SARGENTO"&&((s==null?void 0:s.pelotao)==="TODOS"||l.pelotao===(s==null?void 0:s.pelotao))||l.policialId===(s==null?void 0:s.policialId),c=!e.ano||l.anoReferencia.toString()===e.ano,d=!e.pelotao||l.pelotao===e.pelotao,x=!e.status||l.status===e.status;return i&&c&&d&&x}).sort((l,i)=>new Date(i.criadoEm).getTime()-new Date(l.criadoEm).getTime()),[t,e,o,s,a])},gx=()=>{const{agendaEventos:e}=pe();return f.useMemo(()=>[...e].sort((t,n)=>new Date(n.data).getTime()-new Date(t.data).getTime()),[e])},vx=e=>{const{policiais:t,agendaEventos:n}=pe(),{tipoFiltro:s,pelotaoFiltro:o}=e,{role:a,currentUser:l}=ae(),i=f.useMemo(()=>a==="SARGENTO"&&(l==null?void 0:l.pelotao)!=="TODOS"?t.filter(c=>c.pelotao===(l==null?void 0:l.pelotao)):t,[t,a,l]);return f.useMemo(()=>{const c=n.filter(v=>v.tipo===s),d=new Map;c.forEach(v=>{v.policiaisIds.forEach(j=>{const S=i.find(E=>E.id===j);if(S){const E=d.get(j);(!E||new Date(v.data)>new Date(E.evento.data))&&d.set(j,{policial:S,evento:v})}})});const x=i.filter(v=>v.ativo);let p=x.filter(v=>!d.has(v.id)),u=Array.from(d.values()).sort((v,j)=>v.policial.nome.localeCompare(j.policial.nome));return o&&(u=u.filter(v=>v.policial.pelotao===o),p=x.filter(v=>v.pelotao===o&&!d.has(v.id))),{participantes:u,pendentes:p.sort((v,j)=>v.nome.localeCompare(j.nome))}},[s,o,n,i])},yx=e=>r.jsxs("svg",{...e,xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[r.jsx("rect",{x:"2",y:"7",width:"20",height:"14",rx:"2",ry:"2"}),r.jsx("path",{d:"M16 21V5a2 2 0 0 0-2-2h-4a2 2 0 0 0-2 2v16"})]}),wx=e=>r.jsxs("svg",{...e,xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[r.jsx("path",{d:"M16 4h2a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h2"}),r.jsx("rect",{x:"8",y:"2",width:"8",height:"4",rx:"1",ry:"1"}),r.jsx("path",{d:"m9 14 2 2 4-4"})]}),jx=e=>r.jsxs("svg",{...e,xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[r.jsx("rect",{x:"3",y:"4",width:"18",height:"18",rx:"2",ry:"2"}),r.jsx("line",{x1:"16",y1:"2",x2:"16",y2:"6"}),r.jsx("line",{x1:"8",y1:"2",x2:"8",y2:"6"}),r.jsx("line",{x1:"3",y1:"10",x2:"21",y2:"10"}),r.jsx("path",{d:"m9 16 2 2 4-4"})]}),Nx=e=>r.jsx("svg",{...e,xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:r.jsx("path",{d:"M17.8 19.2 16 11l3.5-3.5C21 6 21.5 4 21 3c-1-.5-3 0-4.5 1.5L13 8 4.8 6.2c-.5-.1-.9.1-1.1.5l-.3.5c-.2.5-.1 1 .3 1.3L9 12l-2 3H4l-1 1 3 2 2 3 1-1v-3l3-2 3.5 5.3c.3.4.8.5 1.3.3l.5-.2c.4-.3.6-.7.5-1.2z"})}),Dc=({className:e})=>r.jsxs("svg",{className:e,xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[r.jsx("circle",{cx:"12",cy:"12",r:"10"}),r.jsx("polyline",{points:"12 6 12 12 16 14"})]}),Sx=({className:e})=>r.jsx("svg",{className:e,xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:r.jsx("polyline",{points:"20 6 9 17 4 12"})}),Cx=({className:e="h-5 w-5"})=>r.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24",fill:"none",stroke:"currentColor",strokeWidth:"2.5",strokeLinecap:"round",strokeLinejoin:"round",className:e,children:[r.jsx("circle",{cx:"12",cy:"12",r:"10"}),r.jsx("circle",{cx:"12",cy:"12",r:"6"}),r.jsx("circle",{cx:"12",cy:"12",r:"2"})]}),Ex=({icon:e,title:t,date:n,details:s,link:o,colorClass:a})=>{const l=r.jsxs("div",{className:"flex items-start space-x-4 p-3 hover:bg-pm-gray-50 rounded-lg transition-colors duration-150",children:[r.jsx("div",{className:`flex-shrink-0 w-10 h-10 rounded-full flex items-center justify-center ${a}`,children:e}),r.jsxs("div",{className:"flex-1",children:[r.jsx("p",{className:"font-semibold text-pm-gray-800",children:t}),r.jsx("p",{className:"text-sm text-pm-gray-600",children:n}),s&&r.jsx("p",{className:"text-xs text-pm-gray-500 mt-1",children:s})]})]});return o?r.jsx(Kr,{to:o,children:l}):r.jsx("div",{children:l})},Ax=()=>{const{currentUser:e}=ae(),{agendaEventos:t,folgas:n,ferias:s}=pe(),o=f.useMemo(()=>{if(!(e!=null&&e.policialId))return[];const l=new Date;l.setHours(0,0,0,0);const i=new Date(l);i.setDate(l.getDate()+7);const c=[];return t.forEach(d=>{const x=new Date(d.data+"T12:00:00");d.policiaisIds.includes(e.policialId)&&x>=l&&x<=i&&c.push({icon:d.tipo==="OPERACAO"?r.jsx(yx,{className:"h-5 w-5 text-white"}):r.jsx(wx,{className:"h-5 w-5 text-white"}),title:d.titulo,date:`${x.toLocaleDateString("pt-BR")} das ${d.horaInicio} às ${d.horaFim}`,details:`Tipo: ${jn[d.tipo]}`,link:"/calendario",colorClass:"bg-pm-blue"})}),n.forEach(d=>{const x=new Date(d.data+"T12:00:00");d.policialld===e.policialId&&d.status===K.ATIVA&&d.aprovacao===H.VALIDADA_ADMIN&&x>=l&&x<=i&&c.push({icon:r.jsx(jx,{className:"h-5 w-5 text-white"}),title:"Folga Programada",date:x.toLocaleDateString("pt-BR"),link:"/folgas",colorClass:"bg-green-500"})}),s.forEach(d=>{const x=new Date(d.dataInicio+"T12:00:00"),p=new Date(d.dataFim+"T12:00:00");d.policialId===e.policialId&&x<=i&&p>=l&&c.push({icon:r.jsx(Nx,{className:"h-5 w-5 text-white"}),title:"Férias",date:`${x.toLocaleDateString("pt-BR")} a ${p.toLocaleDateString("pt-BR")}`,link:"/ferias",colorClass:"bg-teal-500"})}),n.forEach(d=>{d.policialld===e.policialId&&d.aprovacao===H.ENVIADA_SARGENTO&&c.push({icon:r.jsx(Dc,{className:"h-5 w-5 text-white"}),title:"Folga Aguardando Aprovação",date:`Solicitada para ${new Date(d.data+"T12:00:00").toLocaleDateString("pt-BR")}`,link:`/folgas?aprovacao=${H.ENVIADA_SARGENTO}`,colorClass:"bg-yellow-500"})}),c.sort((d,x)=>new Date(d.date.split(" ")[0].split("/").reverse().join("-")).getTime()-new Date(x.date.split(" ")[0].split("/").reverse().join("-")).getTime())},[e,t,n,s]),a=f.useMemo(()=>{if(!(e!=null&&e.policialId))return null;const l=t.filter(i=>i.tipo===ee.EAP&&i.policiaisIds.includes(e.policialId)).sort((i,c)=>new Date(c.data).getTime()-new Date(i.data).getTime());if(l.length>0){const i=l[0];return{status:"Concluído",date:new Date(i.data+"T12:00:00").toLocaleDateString("pt-BR"),details:i.titulo}}else return{status:"Pendente",date:null,details:"Aguardando escalonamento para o próximo EAP."}},[e,t]);return r.jsxs(r.Fragment,{children:[r.jsxs("div",{className:"bg-white p-6 rounded-lg shadow-md mb-8",children:[r.jsx("h2",{className:"text-xl font-bold text-pm-gray-800 mb-4",children:"Próximos 7 Dias: Suas Atividades e Ausências"}),o.length>0?r.jsx("div",{className:"space-y-2",children:o.map((l,i)=>r.jsx(Ex,{...l},i))}):r.jsx("p",{className:"text-pm-gray-600",children:"Nenhuma atividade agendada para os próximos 7 dias."})]}),a&&r.jsxs("div",{className:"bg-white p-6 rounded-lg shadow-md mb-8",children:[r.jsxs("h2",{className:"text-xl font-bold text-pm-gray-800 mb-4 flex items-center gap-2",children:[r.jsx(Cx,{className:"h-6 w-6 text-purple-600"}),"Status do seu EAP (Estágio de Aperfeiçoamento Profissional)"]}),r.jsxs("div",{className:`flex items-center p-4 rounded-lg ${a.status==="Concluído"?"bg-green-50 border-green-200":"bg-yellow-50 border-yellow-200"} border`,children:[r.jsx("div",{className:`flex-shrink-0 w-12 h-12 rounded-full flex items-center justify-center ${a.status==="Concluído"?"bg-green-100":"bg-yellow-100"}`,children:a.status==="Concluído"?r.jsx(Sx,{className:"h-6 w-6 text-green-600"}):r.jsx(Dc,{className:"h-6 w-6 text-yellow-600"})}),r.jsxs("div",{className:"ml-4",children:[r.jsx("p",{className:`font-bold text-lg ${a.status==="Concluído"?"text-green-800":"text-yellow-800"}`,children:a.status}),r.jsx("p",{className:"text-sm text-pm-gray-600",children:a.status==="Concluído"?`Última participação em ${a.date} (${a.details})`:a.details})]})]})]})]})},kx=e=>r.jsxs("svg",{...e,xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[r.jsx("rect",{x:"2",y:"7",width:"20",height:"14",rx:"2",ry:"2"}),r.jsx("path",{d:"M16 21V5a2 2 0 0 0-2-2h-4a2 2 0 0 0-2 2v16"})]}),bx=e=>r.jsxs("svg",{...e,xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[r.jsx("rect",{x:"3",y:"4",width:"18",height:"18",rx:"2",ry:"2"}),r.jsx("line",{x1:"16",y1:"2",x2:"16",y2:"6"}),r.jsx("line",{x1:"8",y1:"2",x2:"8",y2:"6"}),r.jsx("line",{x1:"3",y1:"10",x2:"21",y2:"10"}),r.jsx("path",{d:"m9 16 2 2 4-4"})]}),Dx=e=>r.jsxs("svg",{...e,xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[r.jsx("polyline",{points:"22 12 16 12 14 15 10 15 8 12 2 12"}),r.jsx("path",{d:"M5.45 5.11 2 12v6a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2v-6l-3.45-6.89A2 2 0 0 0 16.76 4H7.24a2 2 0 0 0-1.79 1.11z"})]}),Ox=()=>{const{currentUser:e}=ae(),{folgas:t,ferias:n,agendaEventos:s,policiais:o}=pe();pn();const a=f.useMemo(()=>{if(!(e!=null&&e.pelotao))return{pendentes:[],proximosEventos:[],proximasAusencias:[]};const l=new Date;l.setHours(0,0,0,0);const i=new Date(l);i.setDate(l.getDate()+7);const c=new Set(o.filter(u=>u.pelotao===e.pelotao).map(u=>u.id)),d=t.filter(u=>u.aprovacao===H.ENVIADA_SARGENTO&&u.pelotao===e.pelotao),x=s.filter(u=>{const v=new Date(u.data+"T12:00:00");return v>=l&&v<=i&&u.policiaisIds.some(j=>c.has(j))}).flatMap(u=>u.policiaisIds.filter(v=>c.has(v)).map(v=>({policial:o.find(j=>j.id===v),evento:u}))).filter(u=>u.policial),p=[];return t.forEach(u=>{const v=new Date(u.data+"T12:00:00");u.status===K.ATIVA&&u.aprovacao===H.VALIDADA_ADMIN&&c.has(u.policialld)&&v>=l&&v<=i&&p.push({policial:o.find(j=>j.id===u.policialld),tipo:"Folga",data:v.toLocaleDateString("pt-BR")})}),n.forEach(u=>{const v=new Date(u.dataInicio+"T12:00:00"),j=new Date(u.dataFim+"T12:00:00");c.has(u.policialId)&&v<=i&&j>=l&&p.push({policial:o.find(S=>S.id===u.policialId),tipo:"Férias",data:`${v.toLocaleDateString("pt-BR")} a ${j.toLocaleDateString("pt-BR")}`})}),{pendentes:d,proximosEventos:x,proximasAusencias:p.sort((u,v)=>new Date(u.data.split(" ")[0].split("/").reverse().join("-")).getTime()-new Date(v.data.split(" ")[0].split("/").reverse().join("-")).getTime())}},[e,t,n,s,o]);return r.jsxs("div",{className:"bg-white p-6 rounded-lg shadow-md mb-8",children:[r.jsxs("h2",{className:"text-xl font-bold text-pm-gray-800 mb-4",children:["Painel do Sargento (",e==null?void 0:e.pelotao,")"]}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[r.jsxs("div",{children:[r.jsxs("h3",{className:"font-semibold text-pm-gray-700 border-b pb-2 mb-3 flex items-center",children:[r.jsx(Dx,{className:"h-5 w-5 mr-2 text-pm-red-dark"})," Aprovações Pendentes (",a.pendentes.length,")"]}),r.jsx("div",{className:"space-y-3",children:a.pendentes.length>0?a.pendentes.map(l=>r.jsxs(Kr,{to:`/folgas?aprovacao=${H.ENVIADA_SARGENTO}`,className:"block p-2 bg-pm-red-100/50 hover:bg-pm-red-100 rounded-lg border border-pm-red-200",children:[r.jsx("p",{className:"font-semibold text-sm text-pm-red-800",children:l.nome}),r.jsxs("p",{className:"text-xs text-pm-gray-600",children:["Para ",new Date(l.data+"T12:00:00").toLocaleDateString("pt-BR")]})]},l.folgald)):r.jsx("p",{className:"text-sm text-pm-gray-500",children:"Nenhuma pendência."})})]}),r.jsxs("div",{children:[r.jsxs("h3",{className:"font-semibold text-pm-gray-700 border-b pb-2 mb-3 flex items-center",children:[r.jsx(kx,{className:"h-5 w-5 mr-2 text-pm-blue"})," Efetivo em Eventos (Próx. 7 dias)"]}),r.jsx("div",{className:"space-y-2 max-h-60 overflow-y-auto",children:a.proximosEventos.length>0?a.proximosEventos.map((l,i)=>r.jsxs("div",{className:"p-2 border-b",children:[r.jsx("p",{className:"font-semibold text-sm",children:l.policial.nome}),r.jsxs("p",{className:"text-xs text-pm-gray-600",children:[l.evento.titulo," em ",new Date(l.evento.data+"T12:00:00").toLocaleDateString("pt-BR")]})]},i)):r.jsx("p",{className:"text-sm text-pm-gray-500",children:"Nenhum policial em eventos."})})]}),r.jsxs("div",{children:[r.jsxs("h3",{className:"font-semibold text-pm-gray-700 border-b pb-2 mb-3 flex items-center",children:[r.jsx(bx,{className:"h-5 w-5 mr-2 text-green-600"})," Próximas Folgas e Férias"]}),r.jsx("div",{className:"space-y-2 max-h-60 overflow-y-auto",children:a.proximasAusencias.length>0?a.proximasAusencias.map((l,i)=>r.jsxs("div",{className:"p-2 border-b",children:[r.jsx("p",{className:"font-semibold text-sm",children:l.policial.nome}),r.jsxs("p",{className:"text-xs text-pm-gray-600",children:[l.tipo," em ",l.data]})]},i)):r.jsx("p",{className:"text-sm text-pm-gray-500",children:"Nenhuma ausência programada."})})]})]})]})},Ix=({className:e})=>r.jsxs("svg",{className:e,xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[r.jsx("rect",{x:"3",y:"4",width:"18",height:"18",rx:"2",ry:"2"}),r.jsx("line",{x1:"16",y1:"2",x2:"16",y2:"6"}),r.jsx("line",{x1:"8",y1:"2",x2:"8",y2:"6"}),r.jsx("line",{x1:"3",y1:"10",x2:"21",y2:"10"})]}),Rx=({className:e})=>r.jsx("svg",{className:e,xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:r.jsx("polyline",{points:"20 6 9 17 4 12"})}),Px=({className:e})=>r.jsxs("svg",{className:e,xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[r.jsx("polyline",{points:"16 3 21 3 21 8"}),r.jsx("line",{x1:"4",y1:"20",x2:"21",y2:"3"}),r.jsx("polyline",{points:"8 21 3 21 3 16"}),r.jsx("line",{x1:"20",y1:"4",x2:"3",y2:"21"})]}),Lx=({className:e})=>r.jsxs("svg",{className:e,xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[r.jsx("circle",{cx:"12",cy:"12",r:"10"}),r.jsx("line",{x1:"15",y1:"9",x2:"9",y2:"15"}),r.jsx("line",{x1:"9",y1:"9",x2:"15",y2:"15"})]}),Oc=({className:e})=>r.jsxs("svg",{className:e,xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[r.jsx("circle",{cx:"12",cy:"12",r:"10"}),r.jsx("polyline",{points:"12 6 12 12 16 14"})]}),Tx=e=>r.jsx("svg",{...e,xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:r.jsx("path",{d:"M17.8 19.2 16 11l3.5-3.5C21 6 21.5 4 21 3c-1-.5-3 0-4.5 1.5L13 8 4.8 6.2c-.5-.1-.9.1-1.1.5l-.3.5c-.2.5-.1 1 .3 1.3L9 12l-2 3H4l-1 1 3 2 2 3 1-1v-3l3-2 3.5 5.3c.3.4.8.5 1.3.3l.5-.2c.4-.3.6-.7.5-1.2z"})}),_x=({className:e="h-5 w-5"})=>r.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24",fill:"none",stroke:"currentColor",strokeWidth:"2.5",strokeLinecap:"round",strokeLinejoin:"round",className:e,children:r.jsx("path",{d:"M4 19.5A2.5 2.5 0 0 1 6.5 17H20v2H6.5A2.5 2.5 0 0 1 4 19.5v-15A2.5 2.5 0 0 1 6.5 2H20v15H6.5A2.5 2.5 0 0 1 4 4.5z"})}),Mx=({className:e="h-5 w-5"})=>r.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24",fill:"none",stroke:"currentColor",strokeWidth:"2.5",strokeLinecap:"round",strokeLinejoin:"round",className:e,children:[r.jsx("circle",{cx:"12",cy:"12",r:"10"}),r.jsx("circle",{cx:"12",cy:"12",r:"6"}),r.jsx("circle",{cx:"12",cy:"12",r:"2"})]}),Fx=e=>r.jsxs("svg",{...e,xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[r.jsx("circle",{cx:"12",cy:"8",r:"7"}),r.jsx("polyline",{points:"8.21 13.89 7 23 12 17 17 23 15.79 13.88"})]}),$x=()=>{const{role:e,currentUser:t}=ae(),{ferias:n,agendaEventos:s,getBalanceFor:o,grupos:a}=pe(),[l,i]=rp(),c=pn(),[d,x]=f.useState({mes:l.get("mes")||"",pelotao:l.get("pelotao")||"",postoGrad:l.get("postoGrad")||""}),{stats:p,reasonChartData:u,mesesDisponiveis:v}=px(d);f.useEffect(()=>{const b=new URLSearchParams;d.mes&&b.set("mes",d.mes),d.pelotao&&b.set("pelotao",d.pelotao),d.postoGrad&&b.set("postoGrad",d.postoGrad),i(b)},[d,i]);const j=f.useMemo(()=>[...a].sort((b,k)=>b.nome.localeCompare(k.nome)),[a]),S=new Date().getFullYear(),E=t!=null&&t.policialId?o(t.policialId,S):null,m=f.useMemo(()=>{const b=new Date,k=b.getFullYear(),I=b.getMonth(),L=new Date(k,I,1),A=new Date(k,I+1,0),T=new Set;n.forEach(M=>{if(M.status===we.AGENDADA){const z=new Date(M.dataInicio+"T12:00:00"),w=new Date(M.dataFim+"T12:00:00");z<=A&&w>=L&&T.add(M.policialId)}});const G=new Set,O=new Set;return s.forEach(M=>{const z=new Date(M.data+"T12:00:00");z.getFullYear()===k&&z.getMonth()===I&&(M.tipo===ee.EAP?M.policiaisIds.forEach(w=>G.add(w)):M.tipo===ee.CURSO&&M.policiaisIds.forEach(w=>O.add(w)))}),{feriasMesCorrente:T.size,eapMesCorrente:G.size,cursoMesCorrente:O.size}},[n,s]),h=b=>{const{name:k,value:I}=b.target;x(L=>({...L,[k]:I}))},C={ADMIN:{color:"bg-pm-blue-light bg-opacity-20",icon:"text-pm-blue"},SARGENTO:{color:"bg-red-100",icon:"text-pm-red-dark"},SUBORDINADO:{color:"bg-pm-gray-200",icon:"text-pm-gray-800"}}[e||"SUBORDINADO"];return r.jsxs("div",{children:[r.jsx("h1",{className:"text-3xl font-bold text-pm-gray-800",children:"Página Inicial"}),r.jsxs("p",{className:"text-lg text-pm-gray-600 mb-6",children:["Bem-vindo, ",t==null?void 0:t.nome,"!"]}),(t==null?void 0:t.policialId)&&E!==null&&r.jsx("div",{className:"mb-8 max-w-sm",children:r.jsx(Nt,{title:`MEU SALDO DE FOLGAS (${S})`,value:E,icon:r.jsx(Fx,{className:E>0?"text-green-600":"text-red-600"}),color:E>0?"bg-green-100":"bg-red-100",onClick:()=>c("/folgas")})}),e==="SUBORDINADO"&&r.jsx(Ax,{}),e==="SARGENTO"&&r.jsx(Ox,{}),r.jsx("div",{className:"bg-white p-4 rounded-lg shadow-md mb-6",children:r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[r.jsxs("div",{children:[r.jsx("label",{htmlFor:"mes",className:"block text-sm font-medium text-pm-gray-700",children:"Mês"}),r.jsxs("select",{id:"mes",name:"mes",value:d.mes,onChange:h,className:"mt-1 block w-full pl-3 pr-10 py-2 text-base border-pm-gray-300 focus:outline-none focus:ring-pm-blue focus:border-pm-blue sm:text-sm rounded-md",children:[r.jsx("option",{value:"",children:"Todos os Meses"}),v.map(b=>r.jsx("option",{value:b,children:new Date(b+"-02").toLocaleString("pt-BR",{month:"long",year:"numeric"})},b))]})]}),r.jsxs("div",{children:[r.jsx("label",{htmlFor:"pelotao",className:"block text-sm font-medium text-pm-gray-700",children:"Grupo/Pelotão"}),r.jsxs("select",{id:"pelotao",name:"pelotao",value:d.pelotao,onChange:h,className:"mt-1 block w-full pl-3 pr-10 py-2 text-base border-pm-gray-300 focus:outline-none focus:ring-pm-blue focus:border-pm-blue sm:text-sm rounded-md",children:[r.jsx("option",{value:"",children:"Todos os Grupos"}),j.map(b=>r.jsx("option",{value:b.nome,children:b.nome},b.id))]})]}),r.jsxs("div",{children:[r.jsx("label",{htmlFor:"postoGrad",className:"block text-sm font-medium text-pm-gray-700",children:"Posto/Grad."}),r.jsxs("select",{id:"postoGrad",name:"postoGrad",value:d.postoGrad,onChange:h,className:"mt-1 block w-full pl-3 pr-10 py-2 text-base border-pm-gray-300 focus:outline-none focus:ring-pm-blue focus:border-pm-blue sm:text-sm rounded-md",children:[r.jsx("option",{value:"",children:"Todos os Postos/Grads"}),sp.map(b=>r.jsx("option",{value:b,children:b},b))]})]})]})}),e==="ADMIN"&&r.jsxs(r.Fragment,{children:[r.jsx("h2",{className:"text-xl font-semibold text-pm-gray-700 mb-4",children:"Resumo do Mês Corrente"}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6 mb-8",children:[r.jsx(Nt,{title:"POLICIAIS DE FÉRIAS",value:m.feriasMesCorrente,icon:r.jsx(Tx,{className:"text-teal-600"}),color:"bg-teal-100",onClick:()=>c("/ferias")}),r.jsx(Nt,{title:"EM EAP",value:m.eapMesCorrente,icon:r.jsx(Mx,{className:"text-purple-600"}),color:"bg-purple-100",onClick:()=>c("/agenda")}),r.jsx(Nt,{title:"EM CURSO",value:m.cursoMesCorrente,icon:r.jsx(_x,{className:"text-indigo-600"}),color:"bg-indigo-100",onClick:()=>c("/agenda")})]})]}),r.jsx("h2",{className:"text-xl font-semibold text-pm-gray-700 mb-4",children:"Resumo Oficial (Folgas Validadas)"}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-8",children:[r.jsx(Nt,{title:"TOTAL DE FOLGAS",value:p.total,icon:r.jsx(Ix,{className:C.icon}),color:C.color,onClick:()=>c(`/folgas?aprovacao=${H.VALIDADA_ADMIN}`)}),r.jsx(Nt,{title:"ATIVAS",value:p.ativas,icon:r.jsx(Rx,{className:"text-green-600"}),color:"bg-green-100",onClick:()=>c(`/folgas?aprovacao=${H.VALIDADA_ADMIN}&status=${K.ATIVA}`)}),r.jsx(Nt,{title:"TROCADAS",value:p.trocadas,icon:r.jsx(Px,{className:"text-yellow-600"}),color:"bg-yellow-100",onClick:()=>c(`/folgas?aprovacao=${H.VALIDADA_ADMIN}&status=${K.TROCADA}`)}),r.jsx(Nt,{title:"EXCLUÍDAS",value:p.excluidas,icon:r.jsx(Lx,{className:"text-red-600"}),color:"bg-red-100",onClick:()=>c(`/folgas?aprovacao=${H.VALIDADA_ADMIN}&status=${K.EXCLUIDA}`)})]}),r.jsx("h2",{className:"text-xl font-semibold text-pm-gray-700 mb-4",children:"Pendências"}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[r.jsx(Nt,{title:"PENDENTES SARGENTO",value:p.pendenteSgt,icon:r.jsx(Oc,{className:"text-orange-600"}),color:"bg-orange-100",onClick:()=>c(`/folgas?aprovacao=${H.ENVIADA_SARGENTO}`)}),r.jsx(Nt,{title:"PENDENTES ADMIN",value:p.pendenteAdmin,icon:r.jsx(Oc,{className:"text-cyan-600"}),color:"bg-cyan-100",onClick:()=>c(`/folgas?aprovacao=${H.APROVADA_SARGENTO}`)})]}),r.jsxs("div",{className:"mt-8",children:[r.jsx("h2",{className:"text-xl font-semibold text-pm-gray-700 mb-4",children:"Análise de Motivos de Folga"}),r.jsx("div",{className:"bg-white p-6 rounded-lg shadow-md",children:u.length>0?r.jsxs("div",{children:[r.jsx("h3",{className:"font-semibold text-pm-gray-800 mb-4",children:"Principais Motivos de Folga"}),r.jsx("div",{className:"space-y-3",children:u.map(({category:b,count:k},I)=>{const L=u[0].count,A=L>0?k/L*100:0;return r.jsxs("div",{className:"grid grid-cols-12 gap-4 items-center text-sm",children:[r.jsx("div",{className:"col-span-3 text-pm-gray-600 font-medium truncate",children:b}),r.jsx("div",{className:"col-span-9",children:r.jsx("div",{className:"w-full bg-pm-gray-200 rounded-full h-6 relative",children:r.jsx("div",{className:"bg-pm-blue h-6 rounded-full flex items-center",style:{width:`${A}%`,minWidth:"35px"},role:"progressbar","aria-valuenow":k,"aria-valuemin":0,"aria-valuemax":L,"aria-label":`${b}: ${k}`,children:r.jsx("span",{className:"font-bold text-white pl-2",children:k})})})})]},I)})})]}):r.jsx("div",{className:"text-center py-8 border-2 border-dashed border-pm-gray-200 rounded-lg",children:r.jsx("p",{className:"text-pm-gray-600",children:"Não há motivos de folga para exibir no período selecionado."})})})]})]})},st=({isOpen:e,onClose:t,title:n,children:s})=>e?r.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 z-50 flex justify-center items-center p-4",onClick:t,children:r.jsxs("div",{className:"bg-white rounded-lg shadow-xl w-full max-w-md flex flex-col max-h-full",onClick:o=>o.stopPropagation(),children:[r.jsxs("div",{className:"p-4 border-b flex-shrink-0 flex justify-between items-center",children:[r.jsx("h2",{className:"text-xl font-semibold text-pm-gray-800",children:n}),r.jsx("button",{onClick:t,className:"text-pm-gray-400 hover:text-pm-gray-600",children:r.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[r.jsx("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),r.jsx("line",{x1:"6",y1:"6",x2:"18",y2:"18"})]})})]}),r.jsx("div",{className:"p-6 overflow-y-auto",children:s})]})}):null,zx=({message:e,type:t="success"})=>{const n={success:"bg-green-600",error:"bg-red-600",warning:"bg-yellow-500"}[t];return r.jsxs("div",{className:`fixed top-20 right-8 text-white py-3 px-5 rounded-lg shadow-xl z-50 flex items-center ${n}`,role:"alert","aria-live":"assertive",children:[r.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:"mr-2",children:[r.jsx("circle",{cx:"12",cy:"12",r:"10"}),r.jsx("path",{d:"M12 16v-4"}),r.jsx("path",{d:"M12 8h.01"})]}),r.jsx("span",{children:e})]})},Bx=()=>{const{policiais:e,users:t,addFolga:n,updateFolga:s,getBalanceFor:o,canRequestFolga:a,comentarios:l,addComentario:i,grupos:c}=pe(),{currentUser:d,role:x}=ae(),[p]=rp(),[u,v]=f.useState(!1),[j,S]=f.useState(null),[E,m]=f.useState("add"),[h,g]=f.useState(""),[C,b]=f.useState(),[k,I]=f.useState(null),[L,A]=f.useState(""),[T,G]=f.useState(new Set),[O,M]=f.useState(new Set),[z,w]=f.useState(!1),[$,y]=f.useState("");f.useRef(null);const[N,R]=f.useState(""),[F,W]=f.useState(""),[Q,q]=f.useState(""),[X,me]=f.useState(""),[ne,_e]=f.useState(""),[Ae,zt]=f.useState(""),[D,V]=f.useState("integral"),[se,Me]=f.useState("08-13"),[Je,Ne]=f.useState({nomeRe:"",pelotao:"",aprovacao:p.get("aprovacao")||"",status:p.get("status")||""}),[On,Ze]=f.useState(!1),[Y,cr]=f.useState(null),[bo,Do]=f.useState(""),si=new Date().getFullYear(),oi=d!=null&&d.policialId?o(d.policialId,si):null,ai=ux(Je),ip=f.useMemo(()=>[...c].sort((P,Z)=>P.nome.localeCompare(Z.nome)),[c]);f.useEffect(()=>{if(k){const P=setTimeout(()=>I(null),4e3);return()=>clearTimeout(P)}},[k]);const rs=P=>{const{name:Z,value:wt}=P.target;Ne(ss=>({...ss,[Z]:wt})),M(new Set)};f.useMemo(()=>t.filter(P=>P.role==="SARGENTO"&&P.ativo),[t]);const li=f.useMemo(()=>{if(!L.trim())return e.filter(Z=>Z.ativo).sort((Z,wt)=>Z.nome.localeCompare(wt.nome));const P=L.toLowerCase();return e.filter(Z=>Z.ativo&&(Z.re.toLowerCase().includes(P)||Z.nome.toLowerCase().includes(P)||Z.pelotao.toLowerCase().includes(P)))},[e,L]),mn=(P,Z=null)=>{m(P),P==="add"?(S({policialld:x==="SUBORDINADO"?(d==null?void 0:d.policialId)??void 0:void 0,data:"",motivo:""}),R(""),W(""),q(""),me(""),_e(""),zt(""),V("integral"),Me("08-13"),A("")):S(Z),g(""),b(void 0),v(!0)},cp=P=>{cr(P),Do(""),Ze(!0)},dp=async()=>{if(!(!j||!d))try{if(E==="add"){const P=new Date;P.setHours(0,0,0,0);const Z=j.data?new Date(j.data+"T00:00:00"):null;if(!j.policialld)throw new Error("Policial é obrigatório.");if(!j.data||!Z||Z<P)throw new Error("Data inválida. Selecione uma data de hoje ou futura.");if(N==="Folga Cmt Geral"){const{ok:ss,error:mp,warn:ci}=a({policialId:j.policialld,dateISO:j.data,allowOverride:x==="ADMIN"||x==="SARGENTO"});if(!ss)throw new Error(mp||"Falha ao verificar saldo.");ci&&I({message:ci,type:"warning"})}let wt="";switch(N){case"Folga Cmt Geral":wt="Folga Cmt Geral";break;case"Folga Cmt Cia":if(F.trim().length<5)throw new Error("O motivo para a Folga Cmt Cia é obrigatório (mín. 5 caracteres).");wt=`Folga Cmt Cia: ${F.trim()}`;break;case"Folga Compensação":if(!Q||!X||!ne)throw new Error("Para Folga Compensação, a data, início e fim do serviço extra são obrigatórios.");wt=`Folga Compensação - Dia: ${new Date(Q+"T00:00:00").toLocaleDateString("pt-BR")} | Início: ${X} | Fim: ${ne}${Ae?` | BOPM: ${Ae}`:""}`;break;case"Folga Semanal":wt=D==="integral"?"Folga Semanal (Integral)":`Folga Semanal (Meio Expediente - ${se==="08-13"?"08h00 às 13h00":"13h00 às 18h00"})`;break;case"Folga Outros":if(F.trim().length<10)throw new Error("O motivo para 'Outros' é obrigatório (mín. 10 caracteres).");wt=`Folga Outros: ${F.trim()}`;break;default:throw new Error("Selecione um tipo de motivo para a folga.")}await n({policialld:j.policialld,data:j.data,motivo:wt},d),I(x==="SUBORDINADO"?{message:"Folga enviada para aprovação do sargento.",type:"success"}:x==="SARGENTO"?{message:"Folga aprovada e enviada para validação do admin.",type:"success"}:{message:"Folga validada com sucesso.",type:"success"})}else{let P={};if(E==="trocar"){if(!j.trocadaPara)throw new Error("A nova data é obrigatória.");P={status:K.TROCADA,trocadaPara:j.trocadaPara,motivo:h}}else if(E==="excluir"){if(!h.trim())throw new Error("O motivo da exclusão é obrigatório.");P={status:K.EXCLUIDA,motivo:h}}else if(E==="sargento"){if(!h.trim())throw new Error("O parecer é obrigatório.");const Z=j.actionType;Z==="aprovar"?P={aprovacao:H.APROVADA_SARGENTO,sargentoParecer:h,sargentold:d.id}:Z==="negar"&&(P={aprovacao:H.NEGADA_SARGENTO,sargentoParecer:h,sargentold:d.id})}else if(E==="parecer"){if(!h.trim())throw new Error("O parecer é obrigatório.");const Z=j.actionType;Z==="aprovar"?P={aprovacao:H.VALIDADA_ADMIN,adminParecer:h,adminld:d.id}:Z==="negar"&&(P={aprovacao:H.REPROVADA_ADMIN,adminParecer:h,adminld:d.id})}Object.keys(P).length>0&&(await s(j.folgald,P,d),I({message:"Operação realizada com sucesso!",type:"success"}))}v(!1)}catch(P){I({message:P.message,type:"error"})}},ii=f.useMemo(()=>Y?l.filter(P=>P.folgald===Y.folgald).sort((P,Z)=>new Date(P.timestamp).getTime()-new Date(Z.timestamp).getTime()):[],[l,Y]),up=async()=>{if(!(!Y||!bo.trim()||!d))try{await i(Y.folgald,bo,d),Do(""),I({message:"Comentário adicionado!",type:"success"})}catch(P){I({message:P.message,type:"error"})}},pp=async P=>{if(!(!d||!window.confirm("Restaurar esta folga para ATIVA?")))try{await s(P.folgald,{status:K.ATIVA,trocadaPara:null},d),I({message:"Folga restaurada!",type:"success"}),Ze(!1)}catch(Z){I({message:Z.message,type:"error"})}};return r.jsxs("div",{className:"container mx-auto",children:[k&&r.jsx(zx,{message:k.message,type:k.type}),r.jsxs("div",{className:"flex justify-between items-center mb-6 flex-wrap gap-4",children:[r.jsx("h1",{className:"text-3xl font-bold text-pm-gray-800",children:"Gerenciar Folgas"}),r.jsxs("div",{className:"flex items-center gap-2",children:[oi!==null&&r.jsxs("span",{className:"text-sm font-semibold bg-white px-3 py-2 rounded-lg shadow-sm",children:["Meu Saldo ",si,": ",oi]}),r.jsx("button",{onClick:()=>mn("add"),className:"bg-pm-blue hover:bg-pm-blue-dark text-white font-bold py-2 px-4 rounded-md",children:"Acionar Folga"})]})]}),r.jsx("div",{className:"bg-white p-4 rounded-lg shadow-md mb-6",children:r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[r.jsx("input",{type:"text",name:"nomeRe",placeholder:"Buscar por Nome ou RE...",value:Je.nomeRe,onChange:rs,className:"w-full px-3 py-2 border rounded-md"}),r.jsxs("select",{name:"pelotao",value:Je.pelotao,onChange:rs,className:"w-full px-3 py-2 border rounded-md",children:[r.jsx("option",{value:"",children:"Todos os Grupos"}),ip.map(P=>r.jsx("option",{value:P.nome,children:P.nome},P.id))]}),r.jsxs("select",{name:"aprovacao",value:Je.aprovacao,onChange:rs,className:"w-full px-3 py-2 border rounded-md",children:[r.jsx("option",{value:"",children:"Toda Aprovação"}),Object.entries(ra).map(([P,Z])=>r.jsx("option",{value:P,children:Z},P))]}),r.jsxs("select",{name:"status",value:Je.status,onChange:rs,className:"w-full px-3 py-2 border rounded-md",children:[r.jsx("option",{value:"",children:"Todo Status"}),Kf.map(P=>r.jsx("option",{value:P.value,children:P.label},P.value))]})]})}),r.jsxs("div",{className:"bg-white rounded-lg shadow-md overflow-x-auto",children:[r.jsxs("table",{className:"w-full text-sm text-left text-pm-gray-600",children:[r.jsx("thead",{className:"text-xs uppercase bg-pm-gray-50",children:r.jsxs("tr",{children:[r.jsx("th",{className:"px-6 py-3",children:"Policial"}),r.jsx("th",{className:"px-6 py-3",children:"Data"}),r.jsx("th",{className:"px-6 py-3",children:"Status Aprovação"}),r.jsx("th",{className:"px-6 py-3",children:"Status Folga"}),r.jsx("th",{className:"px-6 py-3 text-right",children:"Ações"})]})}),r.jsx("tbody",{children:ai.map(P=>r.jsxs("tr",{className:"bg-white border-b hover:bg-pm-gray-50",children:[r.jsxs("td",{className:"px-6 py-4 font-medium",children:[P.nome,r.jsx("br",{}),r.jsxs("span",{className:"text-xs text-pm-gray-500",children:[P.re," - ",P.pelotao]})]}),r.jsx("td",{className:"px-6 py-4",children:new Date(P.data+"T00:00:00").toLocaleDateString("pt-BR")}),r.jsx("td",{className:"px-6 py-4",children:r.jsx("span",{className:`px-2 py-1 text-xs font-medium rounded-full ${Ac[P.aprovacao]}`,children:ra[P.aprovacao]})}),r.jsx("td",{className:"px-6 py-4",children:P.status}),r.jsx("td",{className:"px-6 py-4 text-right space-x-2 whitespace-nowrap",children:r.jsx("button",{onClick:()=>cp(P),className:"font-medium text-pm-blue hover:underline",children:"Detalhes"})})]},P.folgald))})]}),ai.length===0&&r.jsx("p",{className:"text-center p-4 text-pm-gray-500",children:"Nenhuma folga encontrada."})]}),r.jsx(st,{isOpen:u,onClose:()=>v(!1),title:E==="add"?"Acionar Nova Folga":E==="trocar"?"Trocar Folga":E==="excluir"?"Excluir Folga":"Dar Parecer sobre Folga",children:j&&r.jsxs("form",{onSubmit:P=>{P.preventDefault(),dp()},className:"space-y-4",children:[E==="add"&&r.jsxs(r.Fragment,{children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-pm-gray-700",children:"Policial"}),x==="SUBORDINADO"?r.jsx("input",{type:"text",value:(d==null?void 0:d.nome)||"",disabled:!0,className:"mt-1 w-full border border-gray-300 rounded-md p-2 bg-pm-gray-100"}):r.jsxs("div",{children:[r.jsx("input",{type:"text",placeholder:"Buscar por nome, RE ou pelotão...",value:L,onChange:P=>A(P.target.value),className:"mt-1 w-full border border-gray-300 rounded-md p-2 mb-1"}),r.jsxs("select",{value:j.policialld||"",onChange:P=>S(Z=>({...Z,policialld:Number(P.target.value)})),className:"w-full border border-gray-300 rounded-md p-2",required:!0,size:Math.min(5,li.length+1),children:[r.jsx("option",{value:"",disabled:!0,children:"Selecione um policial"}),li.map(P=>r.jsxs("option",{value:P.id,children:[P.postoGrad," ",P.nome," (",P.re,") - ",P.pelotao]},P.id))]})]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-pm-gray-700",children:"Data da Folga"}),r.jsx("input",{type:"date",value:j.data||"",onChange:P=>S(Z=>({...Z,data:P.target.value})),className:"mt-1 w-full border border-gray-300 rounded-md p-2",required:!0})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-pm-gray-700",children:"Tipo do Motivo"}),r.jsxs("select",{value:N,onChange:P=>R(P.target.value),className:"mt-1 w-full border border-gray-300 rounded-md p-2",required:!0,children:[r.jsx("option",{value:"",disabled:!0,children:"Selecione um tipo..."}),r.jsx("option",{value:"Folga Cmt Geral",children:"Folga Cmt Geral"}),r.jsx("option",{value:"Folga Cmt Cia",children:"Folga Cmt Cia"}),r.jsx("option",{value:"Folga Compensação",children:"Folga Compensação"}),r.jsx("option",{value:"Folga Semanal",children:"Folga Semanal"}),r.jsx("option",{value:"Folga Outros",children:"Folga Outros"})]})]}),N==="Folga Cmt Cia"&&r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-pm-gray-700",children:"Justificativa (Cmt Cia)"}),r.jsx("textarea",{value:F,onChange:P=>W(P.target.value),className:"mt-1 w-full border border-gray-300 rounded-md p-2",rows:3,required:!0})]}),N==="Folga Compensação"&&r.jsxs("div",{className:"p-3 border rounded-md bg-pm-gray-50 space-y-3",children:[r.jsx("h4",{className:"font-semibold text-sm",children:"Detalhes do Serviço Compensado"}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-2",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-xs",children:"Data"}),r.jsx("input",{type:"date",value:Q,onChange:P=>q(P.target.value),className:"mt-1 w-full border-gray-300 rounded-md p-2 text-sm",required:!0})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-xs",children:"Início"}),r.jsx("input",{type:"time",value:X,onChange:P=>me(P.target.value),className:"mt-1 w-full border-gray-300 rounded-md p-2 text-sm",required:!0})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-xs",children:"Fim"}),r.jsx("input",{type:"time",value:ne,onChange:P=>_e(P.target.value),className:"mt-1 w-full border-gray-300 rounded-md p-2 text-sm",required:!0})]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-xs",children:"Nº BOPM (Opcional)"}),r.jsx("input",{type:"text",value:Ae,onChange:P=>zt(P.target.value),className:"mt-1 w-full border-gray-300 rounded-md p-2 text-sm"})]})]}),N==="Folga Semanal"&&r.jsxs("div",{className:"p-3 border rounded-md bg-pm-gray-50 space-y-3",children:[r.jsx("h4",{className:"font-semibold text-sm",children:"Tipo de Folga Semanal"}),r.jsxs("div",{className:"flex gap-4",children:[r.jsxs("label",{className:"flex items-center",children:[r.jsx("input",{type:"radio",name:"folgaSemanalTipo",value:"integral",checked:D==="integral",onChange:()=>V("integral"),className:"mr-2"})," Integral"]}),r.jsxs("label",{className:"flex items-center",children:[r.jsx("input",{type:"radio",name:"folgaSemanalTipo",value:"meio",checked:D==="meio",onChange:()=>V("meio"),className:"mr-2"})," Meio Expediente"]})]}),D==="meio"&&r.jsxs("div",{className:"pl-6 border-l-2",children:[r.jsx("h5",{className:"text-xs font-semibold",children:"Horário"}),r.jsxs("div",{className:"flex gap-4 mt-1",children:[r.jsxs("label",{className:"flex items-center",children:[r.jsx("input",{type:"radio",name:"meioExpedienteHorario",value:"08-13",checked:se==="08-13",onChange:()=>Me("08-13"),className:"mr-2"})," 08:00 às 13:00"]}),r.jsxs("label",{className:"flex items-center",children:[r.jsx("input",{type:"radio",name:"meioExpedienteHorario",value:"13-18",checked:se==="13-18",onChange:()=>Me("13-18"),className:"mr-2"})," 13:00 às 18:00"]})]})]})]}),N==="Folga Outros"&&r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-pm-gray-700",children:"Justificativa (Outros)"}),r.jsx("textarea",{value:F,onChange:P=>W(P.target.value),className:"mt-1 w-full border border-gray-300 rounded-md p-2",rows:3,required:!0})]})]}),E==="trocar"&&r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-pm-gray-700",children:"Nova Data da Folga"}),r.jsx("input",{type:"date",value:j.trocadaPara||"",onChange:P=>S(Z=>({...Z,trocadaPara:P.target.value})),className:"mt-1 w-full border-gray-300 rounded-md p-2",required:!0})]}),(E==="trocar"||E==="excluir"||E==="parecer"||E==="sargento")&&r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-pm-gray-700",children:E==="trocar"?"Motivo da Troca":E==="excluir"?"Motivo da Exclusão":"Parecer"}),r.jsx("textarea",{value:h,onChange:P=>g(P.target.value),className:"mt-1 w-full border-gray-300 rounded-md p-2",rows:4,required:!0})]}),r.jsxs("div",{className:"flex justify-end pt-4 space-x-2",children:[r.jsx("button",{type:"button",onClick:()=>v(!1),className:"bg-pm-gray-200 hover:bg-pm-gray-300 text-pm-gray-800 font-bold py-2 px-4 rounded-md",children:"Cancelar"}),r.jsx("button",{type:"submit",className:"bg-pm-blue hover:bg-pm-blue-dark text-white font-bold py-2 px-4 rounded-md",children:E==="add"?"Acionar Folga":"Salvar"})]})]})}),r.jsx(st,{isOpen:On,onClose:()=>Ze(!1),title:"Detalhes da Folga",children:Y&&r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{children:[r.jsx("p",{className:"font-bold text-lg",children:Y.nome}),r.jsxs("p",{className:"text-sm text-pm-gray-500",children:["RE: ",Y.re," - ",Y.pelotao]})]}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 p-3 bg-pm-gray-50 rounded-lg border",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-xs font-semibold",children:"DATA DA FOLGA"}),r.jsx("p",{children:new Date(Y.data+"T00:00:00").toLocaleDateString("pt-BR")})]}),r.jsxs("div",{children:[r.jsx("p",{className:"text-xs font-semibold",children:"STATUS APROVAÇÃO"}),r.jsx("p",{children:r.jsx("span",{className:`px-2 py-1 text-xs font-medium rounded-full ${Ac[Y.aprovacao]}`,children:ra[Y.aprovacao]})})]}),r.jsxs("div",{children:[r.jsx("p",{className:"text-xs font-semibold",children:"STATUS FOLGA"}),r.jsx("p",{children:Y.status})]})]}),r.jsxs("div",{children:[r.jsx("p",{className:"font-semibold",children:"Motivo:"}),r.jsx("p",{className:"p-2 bg-pm-gray-50 rounded mt-1 whitespace-pre-wrap",children:Y.motivo||"Não especificado"})]}),Y.sargentoParecer&&r.jsxs("div",{children:[r.jsx("p",{className:"font-semibold",children:"Parecer Sargento:"}),r.jsx("p",{className:"p-2 bg-pm-gray-50 rounded mt-1",children:Y.sargentoParecer})]}),Y.adminParecer&&r.jsxs("div",{children:[r.jsx("p",{className:"font-semibold",children:"Parecer Admin:"}),r.jsx("p",{className:"p-2 bg-pm-gray-50 rounded mt-1",children:Y.adminParecer})]}),r.jsxs("div",{className:"flex flex-wrap gap-2 pt-2 border-t",children:[x==="SARGENTO"&&Y.aprovacao===H.ENVIADA_SARGENTO&&r.jsxs(r.Fragment,{children:[r.jsx("button",{onClick:()=>{Ze(!1),mn("sargento",{...Y,actionType:"aprovar"})},className:"bg-green-500 text-white px-3 py-1 rounded text-sm",children:"Aprovar"}),r.jsx("button",{onClick:()=>{Ze(!1),mn("sargento",{...Y,actionType:"negar"})},className:"bg-red-500 text-white px-3 py-1 rounded text-sm",children:"Negar"})]}),x==="ADMIN"&&Y.aprovacao===H.APROVADA_SARGENTO&&r.jsxs(r.Fragment,{children:[r.jsx("button",{onClick:()=>{Ze(!1),mn("parecer",{...Y,actionType:"aprovar"})},className:"bg-green-500 text-white px-3 py-1 rounded text-sm",children:"Validar"}),r.jsx("button",{onClick:()=>{Ze(!1),mn("parecer",{...Y,actionType:"negar"})},className:"bg-red-500 text-white px-3 py-1 rounded text-sm",children:"Reprovar"})]}),(x==="ADMIN"||x==="SARGENTO")&&Y.status===K.ATIVA&&Y.aprovacao===H.VALIDADA_ADMIN&&r.jsxs(r.Fragment,{children:[r.jsx("button",{onClick:()=>{Ze(!1),mn("trocar",Y)},className:"bg-yellow-500 text-white px-3 py-1 rounded text-sm",children:"Trocar"}),r.jsx("button",{onClick:()=>{Ze(!1),mn("excluir",Y)},className:"bg-gray-500 text-white px-3 py-1 rounded text-sm",children:"Excluir"})]}),x==="ADMIN"&&(Y.status===K.TROCADA||Y.status===K.EXCLUIDA)&&r.jsx("button",{onClick:()=>pp(Y),className:"bg-blue-500 text-white px-3 py-1 rounded text-sm",children:"Restaurar Folga"})]}),r.jsxs("div",{className:"pt-4 border-t",children:[r.jsx("h4",{className:"font-semibold mb-2",children:"Comentários"}),r.jsx("div",{className:"space-y-3 max-h-40 overflow-y-auto pr-2 mb-2",children:ii.length>0?ii.map(P=>r.jsxs("div",{className:"bg-pm-gray-100 p-2 rounded-md text-sm",children:[r.jsxs("p",{className:"font-semibold",children:[P.actorPostoGrad," ",P.actorNome," ",r.jsxs("span",{className:"text-xs text-pm-gray-500 font-normal",children:["- ",new Date(P.timestamp).toLocaleString("pt-BR")]})]}),r.jsx("p",{children:P.mensagem})]},P.id)):r.jsx("p",{className:"text-sm text-pm-gray-500 italic",children:"Nenhum comentário."})}),r.jsxs("div",{className:"flex items-start space-x-2",children:[r.jsx("textarea",{value:bo,onChange:P=>Do(P.target.value),rows:2,className:"w-full border rounded-md p-2",placeholder:"Adicionar comentário..."}),r.jsx("button",{onClick:up,className:"bg-pm-blue text-white px-4 py-2 rounded-md text-sm",children:"Enviar"})]})]})]})})]})},Gx=({message:e,type:t="success"})=>{const n=t==="success"?"bg-green-600":"bg-red-600",[s,o]=f.useState(!1);return f.useEffect(()=>{o(!0);const a=setTimeout(()=>o(!1),3e3);return()=>clearTimeout(a)},[e]),r.jsxs("div",{className:`fixed top-20 right-8 text-white py-3 px-5 rounded-lg shadow-xl z-50 flex items-center transition-opacity duration-300 ${n} ${s?"opacity-100":"opacity-0"}`,role:"alert","aria-live":"assertive",children:[r.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:"mr-2",children:[r.jsx("circle",{cx:"12",cy:"12",r:"10"}),r.jsx("path",{d:"M12 16v-4"}),r.jsx("path",{d:"M12 8h.01"})]}),r.jsx("span",{children:e})]})},Ux=({isOpen:e,onClose:t,policial:n,mode:s})=>{const{grantAccess:o,resetPassword:a}=ae(),[l,i]=f.useState(""),[c,d]=f.useState(""),[x,p]=f.useState("SUBORDINADO"),[u,v]=f.useState(""),[j,S]=f.useState("");f.useEffect(()=>{e||(i(""),d(""),p("SUBORDINADO"),v(""),S(""))},[e]);const E=async()=>{if(S(""),l.length<3){S("A senha deve ter pelo menos 3 caracteres.");return}if(l!==c){S("As senhas não coincidem.");return}if(!n)return;const m=s==="grant"?await o(n,l,x,u):await a(n.id,l);m.ok?t():S(m.error||"Ocorreu um erro.")};return n?r.jsx(st,{isOpen:e,onClose:t,title:s==="grant"?"Conceder Acesso":"Resetar Senha",children:r.jsxs("div",{className:"space-y-4",children:[r.jsxs("p",{className:"text-sm",children:["Policial: ",r.jsx("strong",{children:n.nome})]}),j&&r.jsx("p",{className:"text-red-500 text-sm bg-red-50 p-2 rounded-md",children:j}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium",children:"Nova Senha"}),r.jsx("input",{type:"password",value:l,onChange:m=>i(m.target.value),className:"mt-1 w-full border border-gray-300 rounded-md p-2"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium",children:"Confirmar Senha"}),r.jsx("input",{type:"password",value:c,onChange:m=>d(m.target.value),className:"mt-1 w-full border border-gray-300 rounded-md p-2"})]}),s==="grant"&&r.jsxs(r.Fragment,{children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium",children:"Perfil de Acesso"}),r.jsxs("select",{value:x,onChange:m=>p(m.target.value),className:"mt-1 w-full border border-gray-300 rounded-md p-2",children:[r.jsx("option",{value:"SUBORDINADO",children:"Subordinado"}),r.jsx("option",{value:"SARGENTO",children:"Sargento"}),r.jsx("option",{value:"ADMIN",children:"Administrador"})]})]}),x==="ADMIN"&&r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-red-700",children:"Sua Senha de Admin (Confirmação)"}),r.jsx("input",{type:"password",value:u,onChange:m=>v(m.target.value),className:"mt-1 w-full border border-red-300 rounded-md p-2",required:!0}),r.jsx("p",{className:"text-xs text-pm-gray-500 mt-1",children:"Para conceder privilégios de administrador, confirme com sua própria senha."})]})]}),r.jsxs("div",{className:"flex justify-end pt-4 space-x-2",children:[r.jsx("button",{type:"button",onClick:t,className:"bg-pm-gray-200 hover:bg-pm-gray-300 text-pm-gray-800 font-bold py-2 px-4 rounded-md",children:"Cancelar"}),r.jsx("button",{onClick:E,className:"bg-pm-blue hover:bg-pm-blue-dark text-white font-bold py-2 px-4 rounded-md",children:s==="grant"?"Conceder Acesso":"Salvar Nova Senha"})]})]})}):null},Vx=()=>{const{policiais:e,users:t,addPolicial:n,updatePolicial:s,bulkUpsertPoliciais:o,grupos:a}=pe(),{currentUser:l,revokeAccess:i}=ae(),[c,d]=f.useState(!1),[x,p]=f.useState(null),[u,v]=f.useState(!1),[j,S]=f.useState("grant"),[E,m]=f.useState(null),[h,g]=f.useState(null),[C,b]=f.useState({termo:"",pelotao:"",ativo:"true"}),k=f.useRef(null),I=f.useMemo(()=>new Map(t.filter(y=>y.policialId!==null).map(y=>[y.policialId,y])),[t]),L=f.useMemo(()=>[...a].sort((y,N)=>y.nome.localeCompare(N.nome)),[a]),A=f.useMemo(()=>{const y=C.termo.toLowerCase();return e.filter(N=>{const R=!C.termo||N.nome.toLowerCase().includes(y)||N.re.toLowerCase().includes(y),F=!C.pelotao||N.pelotao===C.pelotao,W=C.ativo===""||N.ativo===(C.ativo==="true");return R&&F&&W}).sort((N,R)=>N.nome.localeCompare(R.nome))},[e,C]),T=y=>{b(N=>({...N,[y.target.name]:y.target.value}))},G=(y=null)=>{p(y?{...y}:{nome:"",re:"",postoGrad:"Sd 2ª Cl",pelotao:"",ativo:!0}),d(!0)},O=async()=>{if(!(!x||!l))try{if(!x.nome||!x.re||!x.postoGrad||!x.pelotao)throw new Error("Todos os campos são obrigatórios.");x.id?(await s(x,l),g({message:"Policial atualizado com sucesso!",type:"success"})):(await n(x,l),g({message:"Policial adicionado com sucesso!",type:"success"})),d(!1)}catch(y){g({message:y.message,type:"error"})}},M=(y,N)=>{m(y),S(N),v(!0)},z=async y=>{if(window.confirm(`Tem certeza que deseja REVOGAR o acesso de ${y.nome}? O policial não poderá mais logar no sistema.`)){const{ok:N,error:R}=await i(y.id);g(N?{message:"Acesso revogado com sucesso.",type:"success"}:{message:R||"Falha ao revogar acesso.",type:"error"})}},w=y=>{var F;const N=(F=y.target.files)==null?void 0:F[0];if(!N||!l)return;const R=new FileReader;R.onload=async W=>{var Q;try{const q=new Uint8Array((Q=W.target)==null?void 0:Q.result),X=XLSX.read(q,{type:"array"}),me=X.SheetNames[0],ne=X.Sheets[me],_e=XLSX.utils.sheet_to_json(ne,{header:1});if(_e.length<2)throw new Error("A planilha está vazia ou em formato incorreto.");const Ae=_e[0].map(V=>V.toString().trim().toUpperCase()),zt=["NOME","RE","POSTO_GRAD","PELOTAO"];if(!zt.every(V=>Ae.includes(V)))throw new Error(`A planilha deve conter as colunas: ${zt.join(", ")}`);const D=_e.slice(1).map(V=>{var Me,Je,Ne,On;const se={};return Ae.forEach((Ze,Y)=>{const cr=Ze.toLowerCase();se[cr]=V[Y]}),{nome:(Me=se.nome)==null?void 0:Me.toString().trim(),re:(Je=se.re)==null?void 0:Je.toString().trim(),postoGrad:(Ne=se.posto_grad)==null?void 0:Ne.toString().trim(),pelotao:(On=se.pelotao)==null?void 0:On.toString().trim(),ativo:!0}}).filter(V=>V.nome&&V.re&&V.postoGrad&&V.pelotao);if(D.length===0)throw new Error("Nenhum registro válido encontrado na planilha.");await o(D,l),g({message:`${D.length} policiais importados/atualizados!`,type:"success"})}catch(q){g({message:q.message||"Erro ao processar a planilha.",type:"error"})}finally{k.current&&(k.current.value="")}},R.readAsArrayBuffer(N)},$=()=>{var y;return(y=k.current)==null?void 0:y.click()};return r.jsxs("div",{className:"container mx-auto",children:[h&&r.jsx(Gx,{message:h.message,type:h.type}),r.jsxs("div",{className:"flex justify-between items-center mb-6 flex-wrap gap-4",children:[r.jsx("h1",{className:"text-3xl font-bold text-pm-gray-800",children:"Gerenciar Policiais"}),r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx("input",{type:"file",ref:k,onChange:w,className:"hidden",accept:".xlsx, .xls"}),r.jsx("button",{onClick:$,className:"bg-green-600 hover:bg-green-700 text-white font-bold py-2 px-4 rounded-md",children:"Importar via Excel"}),r.jsx("button",{onClick:()=>G(),className:"bg-pm-blue hover:bg-pm-blue-dark text-white font-bold py-2 px-4 rounded-md",children:"Adicionar Policial"})]})]}),r.jsx("div",{className:"bg-white p-4 rounded-lg shadow-md mb-6",children:r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[r.jsx("input",{type:"text",name:"termo",placeholder:"Buscar por Nome ou RE...",value:C.termo,onChange:T,className:"w-full px-3 py-2 border rounded-md"}),r.jsxs("select",{name:"pelotao",value:C.pelotao,onChange:T,className:"w-full px-3 py-2 border rounded-md",children:[r.jsx("option",{value:"",children:"Todos os Grupos"}),L.map(y=>r.jsx("option",{value:y.nome,children:y.nome},y.id))]}),r.jsxs("select",{name:"ativo",value:C.ativo,onChange:T,className:"w-full px-3 py-2 border rounded-md",children:[r.jsx("option",{value:"",children:"Todos (Ativos e Inativos)"}),r.jsx("option",{value:"true",children:"Apenas Ativos"}),r.jsx("option",{value:"false",children:"Apenas Inativos"})]})]})}),r.jsx("div",{className:"bg-white rounded-lg shadow-md overflow-x-auto",children:r.jsxs("table",{className:"w-full text-sm text-left text-pm-gray-600",children:[r.jsx("thead",{className:"text-xs uppercase bg-pm-gray-50",children:r.jsxs("tr",{children:[r.jsx("th",{className:"px-6 py-3",children:"Nome / RE"}),r.jsx("th",{className:"px-6 py-3",children:"Posto/Grad"}),r.jsx("th",{className:"px-6 py-3",children:"Grupo"}),r.jsx("th",{className:"px-6 py-3",children:"Status"}),r.jsx("th",{className:"px-6 py-3",children:"Acesso ao Sistema"}),r.jsx("th",{className:"px-6 py-3 text-right",children:"Ações"})]})}),r.jsx("tbody",{children:A.map(y=>{const N=I.get(y.id);return r.jsxs("tr",{className:"bg-white border-b hover:bg-pm-gray-50",children:[r.jsxs("td",{className:"px-6 py-4 font-medium",children:[y.nome,r.jsx("br",{}),r.jsx("span",{className:"text-xs text-pm-gray-500",children:y.re})]}),r.jsx("td",{className:"px-6 py-4",children:y.postoGrad}),r.jsx("td",{className:"px-6 py-4",children:y.pelotao}),r.jsx("td",{className:"px-6 py-4",children:r.jsx("span",{className:`px-2 py-1 text-xs rounded-full ${y.ativo?"bg-green-100 text-green-800":"bg-red-100 text-red-800"}`,children:y.ativo?"Ativo":"Inativo"})}),r.jsx("td",{className:"px-6 py-4",children:N&&N.acessoLiberado?r.jsx("span",{className:"text-green-700 font-semibold",children:N.role}):r.jsx("span",{className:"text-red-700",children:"Não"})}),r.jsxs("td",{className:"px-6 py-4 text-right space-x-2 whitespace-nowrap",children:[r.jsx("button",{onClick:()=>G(y),className:"font-medium text-pm-blue hover:underline",children:"Editar"}),N&&N.acessoLiberado?r.jsxs(r.Fragment,{children:[r.jsx("button",{onClick:()=>M(y,"reset"),className:"font-medium text-yellow-600 hover:underline",children:"Resetar Senha"}),r.jsx("button",{onClick:()=>z(y),className:"font-medium text-red-600 hover:underline",children:"Revogar Acesso"})]}):r.jsx("button",{onClick:()=>M(y,"grant"),className:"font-medium text-green-600 hover:underline",children:"Conceder Acesso"})]})]},y.id)})})]})}),r.jsx(st,{isOpen:c,onClose:()=>d(!1),title:x!=null&&x.id?"Editar Policial":"Adicionar Policial",children:x&&r.jsxs("form",{onSubmit:y=>{y.preventDefault(),O()},className:"space-y-4",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm",children:"Nome Completo"}),r.jsx("input",{type:"text",value:x.nome||"",onChange:y=>p(N=>({...N,nome:y.target.value.toUpperCase()})),className:"mt-1 w-full border rounded-md p-2",required:!0})]}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm",children:"RE"}),r.jsx("input",{type:"text",value:x.re||"",onChange:y=>p(N=>({...N,re:y.target.value})),className:"mt-1 w-full border rounded-md p-2",required:!0})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm",children:"Posto/Grad"}),r.jsx("select",{value:x.postoGrad||"",onChange:y=>p(N=>({...N,postoGrad:y.target.value})),className:"mt-1 w-full border rounded-md p-2",required:!0,children:sp.map(y=>r.jsx("option",{value:y,children:y},y))})]})]}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm",children:"Grupo/Pelotão"}),r.jsxs("select",{value:x.pelotao||"",onChange:y=>p(N=>({...N,pelotao:y.target.value})),className:"mt-1 w-full border rounded-md p-2",required:!0,children:[r.jsx("option",{value:"",disabled:!0,children:"Selecione..."}),L.map(y=>r.jsx("option",{value:y.nome,children:y.nome},y.id))]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm",children:"Status"}),r.jsxs("select",{value:x.ativo?"true":"false",onChange:y=>p(N=>({...N,ativo:y.target.value==="true"})),className:"mt-1 w-full border rounded-md p-2",required:!0,children:[r.jsx("option",{value:"true",children:"Ativo"}),r.jsx("option",{value:"false",children:"Inativo"})]})]})]}),r.jsx("div",{className:"flex justify-end pt-4",children:r.jsx("button",{type:"submit",className:"bg-pm-blue hover:bg-pm-blue-dark text-white font-bold py-2 px-4 rounded-md",children:"Salvar"})})]})}),r.jsx(Ux,{isOpen:u,onClose:()=>v(!1),policial:E,mode:j})]})},Wx=({className:e})=>r.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:e,width:"16",height:"16",viewBox:"0 0 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:r.jsx("polyline",{points:"6 9 12 15 18 9"})}),Ic=e=>{if(typeof e=="boolean")return e?"Sim":"Não";if(e==null)return"N/A";if(typeof e=="string"&&/^\d{4}-\d{2}-\d{2}/.test(e)){const t=new Date(e+"T00:00:00");if(!isNaN(t.getTime()))return t.toLocaleDateString("pt-BR")}return String(e)},Hx=e=>e.replace(/([A-Z])/g," $1").replace(/^./,t=>t.toUpperCase()),Qx=({antesDepois:e})=>{if(!e||typeof e.antes!="object"||typeof e.depois!="object")return e&&(e.depois||e.antes)?r.jsxs("div",{className:"pt-2",children:[r.jsx("p",{className:"font-semibold mb-1 text-pm-gray-800",children:"Dados do Registro:"}),r.jsx("pre",{className:"p-2 bg-white rounded-md overflow-x-auto text-xs border border-pm-gray-200",children:JSON.stringify(e.depois||e.antes,null,2)})]}):null;const{antes:t,depois:n}=e,o=Array.from(new Set([...Object.keys(t||{}),...Object.keys(n||{})])).map(a=>({key:a,antes:t?t[a]:void 0,depois:n?n[a]:void 0})).filter(a=>JSON.stringify(a.antes)!==JSON.stringify(a.depois));return o.length===0?null:r.jsxs("div",{className:"pt-2",children:[r.jsx("p",{className:"font-semibold mb-2 text-pm-gray-800",children:"Dados da Alteração:"}),r.jsx("div",{className:"overflow-x-auto border border-pm-gray-200 rounded-md",children:r.jsxs("table",{className:"min-w-full bg-white text-sm",children:[r.jsx("thead",{className:"bg-pm-gray-100",children:r.jsxs("tr",{children:[r.jsx("th",{className:"px-4 py-2 text-left text-xs font-semibold text-pm-gray-600 uppercase tracking-wider",children:"Campo Alterado"}),r.jsx("th",{className:"px-4 py-2 text-left text-xs font-semibold text-pm-gray-600 uppercase tracking-wider",children:"Valor Anterior"}),r.jsx("th",{className:"px-4 py-2 text-left text-xs font-semibold text-pm-gray-600 uppercase tracking-wider",children:"Novo Valor"})]})}),r.jsx("tbody",{className:"divide-y divide-pm-gray-200",children:o.map(({key:a,antes:l,depois:i})=>r.jsxs("tr",{children:[r.jsx("td",{className:"px-4 py-2 whitespace-nowrap font-medium text-pm-gray-800",children:Hx(a)}),r.jsx("td",{className:"px-4 py-2 whitespace-nowrap",children:r.jsx("span",{className:"bg-red-100 text-red-800 p-1 rounded text-xs font-mono",children:Ic(l)})}),r.jsx("td",{className:"px-4 py-2 whitespace-nowrap",children:r.jsx("span",{className:"bg-green-100 text-green-800 p-1 rounded text-xs font-mono",children:Ic(i)})})]},a))})]})})]})},Xx=()=>{const{users:e}=pe(),[t,n]=f.useState({userId:"",dataInicio:"",dataFim:""}),[s,o]=f.useState(new Set),a=hx(t),[l,i]=f.useState(1),c=15;f.useEffect(()=>{i(1)},[t]);const d=Math.ceil(a.length/c),x=(l-1)*c,p=x+c,u=a.slice(x,p),v=m=>{n({...t,[m.target.name]:m.target.value})},j=m=>{o(h=>{const g=new Set(h);return g.has(m)?g.delete(m):g.add(m),g})},S=m=>{m>=1&&m<=d&&(i(m),o(new Set))},E=()=>r.jsxs("div",{className:"flex justify-center items-center space-x-4 p-4 border-t",children:[r.jsx("button",{onClick:()=>S(l-1),disabled:l===1,className:"px-4 py-2 text-sm font-medium text-pm-gray-700 bg-white border border-pm-gray-300 rounded-md hover:bg-pm-gray-50 disabled:opacity-50 disabled:cursor-not-allowed",children:"Anterior"}),r.jsxs("span",{className:"text-sm text-pm-gray-700",children:["Página ",l," de ",d||1]}),r.jsx("button",{onClick:()=>S(l+1),disabled:l===d||d===0,className:"px-4 py-2 text-sm font-medium text-pm-gray-700 bg-white border border-pm-gray-300 rounded-md hover:bg-pm-gray-50 disabled:opacity-50 disabled:cursor-not-allowed",children:"Próxima"})]});return r.jsxs("div",{className:"container mx-auto",children:[r.jsx("h1",{className:"text-3xl font-bold text-pm-gray-800 mb-6",children:"Histórico de Alterações"}),r.jsx("div",{className:"bg-white p-4 rounded-lg shadow-md mb-6",children:r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[r.jsxs("select",{name:"userId",value:t.userId,onChange:v,className:"w-full px-3 py-2 border border-pm-gray-300 rounded-md",children:[r.jsx("option",{value:"",children:"Todos os Usuários"}),e.map(m=>r.jsx("option",{value:m.id,children:m.nome},m.id))]}),r.jsx("input",{type:"date",name:"dataInicio",value:t.dataInicio,onChange:v,className:"w-full px-3 py-2 border border-pm-gray-300 rounded-md"}),r.jsx("input",{type:"date",name:"dataFim",value:t.dataFim,onChange:v,className:"w-full px-3 py-2 border border-pm-gray-300 rounded-md"})]})}),r.jsxs("div",{className:"bg-white rounded-lg shadow-md",children:[r.jsx("ul",{role:"list",className:"divide-y divide-gray-200",children:u.map(m=>{const h=s.has(m.id);return r.jsxs("li",{className:"p-4 sm:p-6",children:[r.jsxs("div",{className:"flex items-start justify-between",children:[r.jsxs("div",{className:"flex-1",children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsx("p",{className:"text-sm font-medium text-pm-blue truncate capitalize",children:m.evento.replace(/_/g," ").toLowerCase()}),r.jsx("p",{className:"hidden sm:block text-xs text-pm-gray-500",children:new Date(m.timestamp).toLocaleString("pt-BR")})]}),r.jsxs("div",{className:"mt-2 sm:flex sm:items-center",children:[r.jsxs("p",{className:"flex items-center text-sm text-pm-gray-500",children:[r.jsx("strong",{children:"Executor: "}),r.jsx("span",{className:"ml-1",children:m.actorNome})]}),m.nome&&r.jsxs("p",{className:"mt-1 flex items-center text-sm text-pm-gray-500 sm:mt-0 sm:ml-4",children:[r.jsx("strong",{children:"Policial: "}),r.jsxs("span",{className:"ml-1",children:[m.nome," (RE: ",m.re,")"]})]})]})]}),r.jsx("div",{className:"ml-4 flex-shrink-0",children:r.jsxs("button",{onClick:()=>j(m.id),className:"flex items-center text-sm font-medium text-pm-blue hover:text-pm-blue-dark",children:[r.jsxs("span",{children:[h?"Ocultar":"Ver"," Detalhes"]}),r.jsx(Wx,{className:`ml-1 transform transition-transform duration-200 ${h?"rotate-180":""}`})]})})]}),h&&r.jsx("div",{className:"mt-4 p-4 bg-pm-gray-50 rounded-md border border-pm-gray-200",children:r.jsxs("div",{className:"text-sm text-pm-gray-800 space-y-2",children:[m.dataOriginal&&r.jsxs("p",{children:[r.jsx("strong",{children:"Data Original:"})," ",new Date(m.dataOriginal+"T00:00:00").toLocaleDateString("pt-BR")]}),m.dataNova&&r.jsxs("p",{children:[r.jsx("strong",{children:"Data Nova:"})," ",new Date(m.dataNova+"T00:00:00").toLocaleDateString("pt-BR")]}),m.motivo&&r.jsxs("p",{children:[r.jsx("strong",{children:"Motivo/Parecer:"})," ",m.motivo]}),r.jsx(Qx,{antesDepois:m.antesDepois})]})})]},m.id)})}),a.length===0&&r.jsx("p",{className:"text-center p-4 text-pm-gray-500",children:"Nenhum registro de histórico encontrado."}),d>1&&r.jsx(E,{})]})]})},Gt=({title:e,children:t,defaultOpen:n=!1})=>{const[s,o]=dl.useState(n);return r.jsxs("div",{className:"mb-4 border-b border-pm-gray-200 last:border-b-0",children:[r.jsxs("button",{className:"w-full text-left py-4 flex justify-between items-center",onClick:()=>o(!s),"aria-expanded":s,children:[r.jsx("h2",{className:"text-xl font-semibold text-pm-gray-800",children:e}),r.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:`transform transition-transform duration-300 ${s?"rotate-180":""}`,children:r.jsx("polyline",{points:"6 9 12 15 18 9"})})]}),s&&r.jsx("div",{className:"pb-4 text-pm-gray-600 space-y-3",children:t})]})},qx=()=>r.jsxs("div",{className:"container mx-auto",children:[r.jsx("h1",{className:"text-3xl font-bold text-pm-gray-800 mb-6",children:"SIGMA-E - Manual do Sistema"}),r.jsxs("div",{className:"bg-white p-8 rounded-lg shadow-md",children:[r.jsx(Gt,{title:"Visão Geral",defaultOpen:!0,children:r.jsx("p",{children:"Bem-vindo ao SIGMA-E, o Sistema Integrado de Gestão, Monitoramento e Administração do Efetivo. Este manual foi criado para guiar você por todas as funcionalidades do sistema, garantindo que todos possam utilizá-lo de forma eficiente e correta."})}),r.jsxs(Gt,{title:"Perfis de Acesso",children:[r.jsx("p",{children:"O sistema possui três níveis de acesso com diferentes permissões:"}),r.jsxs("ul",{className:"list-disc list-inside space-y-2 pl-4",children:[r.jsxs("li",{children:[r.jsx("strong",{children:"ADMIN (Administrador):"})," Possui acesso total. Pode gerenciar policiais, usuários, créditos de folga, validar/reprovar todas as solicitações, agendar férias, criar eventos na agenda e gerar relatórios completos."]}),r.jsxs("li",{children:[r.jsx("strong",{children:"SARGENTO (Sargento de Pelotão):"})," Gerencia as folgas do seu pelotão. Pode aprovar ou negar solicitações dos seus subordinados, que são então encaminhadas para o Admin. Também pode gerar relatórios do seu pelotão."]}),r.jsxs("li",{children:[r.jsx("strong",{children:"SUBORDINADO (Policial):"})," Acesso focado em suas próprias informações. Pode solicitar (acionar) folgas, visualizar o status de suas solicitações, seu saldo de folgas e o calendário geral."]})]})]}),r.jsxs(Gt,{title:"Gerenciamento de Folgas (Passo a Passo)",children:[r.jsx("h3",{className:"text-lg font-semibold text-pm-gray-700 mb-2",children:"1. Como Acionar uma Nova Folga"}),r.jsxs("p",{children:["Na página ",r.jsx("strong",{children:'"Gerenciar Folgas"'}),", clique no botão ",r.jsx("strong",{children:'"Acionar Folga"'}),"."]}),r.jsxs("ul",{className:"list-decimal list-inside space-y-2 pl-4",children:[r.jsx("li",{children:"Se for Admin ou Sargento, selecione o policial para quem a folga será lançada. Se for Subordinado, seu nome já estará selecionado."}),r.jsx("li",{children:"Escolha a data desejada para a folga. O sistema não permite selecionar datas passadas."}),r.jsx("li",{children:"Seu saldo de folgas para o ano corrente é exibido no canto superior direito como referência."})]}),r.jsx("h3",{className:"text-lg font-semibold text-pm-gray-700 mt-4 mb-2",children:"2. Preenchendo o Motivo (Importante!)"}),r.jsx("p",{children:"É obrigatório selecionar um tipo de motivo para a folga. Cada tipo requer informações específicas:"}),r.jsxs("ul",{className:"list-disc list-inside space-y-2 pl-4 mt-2",children:[r.jsxs("li",{children:[r.jsx("strong",{children:"Folga Cmt Geral:"})," Utilizada para folgas concedidas diretamente pelo Comandante Geral. Não requer detalhes adicionais."]}),r.jsxs("li",{children:[r.jsx("strong",{children:"Folga Cmt Cia:"})," Para folgas concedidas pelo Comando de Cia. É obrigatório descrever o motivo da concessão no campo de texto que aparecerá."]}),r.jsxs("li",{children:[r.jsx("strong",{children:"Folga Compensação:"})," Usada para compensar um serviço extra. Você deve preencher a ",r.jsx("strong",{children:"data"}),", ",r.jsx("strong",{children:"hora de início"})," e ",r.jsx("strong",{children:"hora de fim"})," do serviço que está sendo compensado. O número do BOPM é opcional, mas recomendado."]}),r.jsxs("li",{children:[r.jsx("strong",{children:"Folga Outros:"})," Para situações não cobertas pelas opções acima. É obrigatório fornecer uma justificativa detalhada."]})]}),r.jsx("h3",{className:"text-lg font-semibold text-pm-gray-700 mt-4 mb-2",children:"3. O Fluxo de Aprovação"}),r.jsx("p",{children:"Toda folga solicitada passa por um fluxo até ser validada e se tornar ativa:"}),r.jsxs("ul",{className:"list-decimal list-inside space-y-2 pl-4",children:[r.jsxs("li",{children:[r.jsx("strong",{children:"Subordinado solicita:"})," A folga é criada com o status ",r.jsx("strong",{children:'"Pendente Sgt."'})," e uma notificação é enviada ao Sargento do pelotão."]}),r.jsxs("li",{children:[r.jsx("strong",{children:"Sargento analisa:"})," O Sargento pode ",r.jsx("strong",{children:"Aprovar"})," ou ",r.jsx("strong",{children:"Negar"})," a solicitação. Se aprovada, o status muda para ",r.jsx("strong",{children:'"Aprovada Sgt."'})," e uma notificação é enviada aos Admins. Se negada, o processo termina."]}),r.jsxs("li",{children:[r.jsx("strong",{children:"Admin valida:"})," O Admin analisa a folga aprovada pelo Sargento. Se ele ",r.jsx("strong",{children:"Validar"}),", o status muda para ",r.jsx("strong",{children:'"Validada Adm."'}),", a folga se torna ",r.jsx("strong",{children:"ATIVA"})," e consome 1 crédito do saldo do policial. Se ele ",r.jsx("strong",{children:"Reprovar"}),", o processo termina."]})]}),r.jsx("h3",{className:"text-lg font-semibold text-pm-gray-700 mt-4 mb-2",children:"4. Trocando ou Excluindo uma Folga"}),r.jsxs("p",{children:["Apenas folgas com status ",r.jsx("strong",{children:'"ATIVA"'})," podem ser trocadas ou excluídas."]}),r.jsxs("ul",{className:"list-disc list-inside space-y-2 pl-4 mt-2",children:[r.jsxs("li",{children:[r.jsx("strong",{children:"Trocar:"})," Altera a data de uma folga já validada. A data original é liberada."]}),r.jsxs("li",{children:[r.jsx("strong",{children:"Excluir:"})," Remove a folga do calendário. É necessário informar um motivo para a exclusão."]}),r.jsxs("li",{children:[r.jsx("strong",{children:"Restaurar (Apenas Admin):"})," O Admin tem a permissão de restaurar uma folga que foi trocada ou excluída, tornando-a ativa novamente."]})]})]}),r.jsxs(Gt,{title:"Controle de Férias (Admin)",children:[r.jsx("p",{children:"Nesta página, o Administrador pode agendar os períodos de férias para todo o efetivo."}),r.jsxs("ul",{className:"list-disc list-inside space-y-2 pl-4",children:[r.jsx("li",{children:"O sistema controla automaticamente o saldo de dias (15 ou 30) por ano de referência para cada policial."}),r.jsx("li",{children:"Ao agendar, o sistema verifica se há conflitos com folgas já ativas para o mesmo policial no período solicitado, evitando agendamentos sobrepostos."})]})]}),r.jsxs(Gt,{title:"Calendário e Agenda",children:[r.jsxs("p",{children:[r.jsx("strong",{children:"Calendário Geral:"})," Oferece uma visão mensal de todos os eventos: folgas ativas, férias agendadas e eventos da agenda (cursos, operações, etc.). É uma ferramenta visual para planejamento e consulta rápida."]}),r.jsxs("p",{children:[r.jsx("strong",{children:"Agenda (Admin):"})," Permite ao Admin criar eventos específicos, como Cursos, EAP, Operações, e escalar o efetivo necessário. Ao escalar um policial para um evento, ele recebe uma notificação. O sistema também impede que um policial seja escalado para um EAP ou Curso que já tenha participado, garantindo o rodízio do efetivo."]})]}),r.jsxs(Gt,{title:"Funções de Administrador (Admin)",children:[r.jsx("p",{children:"O perfil de Admin possui acesso a áreas estratégicas do sistema:"}),r.jsxs("ul",{className:"list-disc list-inside space-y-2 pl-4",children:[r.jsxs("li",{children:[r.jsx("strong",{children:"Gerenciar Policiais:"})," Permite cadastrar, editar, inativar e excluir policiais do efetivo. Também é aqui que o Admin concede, reseta ou revoga o acesso de um usuário ao sistema. A importação em massa via planilha Excel também é feita nesta tela."]}),r.jsxs("li",{children:[r.jsx("strong",{children:"Créditos de Folga:"})," O Admin gerencia o saldo de folgas de todos os policiais, podendo adicionar ou remover créditos com justificativa (ex: concessão anual). A página também mostra um balanço completo do saldo de todo o efetivo."]})]})]}),r.jsxs(Gt,{title:"Relatórios (Sargento e Admin)",children:[r.jsx("p",{children:"O sistema oferece ferramentas poderosas para extração de dados:"}),r.jsxs("ul",{className:"list-disc list-inside space-y-2 pl-4",children:[r.jsxs("li",{children:[r.jsx("strong",{children:"Relatório de Folgas:"})," Permite gerar uma planilha Excel (.xlsx) com todas as solicitações de folga dentro de um período, com filtros por pelotão. O arquivo inclui detalhes completos, como datas, status e pareceres."]}),r.jsxs("li",{children:[r.jsx("strong",{children:"Relatório EAP/Cursos:"})," Uma ferramenta crucial para o planejamento de cursos. Permite filtrar por tipo (EAP ou Curso) e pelotão, e exibe duas listas claras: quem já participou e quem está pendente. Esses dados também podem ser exportados para Excel."]})]})]}),r.jsxs(Gt,{title:"Notificações",children:[r.jsx("p",{children:"O ícone de sino no canto superior do menu lateral exibe notificações em tempo real sobre eventos importantes relacionados a você. Por exemplo:"}),r.jsxs("ul",{className:"list-disc list-inside space-y-2 pl-4",children:[r.jsxs("li",{children:[r.jsx("strong",{children:"Sargentos"})," são notificados quando um subordinado solicita uma folga."]}),r.jsxs("li",{children:[r.jsx("strong",{children:"Admins"})," são notificados quando um sargento aprova uma folga."]}),r.jsxs("li",{children:[r.jsx("strong",{children:"Subordinados"})," são notificados sobre mudanças no status de suas folgas (aprovada, negada, etc.)."]}),r.jsxs("li",{children:[r.jsx("strong",{children:"Qualquer policial"})," é notificado ao ser escalado para um evento na Agenda."]})]})]})]})]}),Yx=({className:e})=>r.jsxs("svg",{className:e,xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24",fill:"none",stroke:"currentColor",strokeWidth:"1.8",strokeLinecap:"round",strokeLinejoin:"round",children:[r.jsx("path",{d:"M3 9l9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z"}),r.jsx("polyline",{points:"9 22 9 12 15 12 15 22"})]}),Kx=({className:e})=>r.jsxs("svg",{className:e,xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24",fill:"none",stroke:"currentColor",strokeWidth:"1.8",strokeLinecap:"round",strokeLinejoin:"round",children:[r.jsx("rect",{x:"3",y:"4",width:"18",height:"18",rx:"2",ry:"2"}),r.jsx("line",{x1:"16",y1:"2",x2:"16",y2:"6"}),r.jsx("line",{x1:"8",y1:"2",x2:"8",y2:"6"}),r.jsx("line",{x1:"3",y1:"10",x2:"21",y2:"10"})]}),Jx=({className:e})=>r.jsxs("svg",{className:e,xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24",fill:"none",stroke:"currentColor",strokeWidth:"1.8",strokeLinecap:"round",strokeLinejoin:"round",children:[r.jsx("rect",{x:"3",y:"4",width:"18",height:"18",rx:"2",ry:"2"}),r.jsx("line",{x1:"16",y1:"2",x2:"16",y2:"6"}),r.jsx("line",{x1:"8",y1:"2",x2:"8",y2:"6"}),r.jsx("line",{x1:"3",y1:"10",x2:"21",y2:"10"}),r.jsx("path",{d:"M8 14h.01"}),r.jsx("path",{d:"M12 14h.01"}),r.jsx("path",{d:"M16 14h.01"}),r.jsx("path",{d:"M8 18h.01"}),r.jsx("path",{d:"M12 18h.01"}),r.jsx("path",{d:"M16 18h.01"})]}),Zx=({className:e})=>r.jsxs("svg",{className:e,xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24",fill:"none",stroke:"currentColor",strokeWidth:"1.8",strokeLinecap:"round",strokeLinejoin:"round",children:[r.jsx("path",{d:"M17 21v-2a4 4 0 0 0-4-4H5a4 4 0 0 0-4 4v2"}),r.jsx("circle",{cx:"9",cy:"7",r:"4"}),r.jsx("path",{d:"M23 21v-2a4 4 0 0 0-3-3.87"}),r.jsx("path",{d:"M16 3.13a4 4 0 0 1 0 7.75"})]}),eg=({className:e})=>r.jsxs("svg",{className:e,xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24",fill:"none",stroke:"currentColor",strokeWidth:"1.8",strokeLinecap:"round",strokeLinejoin:"round",children:[r.jsx("path",{d:"M1 4v6h6"}),r.jsx("path",{d:"M3.51 15a9 9 0 1 0 2.13-9.36L1 10"})]}),tg=({className:e})=>r.jsxs("svg",{className:e,xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24",fill:"none",stroke:"currentColor",strokeWidth:"1.8",strokeLinecap:"round",strokeLinejoin:"round",children:[r.jsx("path",{d:"M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"}),r.jsx("polyline",{points:"14 2 14 8 20 8"}),r.jsx("line",{x1:"16",y1:"13",x2:"8",y2:"13"}),r.jsx("line",{x1:"16",y1:"17",x2:"8",y2:"17"}),r.jsx("polyline",{points:"10 9 9 9 8 9"})]}),ng=({className:e})=>r.jsxs("svg",{className:e,xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24",fill:"none",stroke:"currentColor",strokeWidth:"1.8",strokeLinecap:"round",strokeLinejoin:"round",children:[r.jsx("circle",{cx:"12",cy:"12",r:"10"}),r.jsx("path",{d:"M9.09 9a3 3 0 0 1 5.83 1c0 2-3 3-3 3"}),r.jsx("line",{x1:"12",y1:"17",x2:"12.01",y2:"17"})]}),rg=({className:e})=>r.jsxs("svg",{className:e,xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24",fill:"none",stroke:"currentColor",strokeWidth:"1.8",strokeLinecap:"round",strokeLinejoin:"round",children:[r.jsx("path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4"}),r.jsx("polyline",{points:"16 17 21 12 16 7"}),r.jsx("line",{x1:"21",y1:"12",x2:"9",y2:"12"})]}),sg=({className:e})=>r.jsxs("svg",{className:e,xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24",fill:"none",stroke:"currentColor",strokeWidth:"1.8",strokeLinecap:"round",strokeLinejoin:"round",children:[r.jsx("circle",{cx:"12",cy:"8",r:"7"}),r.jsx("polyline",{points:"8.21 13.89 7 23 12 17 17 23 15.79 13.88"})]}),og=({className:e})=>r.jsx("svg",{className:e,xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24",fill:"none",stroke:"currentColor",strokeWidth:"1.8",strokeLinecap:"round",strokeLinejoin:"round",children:r.jsx("path",{d:"M17.8 19.2 16 11l3.5-3.5C21 6 21.5 4 21 3c-1-.5-3 0-4.5 1.5L13 8 4.8 6.2c-.5-.1-.9.1-1.1.5l-.3.5c-.2.5-.1 1 .3 1.3L9 12l-2 3H4l-1 1 3 2 2 3 1-1v-3l3-2 3.5 5.3c.3.4.8.5 1.3.3l.5-.2c.4-.3.6-.7.5-1.2z"})}),ag=({className:e})=>r.jsxs("svg",{className:e,xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24",fill:"none",stroke:"currentColor",strokeWidth:"1.8",strokeLinecap:"round",strokeLinejoin:"round",children:[r.jsx("rect",{x:"8",y:"2",width:"8",height:"4",rx:"1",ry:"1"}),r.jsx("path",{d:"M16 4h2a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h2"}),r.jsx("path",{d:"M12 11h4"}),r.jsx("path",{d:"M12 16h4"}),r.jsx("path",{d:"M8 11h.01"}),r.jsx("path",{d:"M8 16h.01"})]}),lg=({className:e})=>r.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24",fill:"none",stroke:"currentColor",strokeWidth:"1.8",strokeLinecap:"round",strokeLinejoin:"round",className:e,children:[r.jsx("path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2"}),r.jsx("circle",{cx:"9",cy:"7",r:"4"}),r.jsx("polyline",{points:"16 11 18 13 22 9"})]}),ig=({className:e})=>r.jsxs("svg",{className:e,xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24",fill:"none",stroke:"currentColor",strokeWidth:"1.8",strokeLinecap:"round",strokeLinejoin:"round",children:[r.jsx("rect",{x:"2",y:"7",width:"20",height:"14",rx:"2",ry:"2"}),r.jsx("path",{d:"M16 21V5a2 2 0 0 0-2-2h-4a2 2 0 0 0-2 2v16"})]}),cg=({className:e})=>r.jsxs("svg",{className:e,xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24",fill:"none",stroke:"currentColor",strokeWidth:"1.8",strokeLinecap:"round",strokeLinejoin:"round",children:[r.jsx("line",{x1:"12",y1:"20",x2:"12",y2:"10"}),r.jsx("line",{x1:"18",y1:"20",x2:"18",y2:"4"}),r.jsx("line",{x1:"6",y1:"20",x2:"6",y2:"16"})]}),Rc=({className:e})=>r.jsx("svg",{className:e,xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24",fill:"none",stroke:"currentColor",strokeWidth:"1.8",strokeLinecap:"round",strokeLinejoin:"round",children:r.jsx("polyline",{points:"6 9 12 15 18 9"})}),dg=({className:e})=>r.jsxs("svg",{className:e,xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24",fill:"none",stroke:"currentColor",strokeWidth:"1.8",strokeLinecap:"round",strokeLinejoin:"round",children:[r.jsx("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),r.jsx("line",{x1:"6",y1:"6",x2:"18",y2:"18"})]}),ug=({className:e})=>r.jsxs("svg",{className:e,xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24",fill:"none",stroke:"currentColor",strokeWidth:"1.8",strokeLinecap:"round",strokeLinejoin:"round",children:[r.jsx("path",{d:"M20.59 13.41l-7.17 7.17a2 2 0 0 1-2.83 0L2 12V2h10l8.59 8.59a2 2 0 0 1 0 2.82z"}),r.jsx("line",{x1:"7",y1:"7",x2:"7.01",y2:"7"})]}),pg=({className:e})=>r.jsxs("svg",{className:e,xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24",fill:"none",stroke:"currentColor",strokeWidth:"1.8",strokeLinecap:"round",strokeLinejoin:"round",children:[r.jsx("path",{d:"M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"}),r.jsx("polyline",{points:"14 2 14 8 20 8"}),r.jsx("path",{d:"M10 18.5v-4.5a1.5 1.5 0 0 1 3 0v4.5"}),r.jsx("path",{d:"M8 16h1.5a1.5 1.5 0 0 1 0 3H8l2 3"})]}),mg=({className:e})=>r.jsx("div",{className:`flex items-center justify-center ${e}`,children:r.jsx("svg",{viewBox:"0 0 80 88",className:"h-8 w-auto",children:r.jsxs("g",{children:[r.jsx("path",{d:"M40 0 L80 16 V56 C80 78 40 88 40 88 C40 88 0 78 0 56 V16 Z",fill:"#19398A"}),r.jsx("path",{d:"M40 4 L76 18.4 V54.8 C76 74.8 40 84 40 84 C40 84 4 74.8 4 54.8 V18.4 Z",strokeWidth:"3",stroke:"white",fill:"none"}),r.jsx("text",{x:"32",y:"62",fontFamily:"Verdana, sans-serif",fontSize:"42",fontWeight:"bold",fill:"white",textAnchor:"middle",children:"Σ"}),r.jsx("text",{x:"55",y:"48",fontFamily:"Verdana, sans-serif",fontSize:"22",fontWeight:"bold",fill:"white",children:"E"})]})})}),hg=({isOpen:e,onClose:t})=>{const{logout:n,role:s,currentUser:o}=ae(),a=pn(),l=$t(),i=()=>{n(),a("/login")},c=[{to:"/dashboard",label:"Página Inicial",icon:Yx,roles:["ADMIN","SARGENTO","SUBORDINADO"]},{to:"/calendario",label:"Calendário Geral",icon:Kx,roles:["ADMIN","SARGENTO","SUBORDINADO"]}],d=[{to:"/folgas",label:"Gerenciar Folgas",icon:Jx,roles:["ADMIN","SARGENTO","SUBORDINADO"]},{to:"/ferias",label:"Controle de Férias",icon:og,roles:["ADMIN","SARGENTO","SUBORDINADO"]},{to:"/protocolo",label:"Protocolo de Docs",icon:pg,roles:["ADMIN","SARGENTO","SUBORDINADO"]},{to:"/policiais",label:"Gerenciar Policiais",icon:Zx,roles:["ADMIN"]},{to:"/grupos",label:"Gerenciar Grupos",icon:ug,roles:["ADMIN"]},{to:"/creditos",label:"Créditos de Folga",icon:sg,roles:["ADMIN"]},{to:"/historico",label:"Histórico",icon:eg,roles:["ADMIN","SARGENTO"]},{to:"/relatorio",label:"Relatório de Folgas",icon:tg,roles:["ADMIN","SARGENTO"]}],x=[{to:"/relatorio-eap",label:"Relatório EAP/Cursos",icon:lg,roles:["ADMIN","SARGENTO"]}],p=[{to:"/agenda",label:"Agenda",icon:ag,roles:["ADMIN"]},{to:"/ajuda",label:"Ajuda",icon:ng,roles:["ADMIN","SARGENTO","SUBORDINADO"]}],u=c.filter(A=>s&&A.roles.includes(s)),v=d.filter(A=>s&&A.roles.includes(s)),j=x.filter(A=>s&&A.roles.includes(s)),S=p.filter(A=>s&&A.roles.includes(s)),E=f.useMemo(()=>d.some(A=>l.pathname.startsWith(A.to)),[l.pathname]),[m,h]=f.useState(E),g=f.useMemo(()=>x.some(A=>l.pathname.startsWith(A.to)),[l.pathname]),[C,b]=f.useState(g),k=f.useMemo(()=>{switch(s){case"ADMIN":return{aside:"bg-pm-blue-dark",headerText:"text-white",headerBorder:"border-pm-blue-light",userText:"text-white",pelotaoText:"text-pm-gray-300",navLinkInactive:"text-pm-gray-100 hover:bg-pm-blue hover:text-white",navLinkActive:"bg-white text-pm-blue-dark font-semibold",logoutButton:"text-pm-gray-200 hover:bg-pm-blue hover:text-white"};case"SARGENTO":return{aside:"bg-pm-red-800",headerText:"text-white",headerBorder:"border-pm-red-600",userText:"text-white",pelotaoText:"text-pm-gray-300",navLinkInactive:"text-red-100 hover:bg-pm-red-700 hover:text-white",navLinkActive:"bg-white text-pm-red-800 font-semibold",logoutButton:"text-pm-gray-200 hover:bg-pm-red-700 hover:text-white"};case"SUBORDINADO":default:return{aside:"bg-pm-gray-900",headerText:"text-white",headerBorder:"border-b border-pm-gray-700",userText:"text-white",pelotaoText:"text-pm-gray-400",navLinkInactive:"text-pm-gray-200 hover:bg-pm-gray-700 hover:text-white",navLinkActive:"bg-white text-pm-gray-900 font-semibold",logoutButton:"text-pm-gray-300 hover:bg-pm-gray-700 hover:text-white"}}},[s]),I=({isActive:A})=>`flex items-center px-4 py-3 rounded-lg transition-colors duration-200 ${A?k.navLinkActive:k.navLinkInactive}`,L=({isActive:A})=>`flex items-center px-4 py-2.5 rounded-lg transition-colors duration-200 text-sm ${A?k.navLinkActive:k.navLinkInactive}`;return r.jsxs("aside",{className:`fixed inset-y-0 left-0 z-40 w-64 ${k.aside} shadow-lg flex flex-col transform transition-transform duration-300 ease-in-out md:relative md:translate-x-0 ${e?"translate-x-0":"-translate-x-full"}`,children:[r.jsxs("div",{className:`p-6 border-b ${k.headerBorder} relative`,children:[r.jsx("button",{onClick:t,className:`absolute top-4 right-4 p-1 rounded-full ${k.userText} md:hidden`,"aria-label":"Fechar menu",children:r.jsx(dg,{className:"h-6 w-6"})}),r.jsxs("div",{className:"flex items-center justify-center gap-2 mb-4",children:[r.jsx(mg,{}),r.jsx("h1",{className:`text-2xl font-bold ${k.headerText}`,children:"SIGMA-E"})]}),o&&r.jsxs("div",{className:"text-center overflow-hidden",children:[r.jsxs("p",{className:`text-sm font-semibold ${k.userText} truncate`,children:[o.postoGrad&&`${o.postoGrad} `,o.nome]}),o.pelotao&&r.jsx("p",{className:`text-xs ${k.pelotaoText}`,children:o.pelotao})]})]}),r.jsxs("nav",{className:"flex-1 px-4 py-6 space-y-2 overflow-y-auto",children:[u.map(({to:A,label:T,icon:G})=>r.jsxs(Ns,{to:A,className:I,onClick:t,children:[r.jsx(G,{className:"h-6 w-6"}),r.jsx("span",{className:"ml-3",children:T})]},A)),v.length>0&&r.jsxs("div",{children:[r.jsxs("button",{onClick:()=>h(!m),className:`w-full flex items-center justify-between px-4 py-3 rounded-lg transition-colors duration-200 ${E?k.navLinkActive:k.navLinkInactive}`,"aria-expanded":m,children:[r.jsxs("div",{className:"flex items-center",children:[r.jsx(ig,{className:"h-6 w-6"}),r.jsx("span",{className:"ml-3 font-medium",children:"P-1"})]}),r.jsx(Rc,{className:`h-5 w-5 transform transition-transform duration-200 ${m?"rotate-180":""}`})]}),m&&r.jsx("div",{className:"pl-4 mt-2 space-y-1",children:v.map(({to:A,label:T,icon:G})=>r.jsxs(Ns,{to:A,className:L,onClick:t,children:[r.jsx(G,{className:"h-5 w-5"}),r.jsx("span",{className:"ml-3",children:T})]},A))})]}),j.length>0&&r.jsxs("div",{children:[r.jsxs("button",{onClick:()=>b(!C),className:`w-full flex items-center justify-between px-4 py-3 rounded-lg transition-colors duration-200 ${g?k.navLinkActive:k.navLinkInactive}`,"aria-expanded":C,children:[r.jsxs("div",{className:"flex items-center",children:[r.jsx(cg,{className:"h-6 w-6"}),r.jsx("span",{className:"ml-3 font-medium",children:"P-3"})]}),r.jsx(Rc,{className:`h-5 w-5 transform transition-transform duration-200 ${C?"rotate-180":""}`})]}),C&&r.jsx("div",{className:"pl-4 mt-2 space-y-1",children:j.map(({to:A,label:T,icon:G})=>r.jsxs(Ns,{to:A,className:L,onClick:t,children:[r.jsx(G,{className:"h-5 w-5"}),r.jsx("span",{className:"ml-3",children:T})]},A))})]}),S.map(({to:A,label:T,icon:G})=>r.jsxs(Ns,{to:A,className:I,onClick:t,children:[r.jsx(G,{className:"h-6 w-6"}),r.jsx("span",{className:"ml-3",children:T})]},A))]}),r.jsx("div",{className:`p-4 border-t ${k.headerBorder}`,children:r.jsxs("button",{onClick:i,className:`w-full flex items-center px-4 py-3 rounded-lg ${k.logoutButton} transition-colors duration-200`,children:[r.jsx(rg,{className:"h-6 w-6"}),r.jsx("span",{className:"ml-3 font-medium",children:"Sair"})]})})]})},fg=({className:e})=>r.jsxs("svg",{className:e,xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[r.jsx("path",{d:"M3 9l9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z"}),r.jsx("polyline",{points:"9 22 9 12 15 12 15 22"})]}),xg={"/dashboard":"Página Inicial","/folgas":"Gerenciar Folgas","/ferias":"Controle de Férias","/calendario":"Calendário Geral","/protocolo":"Protocolo de Documentos","/agenda":"Agenda","/policiais":"Gerenciar Policiais","/grupos":"Gerenciar Grupos","/creditos":"Créditos de Folga","/historico":"Histórico","/relatorio":"Relatório de Folgas","/relatorio-eap":"Relatório EAP/Cursos","/ajuda":"Ajuda"},gg=()=>{const e=$t(),t=e.pathname.split("/").filter(n=>n);return e.pathname==="/dashboard"||e.pathname==="/"?null:r.jsx("nav",{"aria-label":"breadcrumb",className:"mb-6",children:r.jsxs("ol",{className:"flex items-center space-x-2 text-sm text-pm-gray-500",children:[r.jsx("li",{children:r.jsxs(Kr,{to:"/dashboard",className:"flex items-center hover:text-pm-blue transition-colors",children:[r.jsx(fg,{className:"h-4 w-4 mr-1.5 flex-shrink-0"}),"Página Inicial"]})}),t.map((n,s)=>{const o=`/${t.slice(0,s+1).join("/")}`,a=xg[o],l=s===t.length-1;return a?r.jsxs("li",{className:"flex items-center",children:[r.jsx("span",{className:"mx-2 text-pm-gray-400",children:"/"}),l?r.jsx("span",{className:"font-semibold text-pm-gray-700",children:a}):r.jsx(Kr,{to:o,className:"hover:text-pm-blue transition-colors",children:a})]},o):null})]})})},oa=({className:e})=>r.jsxs("svg",{className:e,xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[r.jsx("path",{d:"M18 8A6 6 0 0 0 6 8c0 7-3 9-3 9h18s-3-2-3-9"}),r.jsx("path",{d:"M13.73 21a2 2 0 0 1-3.46 0"})]}),vg=({className:e})=>r.jsxs("svg",{className:e,xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[r.jsx("line",{x1:"3",y1:"12",x2:"21",y2:"12"}),r.jsx("line",{x1:"3",y1:"6",x2:"21",y2:"6"}),r.jsx("line",{x1:"3",y1:"18",x2:"21",y2:"18"})]}),yg=()=>{const{currentUser:e}=ae(),{notificacoes:t,markNotificacoesAsRead:n}=pe(),[s,o]=f.useState(!1),a=f.useRef(null),l=pn(),i=f.useMemo(()=>e?t.filter(p=>p.policialId===e.id).sort((p,u)=>new Date(u.criadoEm).getTime()-new Date(p.criadoEm).getTime()):[],[t,e]),c=f.useMemo(()=>i.filter(p=>!p.lida).length,[i]),d=()=>{const p=!s;o(p),p&&c>0&&e&&n(e.id)},x=p=>{o(!1),p&&l(p)};return f.useEffect(()=>{function p(u){a.current&&!a.current.contains(u.target)&&o(!1)}return document.addEventListener("mousedown",p),()=>document.removeEventListener("mousedown",p)},[a]),r.jsxs("div",{className:"relative",ref:a,children:[r.jsxs("button",{onClick:d,className:"relative p-2 rounded-full text-pm-gray-600 hover:bg-white hover:text-pm-gray-800 transition-colors",children:[r.jsx(oa,{className:"h-6 w-6"}),c>0&&r.jsx("span",{className:"absolute top-0 right-0 block h-5 w-5 rounded-full bg-pm-red-dark text-white text-xs flex items-center justify-center ring-2 ring-pm-gray-100",children:c>9?"9+":c})]}),s&&r.jsxs("div",{className:"absolute right-0 mt-2 w-[420px] max-w-[90vw] bg-white rounded-xl shadow-xl z-20 border border-pm-gray-200 text-pm-gray-800",children:[r.jsxs("div",{className:"p-4 font-bold text-lg border-b border-pm-gray-200 flex items-center gap-3",children:[r.jsx(oa,{className:"h-6 w-6 text-pm-gray-500"}),"Notificações"]}),r.jsx("div",{className:"max-h-[60vh] overflow-y-auto",children:i.length>0?r.jsx("ul",{className:"divide-y divide-pm-gray-100",children:i.map(p=>r.jsx("li",{children:r.jsx("button",{onClick:()=>x(p.link),className:`w-full text-left p-4 transition-colors duration-150 group ${p.link?"hover:bg-pm-gray-50":"cursor-default"}`,disabled:!p.link,children:r.jsxs("div",{className:"flex items-start gap-4",children:[r.jsx("div",{className:"w-3 flex-shrink-0 pt-1.5",children:!p.lida&&r.jsx("div",{className:"h-2.5 w-2.5 rounded-full bg-pm-blue ring-4 ring-pm-blue-light/20","aria-label":"Não lida"})}),r.jsxs("div",{className:"flex-1",children:[r.jsx("p",{className:"text-base leading-relaxed text-pm-gray-800 group-hover:text-pm-gray-900",children:p.mensagem}),r.jsx("p",{className:"text-sm text-pm-gray-500 mt-2",children:new Date(p.criadoEm).toLocaleString("pt-BR",{day:"numeric",month:"short",hour:"2-digit",minute:"2-digit"})})]})]})})},p.id))}):r.jsxs("div",{className:"text-center p-12",children:[r.jsx(oa,{className:"mx-auto h-16 w-16 text-pm-gray-200"}),r.jsx("p",{className:"mt-5 text-lg font-semibold text-pm-gray-700",children:"Tudo em dia!"}),r.jsx("p",{className:"mt-1 text-base text-pm-gray-500",children:"Você não tem novas notificações."})]})})]})]})},wg=()=>{const{currentUser:e}=ae(),[t,n]=f.useState(!1);return r.jsxs("div",{className:"flex h-screen bg-pm-gray-100",children:[t&&r.jsx("div",{onClick:()=>n(!1),className:"fixed inset-0 bg-black/50 z-30 md:hidden","aria-hidden":"true"}),r.jsx(hg,{isOpen:t,onClose:()=>n(!1)}),r.jsxs("div",{className:"flex-1 flex flex-col overflow-hidden",children:[r.jsxs("header",{className:"flex-shrink-0 w-full flex justify-between md:justify-end items-center py-4 px-4 sm:px-8 z-20",children:[r.jsx("button",{className:"text-pm-gray-600 md:hidden",onClick:()=>n(!0),"aria-label":"Abrir menu",children:r.jsx(vg,{className:"h-6 w-6"})}),e&&r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx("span",{className:"font-semibold text-pm-gray-700 hidden sm:inline",children:"Notificações"}),r.jsx(yg,{})]})]}),r.jsxs("main",{className:"flex-1 overflow-y-auto px-4 sm:px-8 pb-8",children:[r.jsx(gg,{}),r.jsx(Lf,{})]})]})]})},jg=({className:e="h-5 w-5"})=>r.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24",fill:"none",stroke:"currentColor",strokeWidth:"2.5",strokeLinecap:"round",strokeLinejoin:"round",className:e,children:r.jsx("path",{d:"M4 19.5A2.5 2.5 0 0 1 6.5 17H20v2H6.5A2.5 2.5 0 0 1 4 19.5v-15A2.5 2.5 0 0 1 6.5 2H20v15H6.5A2.5 2.5 0 0 1 4 4.5z"})}),Ng=({className:e="h-5 w-5"})=>r.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24",fill:"none",stroke:"currentColor",strokeWidth:"2.5",strokeLinecap:"round",strokeLinejoin:"round",className:e,children:[r.jsx("circle",{cx:"12",cy:"12",r:"10"}),r.jsx("circle",{cx:"12",cy:"12",r:"6"}),r.jsx("circle",{cx:"12",cy:"12",r:"2"})]}),Sg=({className:e="h-5 w-5"})=>r.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24",fill:"none",stroke:"currentColor",strokeWidth:"2.5",strokeLinecap:"round",strokeLinejoin:"round",className:e,children:r.jsx("path",{d:"M12 22s8-4 8-10V5l-8-3-8 3v7c0 6 8 10 8 10z"})}),Cg=({className:e="h-5 w-5"})=>r.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24",fill:"none",stroke:"currentColor",strokeWidth:"2.5",strokeLinecap:"round",strokeLinejoin:"round",className:e,children:[r.jsx("circle",{cx:"12",cy:"8",r:"7"}),r.jsx("polyline",{points:"8.21 13.89 7 23 12 17 17 23 15.79 13.88"})]}),Eg=({className:e="h-5 w-5"})=>r.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24",fill:"none",stroke:"currentColor",strokeWidth:"2.5",strokeLinecap:"round",strokeLinejoin:"round",className:e,children:[r.jsx("circle",{cx:"12",cy:"12",r:"1"}),r.jsx("circle",{cx:"19",cy:"12",r:"1"}),r.jsx("circle",{cx:"5",cy:"12",r:"1"})]}),Ag=({className:e})=>r.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:e,children:[r.jsx("rect",{x:"8",y:"2",width:"8",height:"4",rx:"1",ry:"1"}),r.jsx("path",{d:"M16 4h2a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h2"}),r.jsx("path",{d:"M12 11h4"}),r.jsx("path",{d:"M12 16h4"}),r.jsx("path",{d:"M8 11h.01"}),r.jsx("path",{d:"M8 16h.01"})]}),kg=({className:e})=>r.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:e,children:r.jsx("path",{d:"M17.8 19.2 16 11l3.5-3.5C21 6 21.5 4 21 3c-1-.5-3 0-4.5 1.5L13 8 4.8 6.2c-.5-.1-.9.1-1.1.5l-.3.5c-.2.5-.1 1 .3 1.3L9 12l-2 3H4l-1 1 3 2 2 3 1-1v-3l3-2 3.5 5.3c.3.4.8.5 1.3.3l.5-.2c.4-.3.6-.7.5-1.2z"})}),bg=({className:e})=>r.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:e,children:[r.jsx("path",{d:"M16 21v-2a4 4 0 0 0-4-4H5a4 4 0 0 0-4 4v2"}),r.jsx("circle",{cx:"8.5",cy:"7",r:"4"}),r.jsx("polyline",{points:"17 11 19 13 23 9"})]}),Pc={[ee.CURSO]:{icon:jg,style:"bg-indigo-500 text-white"},[ee.EAP]:{icon:Ng,style:"bg-purple-500 text-white"},[ee.OPERACAO]:{icon:Sg,style:"bg-red-500 text-white"},[ee.LICENCA_PREMIO]:{icon:Cg,style:"bg-teal-500 text-white"},[ee.OUTRO]:{icon:Eg,style:"bg-gray-500 text-white"}},Dg=()=>{const{policiais:e}=pe(),{folgasAtivasPorDia:t,feriasPorDia:n,eventosAgendaPorDia:s}=mx(),[o,a]=f.useState(new Date),[l,i]=f.useState(null),[c,d]=f.useState(!1),x=f.useMemo(()=>({...jn,FOLGA:"Folgas",FERIAS:"Férias"}),[]),p=f.useMemo(()=>({...Ir,FOLGA:"bg-pm-blue text-white",FERIAS:"bg-green-500 text-white"}),[]),[u,v]=f.useState(Object.keys(x).reduce((A,T)=>({...A,[T]:!0}),{})),j=A=>{v(T=>({...T,[A]:!T[A]}))},S=f.useMemo(()=>new Map(e.map(A=>[A.id,A])),[e]),E=A=>A.toISOString().split("T")[0],m=f.useMemo(()=>{const A=o.getFullYear(),T=o.getMonth(),G=new Date(A,T,1),O=new Date(A,T+1,0),M=[],z=G.getDay();for(let w=0;w<z;w++)M.push(null);for(let w=1;w<=O.getDate();w++)M.push(new Date(A,T,w));return M},[o]),h=()=>{a(new Date(o.getFullYear(),o.getMonth()-1,1))},g=()=>{a(new Date(o.getFullYear(),o.getMonth()+1,1))},C=A=>{i(A),d(!0)},b=["Dom","Seg","Ter","Qua","Qui","Sex","Sáb"],k=l&&u.FOLGA?t.get(E(l))||[]:[],I=l&&u.FERIAS?n.get(E(l))||[]:[],L=l?(s.get(E(l))||[]).filter(A=>u[A.tipo]):[];return r.jsxs("div",{className:"container mx-auto",children:[r.jsx("h1",{className:"text-3xl font-bold text-pm-gray-800 mb-6",children:"Calendário Geral"}),r.jsxs("div",{className:"bg-white p-6 rounded-lg shadow-md",children:[r.jsxs("div",{className:"flex justify-between items-center mb-4",children:[r.jsx("button",{onClick:h,className:"p-2 rounded-full hover:bg-pm-gray-100 transition-colors",children:r.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:r.jsx("polyline",{points:"15 18 9 12 15 6"})})}),r.jsx("h2",{className:"text-xl font-semibold capitalize text-pm-gray-700 text-center",children:o.toLocaleString("pt-BR",{month:"long",year:"numeric"})}),r.jsx("button",{onClick:g,className:"p-2 rounded-full hover:bg-pm-gray-100 transition-colors",children:r.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:r.jsx("polyline",{points:"9 18 15 12 9 6"})})})]}),r.jsxs("div",{className:"p-4 mb-4 bg-pm-gray-50 rounded-lg border",children:[r.jsx("h3",{className:"text-sm font-semibold text-pm-gray-600 mb-3",children:"Filtros de Exibição:"}),r.jsx("div",{className:"flex flex-wrap gap-2",children:Object.entries(x).map(([A,T])=>{const G=u[A],O=p[A]||"bg-gray-200 text-gray-800";return r.jsxs("button",{onClick:()=>j(A),className:`px-3 py-1.5 text-xs font-semibold rounded-full transition-all duration-200 flex items-center gap-2 ${G?`${O} shadow-sm`:"bg-pm-gray-200 text-pm-gray-600 hover:bg-pm-gray-300"}`,children:[r.jsx("span",{className:`w-2.5 h-2.5 rounded-full border-2 ${G?"bg-white border-white/50":"bg-transparent border-current"}`}),T]},A)})})]}),r.jsx("div",{className:"grid grid-cols-7 gap-2 text-center font-medium text-pm-gray-500 border-b pb-2 mb-2",children:b.map(A=>r.jsx("div",{className:"py-2 text-xs sm:text-base","aria-hidden":"true",children:A},A))}),r.jsx("div",{className:"grid grid-cols-7 gap-1 md:gap-2",children:m.map((A,T)=>{if(!A)return r.jsx("div",{},`empty-${T}`);const G=E(A),O=u.FOLGA?t.get(G)||[]:[],M=u.FERIAS?n.get(G)||[]:[],z=(s.get(G)||[]).filter(R=>u[R.tipo]),w=Array.from(new Set(z.map(R=>R.tipo))),$=E(new Date)===G,y=O.length>0||M.length>0||z.length>0;let N="h-24 w-full text-left p-1 md:p-2 rounded-lg relative transition-colors duration-200 flex flex-col justify-between group";return y?N+=" cursor-pointer":N+=" cursor-default",$?N+=" bg-pm-blue text-white":M.length>0?N+=" bg-green-100 hover:bg-green-200":O.length>0?N+=" bg-pm-gray-50 hover:bg-pm-blue-light hover:text-white":z.length>0?N+=" bg-pm-gray-50 hover:bg-pm-gray-100":N+=" bg-pm-gray-50 text-pm-gray-400",r.jsxs("button",{onClick:()=>y&&C(A),disabled:!y,className:N,"aria-label":y?`Ver eventos do dia ${A.getDate()}`:`Dia ${A.getDate()}, sem eventos`,children:[r.jsx("span",{className:`font-medium text-sm md:text-base ${$?"":M.length>0?"text-green-900":y?"text-pm-gray-800":""} ${O.length>0?"group-hover:text-white":""}`,children:A.getDate()}),r.jsxs("div",{className:"flex-grow flex items-end justify-end flex-wrap-reverse gap-1",children:[w.map(R=>{const{icon:F,style:W}=Pc[R],Q=z.filter(X=>X.tipo===R).length,q=`${Q} ${jn[R]}${Q>1?"s":""}`;return r.jsx("span",{className:`w-6 h-6 rounded-full flex items-center justify-center font-bold border-2 border-white ${W}`,title:q,children:r.jsx(F,{className:"h-4 w-4"})},R)}),M.length>0&&r.jsx("span",{className:"text-xs w-6 h-6 rounded-full flex items-center justify-center font-bold border-2 bg-green-500 text-white border-white",title:`${M.length} policiais de férias`,children:M.length}),O.length>0&&r.jsx("span",{className:`text-xs w-6 h-6 rounded-full flex items-center justify-center font-bold border-2 ${$?"bg-white text-pm-blue border-white":"bg-pm-blue text-white border-white group-hover:border-pm-blue-light"}`,title:`${O.length} policiais de folga`,children:O.length})]})]},G)})})]}),r.jsx(st,{isOpen:c,onClose:()=>d(!1),title:`Eventos de ${l==null?void 0:l.toLocaleDateString("pt-BR")}`,children:r.jsxs("div",{className:"space-y-6 max-h-[70vh] overflow-y-auto pr-2",children:[L.length>0&&r.jsxs("div",{children:[r.jsxs("h3",{className:"text-lg font-semibold text-pm-gray-800 mb-3 border-b pb-2 flex items-center gap-2",children:[r.jsx(Ag,{className:"h-5 w-5 text-pm-gray-500"}),"Eventos Agendados"]}),r.jsx("ul",{className:"space-y-3",children:L.map(A=>{const T=Pc[A.tipo].icon,G=Ir[A.tipo].split(" "),O=G.find(z=>z.startsWith("bg-"))||"bg-pm-gray-100",M=G.find(z=>z.startsWith("text-"))||"text-pm-gray-800";return r.jsxs("li",{className:"p-3 bg-pm-gray-50 rounded-md border border-pm-gray-200",children:[r.jsxs("div",{className:"flex items-start space-x-3",children:[r.jsx("div",{className:`flex-shrink-0 w-8 h-8 rounded-full flex items-center justify-center ${O}`,children:r.jsx("div",{className:M,children:r.jsx(T,{className:"h-5 w-5"})})}),r.jsxs("div",{className:"flex-1",children:[r.jsxs("div",{className:"flex justify-between items-start",children:[r.jsx("p",{className:"font-semibold text-pm-gray-900",children:A.titulo}),r.jsx("span",{className:`px-2 py-1 text-xs font-medium rounded-full ${Ir[A.tipo]}`,children:jn[A.tipo]})]}),r.jsxs("p",{className:"text-sm text-pm-gray-600",children:[r.jsx("strong",{children:"Horário:"})," ",A.horaInicio," às ",A.horaFim]}),r.jsxs("p",{className:"text-sm text-pm-gray-600",children:[r.jsx("strong",{children:"Local:"})," ",A.local]})]})]}),A.observacoes&&r.jsxs("p",{className:"text-xs mt-2 pt-2 border-t border-pm-gray-200 text-pm-gray-600",children:[r.jsx("strong",{children:"Obs:"})," ",A.observacoes]}),A.policiaisIds.length>0&&r.jsxs("div",{className:"mt-3 pt-3 border-t border-pm-gray-200",children:[r.jsx("h4",{className:"text-sm font-semibold text-pm-gray-800 mb-2",children:"Efetivo Escalado:"}),r.jsx("ul",{className:"space-y-1",children:A.policiaisIds.map(z=>{const w=S.get(z);return w?r.jsxs("li",{className:"flex justify-between items-center text-sm text-pm-gray-900 bg-white p-1.5 rounded border",children:[r.jsxs("span",{children:[w.postoGrad," ",w.nome]}),r.jsx("span",{className:"font-mono text-xs bg-pm-gray-200 text-pm-gray-800 px-2 py-0.5 rounded-full",children:w.re})]},z):null})})]})]},A.id)})})]}),I.length>0&&r.jsxs("div",{children:[r.jsxs("h3",{className:"text-lg font-semibold text-pm-gray-800 mb-3 border-b pb-2 flex items-center gap-2",children:[r.jsx(kg,{className:"h-5 w-5 text-pm-gray-500"}),"Férias Agendadas"]}),r.jsx("ul",{className:"space-y-2",children:I.map(A=>{const T=S.get(A.policialId);return r.jsxs("li",{className:"p-3 bg-white rounded-md border border-green-200 shadow-sm",children:[r.jsxs("p",{className:"font-semibold text-green-900",children:[T==null?void 0:T.postoGrad," ",A.nome]}),r.jsxs("p",{className:"text-sm text-green-700",children:["RE: ",A.re," - Pelotão: ",A.pelotao]})]},A.id)})})]}),k.length>0&&r.jsxs("div",{children:[r.jsxs("h3",{className:"text-lg font-semibold text-pm-gray-800 mb-3 border-b pb-2 flex items-center gap-2",children:[r.jsx(bg,{className:"h-5 w-5 text-pm-gray-500"}),"Folgas Ativas"]}),r.jsx("ul",{className:"space-y-2",children:k.map(A=>{const T=S.get(A.policialld);return r.jsxs("li",{className:"p-3 bg-white rounded-md border border-blue-200 shadow-sm",children:[r.jsxs("p",{className:"font-semibold text-pm-gray-800",children:[T==null?void 0:T.postoGrad," ",A.nome]}),r.jsxs("p",{className:"text-sm text-pm-gray-500",children:["RE: ",A.re," - Pelotão: ",A.pelotao]})]},A.folgald)})})]}),I.length===0&&k.length===0&&L.length===0&&r.jsx("p",{className:"text-pm-gray-600 text-center py-4",children:"Nenhum evento para este dia."})]})})]})},Og=({className:e})=>r.jsxs("svg",{className:e,xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[r.jsx("path",{d:"M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"}),r.jsx("polyline",{points:"14 2 14 8 20 8"}),r.jsx("line",{x1:"16",y1:"13",x2:"8",y2:"13"}),r.jsx("line",{x1:"16",y1:"17",x2:"8",y2:"17"}),r.jsx("polyline",{points:"10 9 9 9 8 9"})]}),Ig=()=>{const{folgas:e,users:t,grupos:n}=pe(),{currentUser:s,role:o}=ae(),a=new Date,l=new Date(a.getFullYear(),a.getMonth(),1).toISOString().split("T")[0],i=new Date(a.getFullYear(),a.getMonth()+1,0).toISOString().split("T")[0],[c,d]=f.useState({dataInicio:l,dataFim:i,pelotao:o==="SARGENTO"&&(s==null?void 0:s.pelotao)||""}),x=m=>{const{name:h,value:g}=m.target;d(C=>({...C,[h]:g}))},p=f.useMemo(()=>[...n].sort((m,h)=>m.nome.localeCompare(h.nome)),[n]),u=f.useMemo(()=>e.filter(m=>{const h=new Date(m.data+"T00:00:00"),g=(!c.dataInicio||h>=new Date(c.dataInicio+"T00:00:00"))&&(!c.dataFim||h<=new Date(c.dataFim+"T00:00:00")),C=!c.pelotao||m.pelotao===c.pelotao,b=o!=="SARGENTO"||m.pelotao===(s==null?void 0:s.pelotao);return g&&C&&b}).sort((m,h)=>new Date(m.data).getTime()-new Date(h.data).getTime()),[e,c,o,s]),v=m=>{switch(m.status){case K.TROCADA:return{text:`Trocada para ${m.trocadaPara?new Date(m.trocadaPara+"T00:00:00").toLocaleDateString("pt-BR"):"N/D"}`,color:"bg-yellow-100 text-yellow-800"};case K.EXCLUIDA:return{text:"Excluída",color:"bg-red-100 text-red-800"};case K.CANCELADA:return{text:"Cancelada/Reprovada",color:"bg-gray-200 text-gray-800"};case K.ATIVA:if(m.aprovacao===H.VALIDADA_ADMIN)return{text:"Usufruída",color:"bg-green-100 text-green-800"};break}switch(m.aprovacao){case H.NEGADA_SARGENTO:return{text:"Negada pelo Sargento",color:"bg-orange-100 text-orange-800"};case H.REPROVADA_ADMIN:return{text:"Reprovada pelo Admin",color:"bg-red-100 text-red-800"};default:return{text:"Pendente",color:"bg-blue-100 text-blue-800"}}},j=m=>{if(!m)return"N/A";const h=t.find(g=>g.id===m);return h?h.nome:"Desconhecido"},S=()=>{if(u.length===0)return;const m=c.dataInicio?new Date(c.dataInicio+"T00:00:00").toLocaleDateString("pt-BR"):"N/A",h=c.dataFim?new Date(c.dataFim+"T00:00:00").toLocaleDateString("pt-BR"):"N/A",g=`Relatório de Folgas - De ${m} a ${h} - Pelotão: ${c.pelotao||"Todos"}`,C=["Policial","RE","Pelotão","Data da Folga","Data da Solicitação","Situação Final","Motivo Solicitação","Parecer Sargento","Parecer Admin"],b=u.map(G=>{const O=v(G);return[G.nome,G.re,G.pelotao,new Date(G.data+"T00:00:00").toLocaleDateString("pt-BR"),new Date(G.criadoEm).toLocaleString("pt-BR"),O.text,G.motivo||"",G.sargentoParecer||"",G.adminParecer||""]}),k=[[g],[],C,...b],I=XLSX.utils.aoa_to_sheet(k),L=C.map((G,O)=>({wch:Math.max(...k.map(M=>M[O]?String(M[O]).length:0))+2}));I["!cols"]=L,I["!merges"]=[{s:{r:0,c:0},e:{r:0,c:C.length-1}}],I.A1&&(I.A1.s={font:{sz:14,bold:!0},alignment:{horizontal:"center"}}),C.forEach((G,O)=>{const M=XLSX.utils.encode_cell({r:2,c:O});I[M]&&(I[M].s={font:{bold:!0}})});const A=XLSX.utils.book_new();XLSX.utils.book_append_sheet(A,I,"Relatório de Folgas");const T=`relatorio_folgas_${c.dataInicio}_a_${c.dataFim}_${c.pelotao||"todos"}.xlsx`;XLSX.writeFile(A,T)},E=f.useMemo(()=>{const m=u.filter(C=>C.status===K.ATIVA&&C.aprovacao===H.VALIDADA_ADMIN).length,h=u.filter(C=>C.status===K.TROCADA).length,g=u.filter(C=>C.status===K.EXCLUIDA).length;return{total:u.length,usufruidas:m,trocadas:h,excluidas:g}},[u]);return r.jsxs("div",{className:"container mx-auto",children:[r.jsxs("div",{className:"flex justify-between items-center mb-6 flex-wrap gap-2",children:[r.jsx("h1",{className:"text-3xl font-bold text-pm-gray-800",children:"Relatório de Folgas"}),r.jsxs("button",{onClick:S,disabled:u.length===0,className:"bg-green-600 hover:bg-green-700 text-white font-bold py-2 px-4 rounded-md flex items-center disabled:bg-green-300 disabled:cursor-not-allowed",children:[r.jsx(Og,{className:"mr-2 h-5 w-5"})," Exportar Excel"]})]}),r.jsx("div",{className:"bg-white p-4 rounded-lg shadow-md mb-6",children:r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[r.jsxs("div",{children:[r.jsx("label",{htmlFor:"dataInicio",className:"block text-sm font-medium text-pm-gray-700",children:"De:"}),r.jsx("input",{id:"dataInicio",name:"dataInicio",type:"date",value:c.dataInicio,onChange:x,className:"mt-1 block w-full pl-3 pr-2 py-2 text-base border-pm-gray-300 focus:outline-none focus:ring-pm-blue focus:border-pm-blue sm:text-sm rounded-md"})]}),r.jsxs("div",{children:[r.jsx("label",{htmlFor:"dataFim",className:"block text-sm font-medium text-pm-gray-700",children:"Até:"}),r.jsx("input",{id:"dataFim",name:"dataFim",type:"date",value:c.dataFim,onChange:x,className:"mt-1 block w-full pl-3 pr-2 py-2 text-base border-pm-gray-300 focus:outline-none focus:ring-pm-blue focus:border-pm-blue sm:text-sm rounded-md"})]}),r.jsxs("div",{children:[r.jsx("label",{htmlFor:"pelotao",className:"block text-sm font-medium text-pm-gray-700",children:"Grupo/Pelotão"}),r.jsxs("select",{id:"pelotao",name:"pelotao",value:c.pelotao,onChange:x,className:"mt-1 block w-full pl-3 pr-10 py-2 text-base border-pm-gray-300 focus:outline-none focus:ring-pm-blue focus:border-pm-blue sm:text-sm rounded-md",disabled:o==="SARGENTO",children:[r.jsx("option",{value:"",children:"Todos os Grupos"}),p.map(m=>r.jsx("option",{value:m.nome,children:m.nome},m.id))]})]})]})}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-8",children:[r.jsxs("div",{className:"bg-white p-4 rounded-lg shadow",children:[r.jsx("p",{className:"text-sm text-pm-gray-500",children:"Total de Solicitações"}),r.jsx("p",{className:"text-2xl font-bold",children:E.total})]}),r.jsxs("div",{className:"bg-white p-4 rounded-lg shadow",children:[r.jsx("p",{className:"text-sm text-pm-gray-500",children:"Folgas Usufruídas"}),r.jsx("p",{className:"text-2xl font-bold text-green-600",children:E.usufruidas})]}),r.jsxs("div",{className:"bg-white p-4 rounded-lg shadow",children:[r.jsx("p",{className:"text-sm text-pm-gray-500",children:"Folgas Trocadas"}),r.jsx("p",{className:"text-2xl font-bold text-yellow-600",children:E.trocadas})]}),r.jsxs("div",{className:"bg-white p-4 rounded-lg shadow",children:[r.jsx("p",{className:"text-sm text-pm-gray-500",children:"Folgas Excluídas"}),r.jsx("p",{className:"text-2xl font-bold text-red-600",children:E.excluidas})]})]}),r.jsxs("div",{className:"bg-white rounded-lg shadow-md overflow-x-auto",children:[r.jsxs("table",{className:"w-full text-sm text-left text-pm-gray-600",children:[r.jsx("thead",{className:"text-xs text-pm-gray-700 uppercase bg-pm-gray-50",children:r.jsxs("tr",{children:[r.jsx("th",{scope:"col",className:"px-6 py-3",children:"Policial"}),r.jsx("th",{scope:"col",className:"px-6 py-3",children:"Data Folga"}),r.jsx("th",{scope:"col",className:"px-6 py-3",children:"Data Solicitação"}),r.jsx("th",{scope:"col",className:"px-6 py-3",children:"Situação Final"}),r.jsx("th",{scope:"col",className:"px-6 py-3",children:"Detalhes"})]})}),r.jsx("tbody",{children:u.map(m=>{const h=v(m);return r.jsxs("tr",{className:"bg-white border-b hover:bg-pm-gray-50",children:[r.jsxs("td",{className:"px-6 py-4 font-medium text-pm-gray-900",children:[m.nome,r.jsx("br",{}),r.jsxs("span",{className:"text-xs text-pm-gray-500",children:["RE: ",m.re," | ",m.pelotao]})]}),r.jsx("td",{className:"px-6 py-4",children:new Date(m.data+"T00:00:00").toLocaleDateString("pt-BR")}),r.jsx("td",{className:"px-6 py-4",children:new Date(m.criadoEm).toLocaleString("pt-BR")}),r.jsx("td",{className:"px-6 py-4",children:r.jsx("span",{className:`px-2 py-1 text-xs font-medium rounded-full ${h.color}`,children:h.text})}),r.jsxs("td",{className:"px-6 py-4 text-xs",children:[m.motivo&&r.jsxs("div",{children:[r.jsx("strong",{children:"Motivo:"})," ",m.motivo]}),m.sargentoParecer&&r.jsxs("div",{children:[r.jsxs("strong",{children:["Sgt (",j(m.sargentold),"):"]})," ",m.sargentoParecer]}),m.adminParecer&&r.jsxs("div",{children:[r.jsxs("strong",{children:["Adm (",j(m.adminld),"):"]})," ",m.adminParecer]})]})]},m.folgald)})})]}),u.length===0&&r.jsx("p",{className:"text-center p-4 text-pm-gray-500",children:"Nenhum registro encontrado para os filtros selecionados."})]})]})},Rg=({message:e,type:t="success"})=>{const n=t==="success"?"bg-green-600":"bg-red-600";return r.jsxs("div",{className:`fixed top-20 right-8 text-white py-3 px-5 rounded-lg shadow-xl z-50 flex items-center ${n}`,role:"alert","aria-live":"assertive",children:[r.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:"mr-2",children:[r.jsx("circle",{cx:"12",cy:"12",r:"10"}),r.jsx("path",{d:"M12 16v-4"}),r.jsx("path",{d:"M12 8h.01"})]}),r.jsx("span",{children:e})]})},Pg=()=>{const{leaveLedger:e,policiais:t,adminAddLeaveCredits:n,grupos:s}=pe(),{currentUser:o}=ae(),[a,l]=f.useState(!1),[i,c]=f.useState("add"),[d,x]=f.useState({policialId:"",year:new Date().getFullYear(),delta:1,reason:""}),[p,u]=f.useState(null),[v,j]=f.useState(""),S=new Date().getFullYear(),[E,m]=f.useState(S),[h,g]=f.useState(""),[C,b]=f.useState(""),k=fx({yearFilter:E,pelotaoFilter:h,searchFilter:C}),I=f.useMemo(()=>[...s].sort((w,$)=>w.nome.localeCompare($.nome)),[s]);f.useEffect(()=>{if(p){const w=setTimeout(()=>u(null),3e3);return()=>clearTimeout(w)}},[p]);const L=f.useMemo(()=>new Map(t.map(w=>[w.id,w])),[t]),A=f.useMemo(()=>[...e].sort((w,$)=>new Date($.createdAt).getTime()-new Date(w.createdAt).getTime()),[e]),T=f.useMemo(()=>Array.from(new Set([...e.map(w=>w.year),S])).sort((w,$)=>$-w),[e,S]),G=f.useMemo(()=>{if(!v.trim())return t.filter($=>$.ativo).sort(($,y)=>$.nome.localeCompare(y.nome));const w=v.toLowerCase();return t.filter($=>$.ativo&&($.re.toLowerCase().includes(w)||$.nome.toLowerCase().includes(w)||$.pelotao.toLowerCase().includes(w)))},[t,v]),O=w=>{c(w),x({policialId:"",year:new Date().getFullYear(),delta:w==="add"?1:-1,reason:""}),j(""),l(!0)},M=async()=>{if(!o)return;const{policialId:w,year:$,delta:y,reason:N}=d;if(!w){u({message:"Selecione um policial.",type:"error"});return}if(!Number.isFinite(y)||y===0){u({message:"Valor inválido.",type:"error"});return}if(i==="add"&&y<1){u({message:"Valor deve ser positivo.",type:"error"});return}if(i==="remove"&&y>-1){u({message:"Valor deve ser negativo.",type:"error"});return}try{await n({policialId:Number(w),year:$,delta:y,reason:N},o),u({message:"Operação realizada com sucesso!",type:"success"}),l(!1)}catch(R){u({message:R.message||"Falha ao realizar a operação.",type:"error"})}},z=w=>{const{name:$,value:y}=w.target;x(N=>({...N,[$]:$==="year"||$==="delta"?Number(y):y}))};return r.jsxs("div",{className:"container mx-auto",children:[p&&r.jsx(Rg,{message:p.message,type:p.type}),r.jsxs("div",{className:"flex justify-between items-center mb-6 flex-wrap gap-2",children:[r.jsx("h1",{className:"text-3xl font-bold text-pm-gray-800",children:"Auditoria de Créditos de Folga"}),r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsxs("button",{onClick:()=>O("add"),className:"bg-green-600 hover:bg-green-700 text-white font-bold py-2 px-4 rounded-md flex items-center",children:[r.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:"mr-2",children:[r.jsx("line",{x1:"12",y1:"5",x2:"12",y2:"19"}),r.jsx("line",{x1:"5",y1:"12",x2:"19",y2:"12"})]}),"Adicionar"]}),r.jsxs("button",{onClick:()=>O("remove"),className:"bg-orange-500 hover:bg-orange-600 text-white font-bold py-2 px-4 rounded-md flex items-center",children:[r.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:"mr-2",children:r.jsx("line",{x1:"5",y1:"12",x2:"19",y2:"12"})}),"Remover"]})]})]}),r.jsxs("div",{className:"bg-white rounded-lg shadow-md overflow-x-auto",children:[r.jsxs("table",{className:"w-full text-sm text-left text-pm-gray-600",children:[r.jsx("thead",{className:"text-xs text-pm-gray-700 uppercase bg-pm-gray-50",children:r.jsxs("tr",{children:[r.jsx("th",{scope:"col",className:"px-6 py-3",children:"Data"}),r.jsx("th",{scope:"col",className:"px-6 py-3",children:"Policial"}),r.jsx("th",{scope:"col",className:"px-6 py-3",children:"Ano Ref."}),r.jsx("th",{scope:"col",className:"px-6 py-3",children:"Δ"}),r.jsx("th",{scope:"col",className:"px-6 py-3",children:"Motivo"}),r.jsx("th",{scope:"col",className:"px-6 py-3",children:"Lançado Por"})]})}),r.jsx("tbody",{children:A.map(w=>{const $=L.get(w.policialId);return r.jsxs("tr",{className:"bg-white border-b hover:bg-pm-gray-50",children:[r.jsx("td",{className:"px-6 py-4",children:new Date(w.createdAt).toLocaleString("pt-BR")}),r.jsxs("td",{className:"px-6 py-4 font-medium",children:[$?`${$.postoGrad} ${$.nome}`:`ID: ${w.policialId}`,r.jsx("br",{}),r.jsxs("span",{className:"text-xs text-pm-gray-500",children:["RE: ",($==null?void 0:$.re)||"N/A"]})]}),r.jsx("td",{className:"px-6 py-4",children:w.year}),r.jsx("td",{className:`px-6 py-4 font-bold ${w.delta>0?"text-green-600":"text-red-600"}`,children:w.delta>0?`+${w.delta}`:w.delta}),r.jsx("td",{className:"px-6 py-4",children:w.reason||"-"}),r.jsx("td",{className:"px-6 py-4",children:w.createdByNome})]},w.id)})})]}),A.length===0&&r.jsx("p",{className:"text-center p-4 text-pm-gray-500",children:"Nenhum lançamento encontrado."})]}),r.jsxs("div",{className:"mt-10",children:[r.jsx("h2",{className:"text-2xl font-bold text-pm-gray-800 mb-4",children:"Saldo de Folgas do Efetivo"}),r.jsx("div",{className:"bg-white p-4 rounded-lg shadow-md mb-6",children:r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[r.jsx("input",{type:"text",placeholder:"Buscar por Nome ou RE...",value:C,onChange:w=>b(w.target.value),className:"w-full px-3 py-2 border rounded-md"}),r.jsxs("select",{value:h,onChange:w=>g(w.target.value),className:"w-full px-3 py-2 border rounded-md",children:[r.jsx("option",{value:"",children:"Todos os Grupos"}),I.map(w=>r.jsx("option",{value:w.nome,children:w.nome},w.id))]}),r.jsx("select",{value:E,onChange:w=>m(Number(w.target.value)),className:"w-full px-3 py-2 border rounded-md",children:T.map(w=>r.jsxs("option",{value:w,children:["Ano de ",w]},w))})]})}),r.jsxs("div",{className:"bg-white rounded-lg shadow-md overflow-x-auto",children:[r.jsxs("table",{className:"w-full text-sm text-left text-pm-gray-600",children:[r.jsx("thead",{className:"text-xs uppercase bg-pm-gray-50",children:r.jsxs("tr",{children:[r.jsx("th",{className:"px-6 py-3",children:"Policial"}),r.jsx("th",{className:"px-6 py-3",children:"Grupo"}),r.jsx("th",{className:"px-6 py-3 text-center",children:"Créditos"}),r.jsx("th",{className:"px-6 py-3 text-center",children:"Usadas"}),r.jsx("th",{className:"px-6 py-3 text-center",children:"Saldo"})]})}),r.jsx("tbody",{children:k.map(w=>r.jsxs("tr",{className:"bg-white border-b hover:bg-pm-gray-50",children:[r.jsxs("td",{className:"px-6 py-4 font-medium",children:[w.postoGrad," ",w.nome,r.jsx("br",{}),r.jsxs("span",{className:"text-xs text-pm-gray-500",children:["RE: ",w.re]})]}),r.jsx("td",{className:"px-6 py-4",children:w.pelotao}),r.jsx("td",{className:"px-6 py-4 text-center font-medium text-blue-600",children:w.creditos}),r.jsx("td",{className:"px-6 py-4 text-center font-medium text-orange-600",children:w.usadas}),r.jsx("td",{className:`px-6 py-4 text-center font-bold text-lg ${w.saldo>0?"text-green-600":"text-red-600"}`,children:w.saldo})]},w.id))})]}),k.length===0&&r.jsx("p",{className:"text-center p-4 text-pm-gray-500",children:"Nenhum policial encontrado."})]})]}),r.jsx(st,{isOpen:a,onClose:()=>l(!1),title:i==="add"?"Adicionar Créditos":"Remover/Ajustar Créditos",children:r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium",children:"Policial"}),r.jsx("input",{type:"text",placeholder:"Buscar...",value:v,onChange:w=>j(w.target.value),className:"mb-2 mt-1 w-full border rounded-md p-2"}),r.jsxs("select",{name:"policialId",value:d.policialId,onChange:z,className:"mt-1 w-full border rounded-md p-2",required:!0,size:G.length>5?5:Math.max(2,G.length+1),children:[r.jsx("option",{value:"",children:"Selecione..."}),G.map(w=>r.jsxs("option",{value:w.id,children:[w.postoGrad," ",w.re," ",w.nome," (",w.pelotao,")"]},w.id))]}),G.length===0&&r.jsx("p",{className:"text-xs text-red-500 mt-1",children:"Nenhum policial encontrado."})]}),r.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm",children:"Ano Ref."}),r.jsx("input",{type:"number",name:"year",value:d.year,onChange:z,className:"mt-1 w-full border rounded-md p-2",required:!0})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm",children:i==="add"?"Créditos a Adicionar":"Créditos a Remover"}),r.jsx("input",{type:"number",name:"delta",value:d.delta,onChange:z,className:"mt-1 w-full border rounded-md p-2",required:!0,step:"1",min:i==="add"?1:void 0,max:i==="remove"?-1:void 0}),r.jsx("p",{className:"text-xs text-pm-gray-500 mt-1",children:i==="add"?"Use um nº positivo.":"Use um nº negativo."})]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm",children:"Motivo"}),r.jsx("textarea",{name:"reason",value:d.reason,onChange:z,rows:3,className:"mt-1 w-full border rounded-md p-2",placeholder:"Ex: Concessão anual"})]}),r.jsxs("div",{className:"flex justify-end pt-4 space-x-2",children:[r.jsx("button",{type:"button",onClick:()=>l(!1),className:"bg-pm-gray-200 hover:bg-pm-gray-300 font-bold py-2 px-4 rounded-md",children:"Cancelar"}),r.jsx("button",{type:"button",onClick:M,className:"bg-pm-blue hover:bg-pm-blue-dark text-white font-bold py-2 px-4 rounded-md",children:"Salvar"})]})]})})]})},Lg=({message:e,type:t="success"})=>{const n=t==="success"?"bg-green-600":"bg-red-600";return r.jsxs("div",{className:`fixed top-20 right-8 text-white py-3 px-5 rounded-lg shadow-xl z-50 flex items-center ${n}`,role:"alert","aria-live":"assertive",children:[r.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:"mr-2",children:[r.jsx("circle",{cx:"12",cy:"12",r:"10"}),r.jsx("path",{d:"M12 16v-4"}),r.jsx("path",{d:"M12 8h.01"})]}),r.jsx("span",{children:e})]})},Tg=()=>{const{ferias:e,policiais:t,addFerias:n,updateFerias:s,folgas:o,grupos:a}=pe(),{currentUser:l,role:i}=ae(),[c,d]=f.useState({ano:new Date().getFullYear().toString(),pelotao:"",status:""}),[x,p]=f.useState(!1),[u,v]=f.useState({}),[j,S]=f.useState(null),[E,m]=f.useState([]),[h,g]=f.useState(null),[C,b]=f.useState(new Date().toISOString().substring(0,7)),[k,I]=f.useState(""),[L,A]=f.useState(!1),T=f.useRef(null),[G,O]=f.useState(!1),[M,z]=f.useState(""),[w,$]=f.useState(null),y=f.useMemo(()=>new Map(t.map(D=>[D.id,D])),[t]),N=xx(c),R=f.useMemo(()=>[...a].sort((D,V)=>D.nome.localeCompare(V.nome)),[a]);f.useEffect(()=>{if(!x||!u.policialId||!u.anoReferencia||u.id)return;const D=e.filter(se=>se.policialId===u.policialId&&se.anoReferencia===u.anoReferencia&&se.status===we.AGENDADA).reduce((se,Me)=>se+(Me.duracaoDias||0),0),V=[];D===0?V.push(15,30):D===15&&V.push(15),m(V),(V.length>0?V[0]:void 0)!==u.duracaoDias&&v(se=>({...se,duracaoDias:V.length>0?V[0]:void 0}))},[x,u.policialId,u.anoReferencia,e,u.id]),f.useEffect(()=>{if(u!=null&&u.dataInicio&&u.duracaoDias){const D=new Date(u.dataInicio+"T12:00:00"),V=new Date(D);V.setDate(D.getDate()+u.duracaoDias-1);const se=V.toISOString().split("T")[0];se!==u.dataFim&&v(Me=>({...Me,dataFim:se}))}else u!=null&&u.dataFim&&v(D=>({...D,dataFim:""}))},[u==null?void 0:u.dataInicio,u==null?void 0:u.duracaoDias]),f.useEffect(()=>{const D=V=>{T.current&&!T.current.contains(V.target)&&A(!1)};return document.addEventListener("mousedown",D),()=>document.removeEventListener("mousedown",D)},[T]),f.useEffect(()=>{if(h){const D=setTimeout(()=>g(null),4e3);return()=>clearTimeout(D)}},[h]);const F=D=>d(V=>({...V,[D.target.name]:D.target.value})),W=f.useMemo(()=>{if(!k.trim())return t.filter(V=>V.ativo).sort((V,se)=>V.nome.localeCompare(se.nome));const D=k.toLowerCase();return t.filter(V=>V.ativo&&(V.re.toLowerCase().includes(D)||V.nome.toLowerCase().includes(D)||V.pelotao.toLowerCase().includes(D)))},[t,k]),Q=(D=null)=>{if(D){v({...D}),S({...D});const V=y.get(D.policialId||0);V&&I(`${V.postoGrad} ${V.nome} (${V.re})`)}else v({policialId:void 0,anoReferencia:new Date().getFullYear(),dataInicio:"",dataFim:"",duracaoDias:void 0,status:we.AGENDADA,observacao:""}),S(null),m([]),I("");p(!0)},q=async()=>{if(!(!u||!l))try{if(!u.policialId||!u.dataInicio||!u.dataFim||!u.duracaoDias)throw new Error("Policial, data de início e duração são obrigatórios.");if(new Date(u.dataInicio)>=new Date(u.dataFim))throw new Error("A data de fim deve ser posterior à data de início.");const D=new Date(u.dataInicio+"T12:00:00"),V=new Date(u.dataFim+"T12:00:00"),se=o.find(Me=>{if(Me.policialld!==u.policialId||Me.status!==K.ATIVA)return!1;const Je=new Date(Me.data+"T12:00:00");return Je>=D&&Je<=V});if(se)throw new Error(`Conflito: O policial já possui uma folga ativa em ${new Date(se.data+"T12:00:00").toLocaleDateString("pt-BR")}.`);u.id?(await s(u.id,u,l),g({message:"Férias atualizadas com sucesso!",type:"success"})):(await n(u,l),g({message:"Férias agendadas com sucesso!",type:"success"})),p(!1)}catch(D){g({message:D.message,type:"error"})}},X=async D=>{!l||!window.confirm(`Tem certeza que deseja cancelar as férias de ${D.nome}?`)||(await s(D.id,{status:we.CANCELADA},l),g({message:"Férias canceladas.",type:"success"}))},me=D=>{$(D),z(""),O(!0)},ne=async()=>{if(!w||!l||!M.trim()){g({message:"O motivo é obrigatório.",type:"error"});return}const D=`[SOLICITAÇÃO - ${new Date().toLocaleString("pt-BR")} por ${l.nome}]: ${M}
---
${w.observacao||""}`;await s(w.id,{status:we.SOLICITANDO_ALTERACAO,observacao:D},l),g({message:"Solicitação enviada!",type:"success"}),O(!1)},_e=()=>{j&&(v(D=>({...D,dataInicio:j.dataInicio,dataFim:j.dataFim,duracaoDias:j.duracaoDias})),g({message:"Datas restauradas.",type:"success"}))},Ae=()=>{const D=e.map(Ne=>({...Ne,...y.get(Ne.policialId)})).filter(Ne=>{const On=new Date(Ne.dataInicio+"T12:00:00"),Ze=new Date(Ne.dataFim+"T12:00:00"),Y=new Date(C+"-01T12:00:00"),cr=new Date(Y.getFullYear(),Y.getMonth()+1,0,12,0,0);return On<=cr&&Ze>=Y&&(!c.pelotao||Ne.pelotao===c.pelotao)});if(D.length===0){g({message:"Nenhum dado para o mês selecionado.",type:"error"});return}const V=`Relatório de Férias - ${new Date(C+"-02").toLocaleString("pt-BR",{month:"long",year:"numeric"})} - Pelotão: ${c.pelotao||"Todos"}`,se=["Policial","RE","Pelotão","Posto/Grad","Início","Fim","Duração","Ano Ref."],Me=D.map(Ne=>[Ne.nome,Ne.re,Ne.pelotao,Ne.postoGrad,new Date(Ne.dataInicio+"T12:00").toLocaleDateString("pt-BR"),new Date(Ne.dataFim+"T12:00").toLocaleDateString("pt-BR"),Ne.duracaoDias,Ne.anoReferencia]),Je=XLSX.utils.aoa_to_sheet([[V],[],se,...Me]);Je["!merges"]=[{s:{r:0,c:0},e:{r:0,c:se.length-1}}],XLSX.writeFile(XLSX.utils.book_new(),"relatorio_ferias.xlsx",{bookSST:!0})},zt=f.useMemo(()=>Array.from(new Set(e.map(D=>D.anoReferencia))).sort((D,V)=>V-D),[e]);return r.jsxs("div",{className:"container mx-auto",children:[h&&r.jsx(Lg,{message:h.message,type:h.type}),r.jsxs("div",{className:"flex justify-between items-center mb-6 flex-wrap gap-4",children:[r.jsx("h1",{className:"text-3xl font-bold text-pm-gray-800",children:"Controle de Férias"}),i==="ADMIN"&&r.jsxs("button",{onClick:()=>Q(),className:"bg-pm-blue hover:bg-pm-blue-dark text-white font-bold py-2 px-4 rounded-md flex items-center shadow-sm",children:[r.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:"mr-2",children:[r.jsx("line",{x1:"12",y1:"5",x2:"12",y2:"19"}),r.jsx("line",{x1:"5",y1:"12",x2:"19",y2:"12"})]}),"Agendar Férias"]})]}),r.jsx("div",{className:"bg-white p-4 rounded-lg shadow-md mb-6",children:r.jsxs("div",{className:`grid grid-cols-1 ${i==="ADMIN"?"md:grid-cols-3":"md:grid-cols-2"} gap-4`,children:[r.jsxs("select",{name:"ano",value:c.ano,onChange:F,className:"w-full px-3 py-2 border rounded-md",children:[r.jsx("option",{value:"",children:"Todos Anos"}),zt.map(D=>r.jsx("option",{value:D,children:D},D))]}),i==="ADMIN"&&r.jsxs("select",{name:"pelotao",value:c.pelotao,onChange:F,className:"w-full px-3 py-2 border rounded-md",children:[r.jsx("option",{value:"",children:"Todos os Grupos"}),R.map(D=>r.jsx("option",{value:D.nome,children:D.nome},D.id))]}),r.jsxs("select",{name:"status",value:c.status,onChange:F,className:"w-full px-3 py-2 border rounded-md",children:[r.jsx("option",{value:"",children:"Todos Status"}),Object.entries(sa).map(([D,V])=>r.jsx("option",{value:D,children:V},D))]})]})}),r.jsxs("div",{className:"bg-white rounded-lg shadow-md overflow-x-auto",children:[r.jsxs("table",{className:"w-full text-sm text-left text-pm-gray-600",children:[r.jsx("thead",{className:"text-xs uppercase bg-pm-gray-50",children:r.jsxs("tr",{children:[r.jsx("th",{className:"px-6 py-3",children:"Policial"}),r.jsx("th",{className:"px-6 py-3",children:"Período"}),r.jsx("th",{className:"px-6 py-3",children:"Ano Ref."}),r.jsx("th",{className:"px-6 py-3",children:"Status"}),r.jsx("th",{className:"px-6 py-3 text-right",children:"Ações"})]})}),r.jsx("tbody",{children:N.map(D=>r.jsxs("tr",{className:"bg-white border-b hover:bg-pm-gray-50",children:[r.jsxs("td",{className:"px-6 py-4 font-medium",children:[D.nome,r.jsx("br",{}),r.jsxs("span",{className:"text-xs text-pm-gray-500",children:["RE: ",D.re," - ",D.pelotao]})]}),r.jsxs("td",{className:"px-6 py-4",children:[new Date(D.dataInicio+"T12:00").toLocaleDateString()," a ",new Date(D.dataFim+"T12:00").toLocaleDateString(),r.jsx("br",{}),r.jsxs("span",{className:"text-xs text-pm-gray-500",children:["(",D.duracaoDias," dias)"]})]}),r.jsx("td",{className:"px-6 py-4",children:D.anoReferencia}),r.jsx("td",{className:"px-6 py-4",children:r.jsx("span",{className:`px-2 py-1 text-xs font-medium rounded-full ${Jf[D.status]}`,children:sa[D.status]})}),r.jsxs("td",{className:"px-6 py-4 text-right space-x-2 whitespace-nowrap",children:[i==="ADMIN"&&D.status===we.AGENDADA&&r.jsxs(r.Fragment,{children:[r.jsx("button",{onClick:()=>Q(D),className:"font-medium text-pm-blue hover:underline",children:"Editar"}),r.jsx("button",{onClick:()=>X(D),className:"font-medium text-red-600 hover:underline",children:"Cancelar"})]}),i==="ADMIN"&&D.status===we.SOLICITANDO_ALTERACAO&&r.jsx("button",{onClick:()=>Q(D),className:"font-medium text-pm-blue hover:underline animate-pulse",children:"Revisar"}),((l==null?void 0:l.policialId)===D.policialId||i==="SARGENTO"&&(l==null?void 0:l.pelotao)===D.pelotao)&&D.status===we.AGENDADA&&r.jsx("button",{onClick:()=>me(D),className:"font-medium text-yellow-600 hover:underline",children:"Solicitar Alteração"})]})]},D.id))})]}),N.length===0&&r.jsx("p",{className:"text-center p-4",children:"Nenhum registro encontrado."})]}),i==="ADMIN"&&r.jsxs("div",{className:"mt-8",children:[r.jsx("h2",{className:"text-xl font-semibold mb-4",children:"Relatório Mensal"}),r.jsx("div",{className:"bg-white p-6 rounded-lg shadow-md",children:r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 items-end",children:[r.jsxs("div",{children:[r.jsx("label",{htmlFor:"reportMonth",className:"block text-sm",children:"Mês"}),r.jsx("input",{type:"month",id:"reportMonth",value:C,onChange:D=>b(D.target.value),className:"mt-1 w-full border rounded-md p-2"})]}),r.jsx("div",{className:"md:col-span-2",children:r.jsx("button",{onClick:Ae,className:"bg-green-600 hover:bg-green-700 text-white font-bold py-2 px-4 rounded-md w-full md:w-auto",children:"Gerar Relatório"})})]})})]}),r.jsx(st,{isOpen:x,onClose:()=>p(!1),title:u!=null&&u.id?"Editar Férias":"Agendar Férias",children:u&&r.jsxs("form",{onSubmit:D=>{D.preventDefault(),q()},className:"space-y-4",children:[r.jsxs("div",{className:"relative",ref:T,children:[r.jsx("label",{className:"block text-sm",children:"Policial"}),r.jsx("input",{type:"text",placeholder:"Buscar...",value:k,onChange:D=>{I(D.target.value),u!=null&&u.policialId&&v(V=>({...V,policialId:void 0})),A(!0)},onFocus:()=>{u.id||A(!0)},className:"mt-1 w-full border rounded-md p-2",disabled:!!u.id,autoComplete:"off"}),L&&!u.id&&r.jsx("ul",{className:"absolute z-10 w-full bg-white border mt-1 max-h-60 overflow-y-auto shadow-lg",children:W.length>0?W.map(D=>r.jsxs("li",{className:"px-3 py-2 cursor-pointer hover:bg-pm-blue-light hover:text-white",onClick:()=>{v(V=>({...V,policialId:D.id})),I(`${D.postoGrad} ${D.nome} (${D.re})`),A(!1)},children:[D.postoGrad," ",D.nome]},D.id)):r.jsx("li",{className:"px-3 py-2 italic",children:"Nenhum policial."})})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm",children:"Ano Ref."}),r.jsx("input",{type:"number",value:u.anoReferencia,onChange:D=>v({...u,anoReferencia:Number(D.target.value)}),className:"mt-1 w-full border rounded-md p-2",required:!0})]}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm",children:"Início"}),r.jsx("input",{type:"date",value:u.dataInicio||"",onChange:D=>v({...u,dataInicio:D.target.value}),className:`mt-1 w-full border rounded-md p-2 ${u.id?"bg-yellow-50":""}`,required:!0})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm",children:"Duração"}),r.jsxs("select",{value:u.duracaoDias||"",onChange:D=>v({...u,duracaoDias:Number(D.target.value)}),className:`mt-1 w-full border rounded-md p-2 ${u.id?"bg-yellow-50":""}`,required:!0,disabled:!!u.id||E.length===0&&!u.id,children:[r.jsx("option",{value:"",disabled:!0,children:E.length===0&&!u.id?"Sem saldo":"Selecione..."}),u.id?r.jsxs("option",{value:u.duracaoDias,children:[u.duracaoDias," dias"]}):E.map(D=>r.jsxs("option",{value:D,children:[D," dias"]},D))]})]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm",children:"Fim (Calculada)"}),r.jsx("input",{type:"date",value:u.dataFim||"",readOnly:!0,className:`mt-1 w-full border rounded-md p-2 bg-pm-gray-100 cursor-not-allowed ${u.id?"bg-yellow-50":""}`})]}),u.id&&r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm",children:"Status"}),r.jsx("select",{value:u.status||"",onChange:D=>v({...u,status:D.target.value}),className:"mt-1 w-full border rounded-md p-2",children:Object.entries(sa).map(([D,V])=>r.jsx("option",{value:D,children:V},D))})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm",children:"Observação"}),r.jsx("textarea",{value:u.observacao||"",onChange:D=>v({...u,observacao:D.target.value}),rows:3,className:"mt-1 w-full border rounded-md p-2"})]}),r.jsxs("div",{className:"flex items-center justify-end pt-4 space-x-2",children:[u.id&&r.jsx("button",{type:"button",onClick:_e,className:"bg-gray-500 hover:bg-gray-600 text-white font-bold py-2 px-4 rounded-md mr-auto",children:"Restaurar Datas"}),r.jsx("button",{type:"button",onClick:()=>p(!1),className:"bg-pm-gray-200 hover:bg-pm-gray-300 font-bold py-2 px-4 rounded-md",children:"Cancelar"}),r.jsx("button",{type:"submit",className:"bg-pm-blue hover:bg-pm-blue-dark text-white font-bold py-2 px-4 rounded-md",children:"Salvar"})]})]})}),r.jsx(st,{isOpen:G,onClose:()=>O(!1),title:"Solicitar Alteração de Férias",children:w&&r.jsxs("form",{onSubmit:D=>{D.preventDefault(),ne()},className:"space-y-4",children:[r.jsxs("p",{children:["Solicitando alteração para as férias de ",r.jsx("strong",{children:w.nome})," (início em ",new Date(w.dataInicio+"T12:00:00").toLocaleDateString(),")."]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm",children:"Motivo / Sugestão"}),r.jsx("textarea",{value:M,onChange:D=>z(D.target.value),rows:4,className:"mt-1 w-full border rounded-md p-2",required:!0,placeholder:"Ex: Adiar o início para a segunda quinzena..."})]}),r.jsxs("div",{className:"flex justify-end pt-4 space-x-2",children:[r.jsx("button",{type:"button",onClick:()=>O(!1),className:"bg-pm-gray-200 hover:bg-pm-gray-300 font-bold py-2 px-4 rounded-md",children:"Cancelar"}),r.jsx("button",{type:"submit",className:"bg-yellow-500 hover:bg-yellow-600 text-white font-bold py-2 px-4 rounded-md",children:"Enviar Solicitação"})]})]})})]})},_g=({message:e,type:t="success"})=>{const n=t==="success"?"bg-green-600":"bg-red-600";return r.jsxs("div",{className:`fixed top-20 right-8 text-white py-3 px-5 rounded-lg shadow-xl z-50 flex items-center ${n}`,role:"alert","aria-live":"assertive",children:[r.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:"mr-2",children:[r.jsx("circle",{cx:"12",cy:"12",r:"10"}),r.jsx("path",{d:"M12 16v-4"}),r.jsx("path",{d:"M12 8h.01"})]}),r.jsx("span",{children:e})]})},Mg={[ee.CURSO]:r.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:"h-6 w-6 text-indigo-600",children:r.jsx("path",{d:"M4 19.5A2.5 2.5 0 0 1 6.5 17H20v2H6.5A2.5 2.5 0 0 1 4 19.5v-15A2.5 2.5 0 0 1 6.5 2H20v15H6.5A2.5 2.5 0 0 1 4 4.5z"})}),[ee.EAP]:r.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:"h-6 w-6 text-purple-600",children:[r.jsx("circle",{cx:"12",cy:"12",r:"10"}),r.jsx("circle",{cx:"12",cy:"12",r:"6"}),r.jsx("circle",{cx:"12",cy:"12",r:"2"})]}),[ee.OPERACAO]:r.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:"h-6 w-6 text-red-600",children:r.jsx("path",{d:"M12 22s8-4 8-10V5l-8-3-8 3v7c0 6 8 10 8 10z"})}),[ee.LICENCA_PREMIO]:r.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:"h-6 w-6 text-teal-600",children:[r.jsx("circle",{cx:"12",cy:"8",r:"7"}),r.jsx("polyline",{points:"8.21 13.89 7 23 12 17 17 23 15.79 13.88"})]}),[ee.OUTRO]:r.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:"h-6 w-6 text-gray-600",children:[r.jsx("circle",{cx:"12",cy:"12",r:"1"}),r.jsx("circle",{cx:"19",cy:"12",r:"1"}),r.jsx("circle",{cx:"5",cy:"12",r:"1"})]})},Fg=()=>{const{agendaEventos:e,policiais:t,addAgendaEvento:n,updateAgendaEvento:s,deleteAgendaEvento:o,ferias:a}=pe(),{currentUser:l}=ae(),[i,c]=f.useState(!1),[d,x]=f.useState(null),[p,u]=f.useState(new Set),[v,j]=f.useState(null),[S,E]=f.useState(""),[m,h]=f.useState(!1),[g,C]=f.useState(null),b=f.useMemo(()=>new Map(t.map(w=>[w.id,w])),[t]),k=gx(),I=f.useMemo(()=>new Set(e.filter(w=>w.tipo===ee.EAP).flatMap(w=>w.policiaisIds)),[e]),L=f.useMemo(()=>new Set(e.filter(w=>w.tipo===ee.CURSO).flatMap(w=>w.policiaisIds)),[e]),A=f.useMemo(()=>{let w=t.filter($=>$.ativo);if(S.trim()){const $=S.toLowerCase();w=w.filter(y=>y.re.toLowerCase().includes($)||y.nome.toLowerCase().includes($)||y.pelotao.toLowerCase().includes($))}if(i&&d&&(d.tipo===ee.EAP||d.tipo===ee.CURSO)){const $=d.tipo===ee.EAP?I:L,y=new Set(d.policiaisIds||[]);w=w.filter(N=>!$.has(N.id)||y.has(N.id))}return w.sort(($,y)=>$.nome.localeCompare(y.nome))},[t,S,i,d,I,L]);f.useEffect(()=>{if(v){const w=setTimeout(()=>j(null),4e3);return()=>clearTimeout(w)}},[v]);const T=w=>{C(w),h(!0)},G=(w=null)=>{w?(x({...w}),u(new Set(w.policiaisIds||[]))):(x({tipo:ee.OPERACAO,titulo:"",data:new Date().toISOString().split("T")[0],horaInicio:"08:00",horaFim:"17:00",local:"",observacoes:""}),u(new Set)),E(""),c(!0)},O=w=>{u($=>{const y=new Set($);return y.has(w)?y.delete(w):y.add(w),y})},M=async w=>{!l||!window.confirm(`Excluir evento "${w.titulo}"?`)||(await o(w.id,l),j({message:"Evento excluído!",type:"success"}))},z=async()=>{var w,$;if(!(!d||!l))try{if(!((w=d.titulo)!=null&&w.trim()))throw new Error("Título é obrigatório.");if(!(($=d.local)!=null&&$.trim()))throw new Error("Local é obrigatório.");if(p.size===0)throw new Error("Selecione ao menos um policial.");const y={...d,policiaisIds:Array.from(p)},N=new Date(y.data+"T12:00:00");for(const R of p){const F=b.get(R);if(!F)continue;if(a.find(q=>q.policialId===R&&q.status===we.AGENDADA&&N>=new Date(q.dataInicio+"T12:00")&&N<=new Date(q.dataFim+"T12:00")))throw new Error(`Conflito: ${F.postoGrad} ${F.nome} está de férias.`);if(e.filter(q=>q.data===y.data&&q.id!==y.id&&q.policiaisIds.includes(R)).length>0)throw new Error(`Conflito: ${F.postoGrad} ${F.nome} já está em outro evento no dia.`)}y.id?(await s(String(y.id),y,l),j({message:"Evento atualizado!",type:"success"})):(await n(y,l),j({message:"Evento criado!",type:"success"})),c(!1)}catch(y){j({message:y.message,type:"error"})}};return r.jsxs("div",{className:"container mx-auto",children:[v&&r.jsx(_g,{message:v.message,type:v.type}),r.jsxs("div",{className:"flex flex-wrap gap-4 justify-between items-center mb-6",children:[r.jsx("h1",{className:"text-3xl font-bold text-pm-gray-800",children:"Agenda"}),r.jsxs("button",{onClick:()=>G(),className:"bg-pm-blue hover:bg-pm-blue-dark text-white font-bold py-2 px-4 rounded-md flex items-center",children:[r.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 24",fill:"none",stroke:"currentColor",strokeWidth:"2",className:"mr-2",children:[r.jsx("line",{x1:"12",y1:"5",x2:"12",y2:"19"}),r.jsx("line",{x1:"5",y1:"12",x2:"19",y2:"12"})]}),"Adicionar Evento"]})]}),r.jsxs("div",{className:"bg-white rounded-lg shadow-md overflow-x-auto",children:[r.jsxs("table",{className:"w-full text-sm text-left",children:[r.jsx("thead",{className:"text-xs uppercase bg-pm-gray-50",children:r.jsxs("tr",{children:[r.jsx("th",{className:"px-6 py-3",children:"Evento"}),r.jsx("th",{className:"px-6 py-3",children:"Data/Hora"}),r.jsx("th",{className:"px-6 py-3",children:"Efetivo"}),r.jsx("th",{className:"px-6 py-3 text-right",children:"Ações"})]})}),r.jsx("tbody",{children:k.map(w=>r.jsxs("tr",{className:"bg-white border-b hover:bg-pm-gray-50 cursor-pointer",onClick:()=>T(w),children:[r.jsx("td",{className:"px-6 py-4 align-top",children:r.jsxs("div",{className:"flex items-start space-x-3",children:[r.jsx("div",{children:Mg[w.tipo]}),r.jsxs("div",{children:[r.jsx("p",{className:"font-semibold text-base",children:w.titulo}),r.jsxs("div",{className:"flex items-center gap-2 mt-1",children:[r.jsx("span",{className:`px-2 py-1 text-xs rounded-full ${Ir[w.tipo]}`,children:jn[w.tipo]}),r.jsxs("span",{className:"text-xs text-pm-gray-500",children:["Local: ",w.local]})]}),w.observacoes&&r.jsxs("div",{className:"mt-2 text-xs bg-pm-gray-50 p-2 rounded border",children:[r.jsx("p",{className:"font-semibold",children:"Obs:"}),r.jsx("p",{className:"whitespace-pre-wrap",children:w.observacoes})]})]})]})}),r.jsxs("td",{className:"px-6 py-4 align-top",children:[new Date(w.data+"T12:00").toLocaleDateString(),r.jsx("br",{}),r.jsxs("span",{className:"text-xs",children:[w.horaInicio," - ",w.horaFim]})]}),r.jsx("td",{className:"px-6 py-4 align-top",children:r.jsx("ul",{className:"space-y-1",children:w.policiaisIds.map($=>{const y=b.get($);return y?r.jsxs("li",{className:"text-xs whitespace-nowrap",children:[r.jsxs("span",{className:"font-semibold",children:[y.postoGrad," ",y.nome]})," (",y.re,")"]},$):null})})}),r.jsxs("td",{className:"px-6 py-4 text-right space-x-2 align-top",onClick:$=>$.stopPropagation(),children:[r.jsx("button",{onClick:()=>G(w),className:"font-medium text-pm-blue hover:underline",children:"Editar"}),r.jsx("button",{onClick:()=>M(w),className:"font-medium text-red-600 hover:underline",children:"Excluir"})]})]},w.id))})]}),k.length===0&&r.jsx("p",{className:"text-center p-4",children:"Nenhum evento agendado."})]}),r.jsx(st,{isOpen:i,onClose:()=>c(!1),title:d!=null&&d.id?"Editar Evento":"Adicionar Evento",children:d&&r.jsxs("form",{onSubmit:w=>{w.preventDefault(),z()},className:"space-y-6",children:[r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm",children:"Tipo"}),r.jsx("select",{name:"tipo",value:d.tipo,onChange:w=>x({...d,tipo:w.target.value}),className:"mt-1 w-full border rounded-md p-2",required:!0,children:Object.entries(jn).map(([w,$])=>r.jsx("option",{value:w,children:$},w))})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm",children:"Título"}),r.jsx("input",{type:"text",value:d.titulo||"",onChange:w=>x({...d,titulo:w.target.value}),className:"mt-1 w-full border rounded-md p-2",required:!0})]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm mb-1",children:"Data/Hora"}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 p-4 border rounded-md bg-pm-gray-50",children:[r.jsxs("div",{children:[r.jsx("label",{className:"text-xs",children:"Data"}),r.jsx("input",{type:"date",value:d.data||"",onChange:w=>x({...d,data:w.target.value}),className:"mt-1 w-full border rounded-md p-2",required:!0})]}),r.jsxs("div",{children:[r.jsx("label",{className:"text-xs",children:"Início"}),r.jsx("input",{type:"time",value:d.horaInicio||"",onChange:w=>x({...d,horaInicio:w.target.value}),className:"mt-1 w-full border rounded-md p-2",required:!0})]}),r.jsxs("div",{children:[r.jsx("label",{className:"text-xs",children:"Fim"}),r.jsx("input",{type:"time",value:d.horaFim||"",onChange:w=>x({...d,horaFim:w.target.value}),className:"mt-1 w-full border rounded-md p-2",required:!0})]})]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm",children:"Local"}),r.jsx("input",{type:"text",value:d.local||"",onChange:w=>x({...d,local:w.target.value}),className:"mt-1 w-full border rounded-md p-2",required:!0})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm",children:"Efetivo"}),r.jsxs("div",{className:"mt-1 p-3 border rounded-md space-y-3 bg-pm-gray-50",children:[r.jsx("input",{type:"text",placeholder:"Buscar...",value:S,onChange:w=>E(w.target.value),className:"w-full border rounded-md p-2"}),(d.tipo===ee.EAP||d.tipo===ee.CURSO)&&r.jsx("div",{className:"text-xs text-blue-700 bg-blue-100 p-2 rounded-md border",children:"Apenas policiais que ainda não participaram são listados."}),r.jsx("div",{className:"max-h-48 overflow-y-auto border rounded-md p-2 space-y-1 bg-white",children:A.length>0?A.map(w=>r.jsxs("label",{className:"flex items-center space-x-3 p-2 rounded hover:bg-pm-gray-100 cursor-pointer",children:[r.jsx("input",{type:"checkbox",checked:p.has(w.id),onChange:()=>O(w.id),className:"h-5 w-5"}),r.jsxs("span",{className:"text-base",children:[w.postoGrad," ",w.nome," (",w.re,")"]})]},w.id)):r.jsx("p",{className:"text-center text-sm p-4",children:"Nenhum policial."})}),p.size>0&&r.jsxs("div",{children:[r.jsxs("h4",{className:"text-xs font-semibold uppercase mt-2",children:["Selecionados (",p.size,")"]}),r.jsx("div",{className:"flex flex-wrap gap-2 p-2 mt-1 rounded-md bg-white border",children:Array.from(p).map(w=>{const $=b.get(w);return $?r.jsxs("span",{className:"bg-pm-blue text-white text-sm font-medium px-3 py-1 rounded-full flex items-center shadow",children:[$.nome,r.jsx("button",{type:"button",onClick:()=>O(w),className:"ml-2 font-bold opacity-75 hover:opacity-100",children:"×"})]},w):null})})]})]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm",children:"Observações"}),r.jsx("textarea",{value:d.observacoes||"",onChange:w=>x({...d,observacoes:w.target.value}),rows:3,className:"mt-1 w-full border rounded-md p-2"})]}),r.jsxs("div",{className:"flex justify-end pt-4 space-x-2",children:[r.jsx("button",{type:"button",onClick:()=>c(!1),className:"bg-pm-gray-200 hover:bg-pm-gray-300 font-bold py-2 px-4 rounded-md",children:"Cancelar"}),r.jsx("button",{type:"submit",className:"bg-pm-blue hover:bg-pm-blue-dark text-white font-bold py-2 px-4 rounded-md",children:"Salvar"})]})]})}),r.jsx(st,{isOpen:m,onClose:()=>h(!1),title:"Detalhes do Evento",children:g&&r.jsxs("div",{className:"space-y-4 text-sm",children:[r.jsxs("div",{children:[r.jsx("span",{className:`px-2 py-1 text-xs rounded-full float-right ${Ir[g.tipo]}`,children:jn[g.tipo]}),r.jsx("h2",{className:"text-xl font-bold",children:g.titulo}),r.jsx("p",{className:"text-pm-gray-500",children:g.local})]}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 p-3 bg-pm-gray-50 rounded-md border",children:[r.jsxs("div",{children:[r.jsx("p",{className:"font-semibold",children:"Data:"}),r.jsx("p",{children:new Date(g.data+"T12:00").toLocaleDateString()})]}),r.jsxs("div",{children:[r.jsx("p",{className:"font-semibold",children:"Horário:"}),r.jsxs("p",{children:[g.horaInicio," às ",g.horaFim]})]})]}),g.observacoes&&r.jsxs("div",{children:[r.jsx("p",{className:"font-semibold",children:"Observações:"}),r.jsx("p",{className:"p-3 bg-pm-gray-50 rounded-md mt-1 whitespace-pre-wrap border",children:g.observacoes})]}),r.jsxs("div",{children:[r.jsxs("h3",{className:"font-semibold mb-2",children:["Efetivo (",g.policiaisIds.length,")"]}),r.jsx("ul",{className:"space-y-2 max-h-60 overflow-y-auto p-2 bg-pm-gray-50 rounded-md border",children:g.policiaisIds.map(w=>{const $=b.get(w);return $?r.jsxs("li",{className:"flex justify-between items-center bg-white p-2 rounded-md shadow-sm",children:[r.jsxs("span",{children:[$.postoGrad," ",$.nome]}),r.jsx("span",{className:"font-mono text-xs bg-pm-gray-200 px-2 py-0.5 rounded-full",children:$.re})]},w):null})})]}),r.jsx("div",{className:"flex justify-end pt-4",children:r.jsx("button",{type:"button",onClick:()=>h(!1),className:"bg-pm-gray-200 hover:bg-pm-gray-300 font-bold py-2 px-4 rounded-md",children:"Fechar"})})]})})]})},Lc=({className:e})=>r.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:e,children:[r.jsx("path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2"}),r.jsx("circle",{cx:"9",cy:"7",r:"4"}),r.jsx("polyline",{points:"16 11 18 13 22 9"})]}),$g=()=>{const{currentUser:e,role:t}=ae(),{grupos:n}=pe(),[s,o]=f.useState(ee.EAP),[a,l]=f.useState(t==="SARGENTO"&&(e==null?void 0:e.pelotao)||""),{participantes:i,pendentes:c}=vx({tipoFiltro:s,pelotaoFiltro:a}),d=f.useMemo(()=>[...n].sort((p,u)=>p.nome.localeCompare(u.nome)),[n]),x=()=>{const p=`Relatório de ${s} - ${a||"Todos os Pelotões"}`,u={top:{style:"thin"},bottom:{style:"thin"},left:{style:"thin"},right:{style:"thin"}},v={font:{sz:16,bold:!0,color:{rgb:"FFFFFF"}},fill:{fgColor:{rgb:"1D4ED8"}},alignment:{horizontal:"center",vertical:"center"}},j={font:{sz:12,bold:!0},fill:{fgColor:{rgb:"E5E7EB"}},alignment:{horizontal:"center"}},S={font:{bold:!0},fill:{fgColor:{rgb:"F3F4F6"}},border:u},E={border:u},m=["Policial","RE","Posto/Grad","Pelotão","Data Participação","Título do Evento"],h=i.map(z=>[z.policial.nome,z.policial.re,z.policial.postoGrad,z.policial.pelotao,new Date(z.evento.data+"T12:00:00").toLocaleDateString("pt-BR"),z.evento.titulo]),g=["Policial","RE","Posto/Grad","Pelotão"],C=c.map(z=>[z.nome,z.re,z.postoGrad,z.pelotao]),b=[[p],[],["Participantes"],m,...h,[],["Pendentes"],g,...C],k=XLSX.utils.aoa_to_sheet(b),I=(z,w,$)=>{const y=XLSX.utils.encode_cell({r:z,c:w});k[y]||(k[y]={v:""}),k[y].s=$};k["!rows"]=[{hpt:25}],k["!merges"]=[],I(0,0,v),k["!merges"].push({s:{r:0,c:0},e:{r:0,c:m.length-1}});const L=2;I(L,0,j),k["!merges"].push({s:{r:L,c:0},e:{r:L,c:m.length-1}});const A=L+1;for(let z=0;z<m.length;z++)I(A,z,S);for(let z=0;z<h.length;z++)for(let w=0;w<m.length;w++)I(A+1+z,w,E);const T=A+1+h.length+1;I(T,0,j),k["!merges"].push({s:{r:T,c:0},e:{r:T,c:g.length-1}});const G=T+1;for(let z=0;z<g.length;z++)I(G,z,S);for(let z=0;z<C.length;z++)for(let w=0;w<g.length;w++)I(G+1+z,w,E);const O=m.map((z,w)=>{let $=0;return b.forEach(y=>{if(y[w]){const N=String(y[w]).length;N>$&&($=N)}}),{wch:$+2}});k["!cols"]=O;const M=XLSX.utils.book_new();XLSX.utils.book_append_sheet(M,k,`Relatorio_${s}`),XLSX.writeFile(M,`Relatorio_${s}_${new Date().toISOString().split("T")[0]}.xlsx`)};return r.jsxs("div",{className:"container mx-auto",children:[r.jsxs("div",{className:"flex justify-between items-center mb-6 flex-wrap gap-2",children:[r.jsx("h1",{className:"text-3xl font-bold text-pm-gray-800",children:"Relatório de EAP e Cursos"}),r.jsx("button",{onClick:x,className:"bg-green-600 hover:bg-green-700 text-white font-bold py-2 px-4 rounded-md flex items-center",children:"Exportar Excel"})]}),r.jsx("div",{className:"bg-white p-4 rounded-lg shadow-md mb-6",children:r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium",children:"Tipo de Evento"}),r.jsxs("select",{value:s,onChange:p=>o(p.target.value),className:"mt-1 w-full border border-gray-300 rounded-md p-2",children:[r.jsx("option",{value:ee.EAP,children:"EAP"}),r.jsx("option",{value:ee.CURSO,children:"Curso"})]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium",children:"Grupo/Pelotão"}),r.jsxs("select",{value:a,onChange:p=>l(p.target.value),className:"mt-1 w-full border border-gray-300 rounded-md p-2",disabled:t==="SARGENTO",children:[r.jsx("option",{value:"",children:"Todos os Grupos"}),d.map(p=>r.jsx("option",{value:p.nome,children:p.nome},p.id))]})]})]})}),r.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8",children:[r.jsxs("div",{children:[r.jsxs("h2",{className:"text-xl font-semibold text-pm-gray-800 mb-4 flex items-center",children:[r.jsx(Lc,{className:"h-6 w-6 mr-2 text-green-600"}),"Policiais que Participaram (",i.length,")"]}),r.jsx("div",{className:"bg-white rounded-lg shadow-md overflow-hidden",children:r.jsxs("div",{className:"overflow-x-auto max-h-[60vh]",children:[r.jsxs("table",{className:"w-full text-sm text-left text-pm-gray-600",children:[r.jsx("thead",{className:"text-xs text-pm-gray-700 uppercase bg-pm-gray-50 sticky top-0",children:r.jsxs("tr",{children:[r.jsx("th",{className:"px-6 py-3",children:"Policial"}),r.jsx("th",{className:"px-6 py-3",children:"Data"})]})}),r.jsx("tbody",{className:"divide-y",children:i.map(({policial:p,evento:u})=>r.jsxs("tr",{children:[r.jsxs("td",{className:"px-6 py-4 font-medium",children:[p.postoGrad," ",p.nome,r.jsx("br",{}),r.jsxs("span",{className:"text-xs text-pm-gray-500",children:[p.re," - ",p.pelotao]})]}),r.jsxs("td",{className:"px-6 py-4",children:[new Date(u.data+"T12:00:00").toLocaleDateString(),r.jsx("br",{}),r.jsx("span",{className:"text-xs text-pm-gray-500 truncate",title:u.titulo,children:u.titulo})]})]},p.id))})]}),i.length===0&&r.jsx("p",{className:"text-center p-4",children:"Nenhum participante encontrado."})]})})]}),r.jsxs("div",{children:[r.jsxs("h2",{className:"text-xl font-semibold text-pm-gray-800 mb-4 flex items-center",children:[r.jsx(Lc,{className:"h-6 w-6 mr-2 text-orange-500"}),"Policiais Pendentes (",c.length,")"]}),r.jsx("div",{className:"bg-white rounded-lg shadow-md overflow-hidden",children:r.jsxs("div",{className:"overflow-x-auto max-h-[60vh]",children:[r.jsxs("table",{className:"w-full text-sm text-left text-pm-gray-600",children:[r.jsx("thead",{className:"text-xs text-pm-gray-700 uppercase bg-pm-gray-50 sticky top-0",children:r.jsxs("tr",{children:[r.jsx("th",{className:"px-6 py-3",children:"Policial"}),r.jsx("th",{className:"px-6 py-3",children:"Pelotão"})]})}),r.jsx("tbody",{className:"divide-y",children:c.map(p=>r.jsxs("tr",{children:[r.jsxs("td",{className:"px-6 py-4 font-medium",children:[p.postoGrad," ",p.nome,r.jsx("br",{}),r.jsx("span",{className:"text-xs text-pm-gray-500",children:p.re})]}),r.jsx("td",{className:"px-6 py-4",children:p.pelotao})]},p.id))})]}),c.length===0&&r.jsx("p",{className:"text-center p-4",children:"Nenhum policial pendente."})]})})]})]})]})},zg=({message:e,type:t="success"})=>{const n=t==="success"?"bg-green-600":"bg-red-600";return r.jsxs("div",{className:`fixed top-20 right-8 text-white py-3 px-5 rounded-lg shadow-xl z-50 flex items-center ${n}`,role:"alert","aria-live":"assertive",children:[r.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:"mr-2",children:[r.jsx("circle",{cx:"12",cy:"12",r:"10"}),r.jsx("path",{d:"M12 16v-4"}),r.jsx("path",{d:"M12 8h.01"})]}),r.jsx("span",{children:e})]})},Bg=()=>{const{grupos:e,addGrupo:t,updateGrupo:n,deleteGrupo:s,policiais:o}=pe(),{currentUser:a}=ae(),[l,i]=f.useState(!1),[c,d]=f.useState(null),[x,p]=f.useState(null),u=f.useMemo(()=>{const E=o.reduce((m,h)=>(m[h.pelotao]=(m[h.pelotao]||0)+1,m),{});return[...e].map(m=>({...m,count:E[m.nome]||0})).sort((m,h)=>m.nome.localeCompare(h.nome))},[e,o]);f.useEffect(()=>{if(x){const E=setTimeout(()=>p(null),3e3);return()=>clearTimeout(E)}},[x]);const v=(E=null)=>{d(E?{...E}:{nome:""}),i(!0)},j=async()=>{if(!(c!=null&&c.nome)||!a){p({message:"O nome do grupo é obrigatório.",type:"error"});return}try{c.id?await n(c,a):await t(c.nome,a),p({message:"Grupo salvo com sucesso!",type:"success"}),i(!1)}catch(E){p({message:E.message||"Erro ao salvar grupo",type:"error"})}},S=async E=>{if(!(!a||!window.confirm("Tem certeza que deseja excluir este grupo?")))try{await s(E,a),p({message:"Grupo excluído com sucesso!",type:"success"})}catch(m){p({message:m.message||"Erro ao excluir grupo",type:"error"})}};return r.jsxs("div",{className:"container mx-auto",children:[x&&r.jsx(zg,{message:x.message,type:x.type}),r.jsxs("div",{className:"flex justify-between items-center mb-6",children:[r.jsx("h1",{className:"text-3xl font-bold text-pm-gray-800",children:"Gerenciar Grupos"}),r.jsx("button",{onClick:()=>v(),className:"bg-pm-blue hover:bg-pm-blue-dark text-white font-bold py-2 px-4 rounded-md",children:"Adicionar Grupo"})]}),r.jsx("div",{className:"bg-white rounded-lg shadow-md overflow-x-auto",children:r.jsxs("table",{className:"w-full text-sm text-left text-pm-gray-600",children:[r.jsx("thead",{className:"text-xs text-pm-gray-700 uppercase bg-pm-gray-50",children:r.jsxs("tr",{children:[r.jsx("th",{scope:"col",className:"px-6 py-3",children:"Nome do Grupo"}),r.jsx("th",{scope:"col",className:"px-6 py-3",children:"Policiais no Grupo"}),r.jsx("th",{scope:"col",className:"px-6 py-3 text-right",children:"Ações"})]})}),r.jsx("tbody",{children:u.map(E=>r.jsxs("tr",{className:"bg-white border-b hover:bg-pm-gray-50",children:[r.jsx("td",{className:"px-6 py-4 font-medium text-pm-gray-900",children:E.nome}),r.jsx("td",{className:"px-6 py-4",children:E.count}),r.jsxs("td",{className:"px-6 py-4 text-right space-x-2 whitespace-nowrap",children:[r.jsx("button",{onClick:()=>v(E),className:"font-medium text-pm-blue hover:underline",children:"Editar"}),r.jsx("button",{onClick:()=>S(E.id),className:"font-medium text-red-600 hover:underline",children:"Excluir"})]})]},E.id))})]})}),r.jsx(st,{isOpen:l,onClose:()=>i(!1),title:c!=null&&c.id?"Editar Grupo":"Adicionar Grupo",children:c&&r.jsxs("form",{onSubmit:E=>{E.preventDefault(),j()},className:"space-y-4",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium",children:"Nome do Grupo"}),r.jsx("input",{type:"text",value:c.nome||"",onChange:E=>d({...c,nome:E.target.value}),className:"mt-1 w-full border border-gray-300 rounded-md p-2",required:!0})]}),r.jsx("div",{className:"flex justify-end pt-4",children:r.jsx("button",{type:"submit",className:"bg-pm-blue hover:bg-pm-blue-dark text-white font-bold py-2 px-4 rounded-md",children:"Salvar"})})]})})]})},Gg=({message:e,type:t="success"})=>{const n=t==="success"?"bg-green-600":"bg-red-600";return r.jsxs("div",{className:`fixed top-20 right-8 text-white py-3 px-5 rounded-lg shadow-xl z-50 flex items-center ${n}`,role:"alert","aria-live":"assertive",children:[r.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:"mr-2",children:[r.jsx("circle",{cx:"12",cy:"12",r:"10"}),r.jsx("path",{d:"M12 16v-4"}),r.jsx("path",{d:"M12 8h.01"})]}),r.jsx("span",{children:e})]})},Ug=({className:e})=>r.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:e,children:[r.jsx("path",{d:"M3 2v6h6"}),r.jsx("path",{d:"M21 12A9 9 0 0 0 6 5.3L3 8"}),r.jsx("path",{d:"M21 22v-6h-6"}),r.jsx("path",{d:"M3 12a9 9 0 0 0 15 6.7l3-2.7"})]}),Vg=({className:e})=>r.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:e,children:[r.jsx("polyline",{points:"6 9 6 2 18 2 18 9"}),r.jsx("path",{d:"M6 18H4a2 2 0 0 1-2-2v-5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2v5a2 2 0 0 1-2 2h-2"}),r.jsx("rect",{x:"6",y:"14",width:"12",height:"8"})]}),Wg=({className:e})=>r.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:e,children:[r.jsx("line",{x1:"12",y1:"5",x2:"12",y2:"19"}),r.jsx("line",{x1:"5",y1:"12",x2:"19",y2:"12"})]}),Hg=()=>{const{protocoloDocs:e,addProtocoloDoc:t,adminResetProtocoloCounter:n}=pe(),{currentUser:s,role:o}=ae(),[a,l]=f.useState(!1),[i,c]=f.useState({}),[d,x]=f.useState(null),[p,u]=f.useState({termo:"",tipo:"",dataInicio:"",dataFim:""}),[v,j]=f.useState(new Set),[S,E]=f.useState(!1),[m,h]=f.useState(null);f.useEffect(()=>{if(d){const O=setTimeout(()=>x(null),4e3);return()=>clearTimeout(O)}},[d]),f.useEffect(()=>{if(S&&m){const O=document.getElementById("details-qrcode");if(O){O.innerHTML="";const z=`${window.location.href.split("#")[0]}#/protocolo/view/${m.id}`;new QRCode(O,{text:z,width:128,height:128,colorDark:"#000000",colorLight:"#ffffff",correctLevel:QRCode.CorrectLevel.H})}}},[S,m]);const g=f.useMemo(()=>e.filter(O=>{const M=p.termo.toLowerCase(),z=!p.termo||O.numero.toLowerCase().includes(M)||O.assunto.toLowerCase().includes(M)||O.destino.toLowerCase().includes(M)||O.interessadoRE.toLowerCase().includes(M),w=!p.tipo||O.tipo===p.tipo,$=!p.dataInicio||O.dataEmissao>=p.dataInicio,y=!p.dataFim||O.dataEmissao<=p.dataFim;return z&&w&&$&&y}).sort((O,M)=>M.sequencial-O.sequencial).sort((O,M)=>M.ano-O.ano),[e,p]),C=O=>u(M=>({...M,[O.target.name]:O.target.value})),b=()=>{c({dataEmissao:new Date().toISOString().split("T")[0],tipo:Ce.OFICIO,destino:"",assunto:"",docReferencia:"",interessadoRE:"",observacoes:"",vinculoId:null}),l(!0)},k=O=>{h(O),E(!0)},I=async()=>{if(s)try{if(!i.tipo||!i.assunto.trim()||!i.destino.trim())throw new Error("Tipo, Assunto e Destino são obrigatórios.");const O=await t({...i,elaboradoPorId:s.id,elaboradoPorNome:s.nome},s);x({message:`Documento protocolado com o número ${O.numero}!`,type:"success"}),l(!1)}catch(O){x({message:O.message,type:"error"})}},L=async()=>{if(!(!s||!window.confirm(`Tem certeza que deseja REINICIAR a contagem de documentos para o ano de ${new Date().getFullYear()}? Esta ação não pode ser desfeita.`)))try{await n(s),x({message:"Contador do ano reiniciado com sucesso!",type:"success"})}catch(O){x({message:O.message,type:"error"})}},A=O=>j(M=>{const z=new Set(M);return z.has(O)?z.delete(O):z.add(O),z}),T=O=>j(O.target.checked?new Set(g.map(M=>M.id)):new Set),G=()=>{const O=g.filter(y=>v.has(y.id)).sort((y,N)=>y.ano-N.ano||y.sequencial-N.sequencial);if(O.length===0){x({message:"Selecione ao menos um documento para gerar a guia.",type:"error"});return}const M=window.open("","_blank");if(!M){x({message:"Não foi possível abrir uma nova janela. Verifique seu bloqueador de pop-ups.",type:"error"});return}const z=O.map(y=>`
      <tr class="border-b break-inside-avoid">
        <td class="p-2 align-top font-mono">${y.numero}</td>
        <td class="p-2 align-top">${y.tipo}</td>
        <td class="p-2 align-top">${y.assunto}</td>
        <td class="p-2 align-top">
            <div class="flex justify-center items-center">
                <div id="qrcode-${y.id}"></div>
            </div>
        </td>
      </tr>
    `).join(""),w=`
      document.addEventListener('DOMContentLoaded', function() {
        try {
          const data = ${JSON.stringify(O)};
          const baseUrl = '${window.location.href.split("#")[0]}';
          
          data.forEach(doc => {
              const container = document.getElementById('qrcode-' + doc.id);
              if (container) {
                  const url = \`\${baseUrl}#/protocolo/view/\${doc.id}\`;
                  new QRCode(container, {
                      text: url,
                      width: 96,
                      height: 96,
                      colorDark : "#000000",
                      colorLight : "#ffffff",
                      correctLevel : QRCode.CorrectLevel.M
                  });
              }
          });

          document.getElementById('print-button').addEventListener('click', () => {
              window.print();
          });
        } catch (e) {
          console.error('Erro ao gerar QR Codes:', e);
          document.body.innerHTML = '<h1>Erro ao gerar a guia. Por favor, tente novamente.</h1><p>' + (e instanceof Error ? e.message : String(e)) + '</p>';
        }
      });
    `,$=`
      <!DOCTYPE html>
      <html lang="pt-BR">
        <head>
          <meta charset="UTF-8" />
          <meta name="viewport" content="width=device-width, initial-scale=1.0" />
          <title>Guia de Recebimento de Documentos</title>
          <script src="https://cdn.tailwindcss.com"><\/script>
          <script src="https://cdn.jsdelivr.net/npm/qrcodejs@1.0.0/qrcode.min.js"><\/script>
          <style>
            @media print {
              body { -webkit-print-color-adjust: exact; print-color-adjust: exact; }
              .no-print { display: none !important; }
              @page { size: A4; margin: 2cm; }
            }
          </style>
        </head>
        <body class="bg-gray-100 font-sans">
          <div class="fixed top-4 right-4 no-print">
            <button id="print-button" class="bg-blue-600 text-white py-2 px-4 rounded-lg shadow-lg hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-2">
              Imprimir / Salvar PDF
            </button>
          </div>
          <div class="container mx-auto my-8 p-8 bg-white shadow-lg" id="printable-area">
            <header class="text-center mb-8 border-b pb-4">
              <h1 class="text-2xl font-bold text-gray-800">GUIA DE RECEBIMENTO DE DOCUMENTOS</h1>
              <p class="text-sm text-gray-500">Gerado em: ${new Date().toLocaleString("pt-BR")}</p>
            </header>
            <main>
              <table class="w-full text-sm border-collapse">
                <thead>
                  <tr class="border-b-2 border-black">
                    <th class="p-2 text-left font-bold" style="width: 20%;">NÚMERO</th>
                    <th class="p-2 text-left font-bold" style="width: 20%;">TIPO</th>
                    <th class="p-2 text-left font-bold" style="width: 45%;">ASSUNTO</th>
                    <th class="p-2 text-center font-bold" style="width: 15%;">QR CODE</th>
                  </tr>
                </thead>
                <tbody>
                  ${z}
                </tbody>
              </table>
            </main>
            <footer class="mt-16 pt-8 text-sm">
              <div class="flex justify-between items-center break-inside-avoid">
                <div>
                  <p class="mb-12">Recebido por: _________________________________________</p>
                  <p class="border-t pt-2 w-full">Assinatura do Responsável</p>
                </div>
                <div>
                  <p>Data/Hora: ______/______/________, ______:______hs</p>
                </div>
              </div>
            </footer>
          </div>
          <script>${w}<\/script>
        </body>
      </html>
    `;M.document.write($),M.document.close()};return r.jsxs("div",{className:"container mx-auto",children:[d&&r.jsx(Gg,{message:d.message,type:d.type}),r.jsxs("div",{className:"flex justify-between items-center mb-6 flex-wrap gap-4",children:[r.jsx("h1",{className:"text-3xl font-bold text-pm-gray-800",children:"Protocolo de Documentos"}),r.jsxs("div",{className:"flex items-center gap-2",children:[o==="ADMIN"&&r.jsxs("button",{onClick:L,className:"bg-orange-500 hover:bg-orange-600 text-white font-bold py-2 px-4 rounded-md flex items-center gap-2",children:[r.jsx(Ug,{className:"h-4 w-4"}),"Reiniciar Numeração Anual"]}),r.jsxs("button",{onClick:G,className:"bg-teal-600 hover:bg-teal-700 text-white font-bold py-2 px-4 rounded-md disabled:bg-teal-300 flex items-center gap-2",disabled:v.size===0,children:[r.jsx(Vg,{className:"h-4 w-4"}),"Gerar Guia (",v.size,")"]}),r.jsxs("button",{onClick:b,className:"bg-pm-blue hover:bg-pm-blue-dark text-white font-bold py-2 px-4 rounded-md flex items-center gap-2",children:[r.jsx(Wg,{className:"h-4 w-4"}),"Novo Documento"]})]})]}),r.jsx("div",{className:"bg-white p-4 rounded-lg shadow-md mb-6",children:r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[r.jsx("input",{type:"text",name:"termo",placeholder:"Buscar por nº, assunto...",value:p.termo,onChange:C,className:"w-full px-3 py-2 border rounded-md"}),r.jsxs("select",{name:"tipo",value:p.tipo,onChange:C,className:"w-full px-3 py-2 border rounded-md",children:[r.jsx("option",{value:"",children:"Todos os Tipos"}),kc.map(O=>r.jsx("option",{value:O,children:O},O))]}),r.jsx("input",{type:"date",name:"dataInicio",value:p.dataInicio,onChange:C,className:"w-full px-3 py-2 border rounded-md"}),r.jsx("input",{type:"date",name:"dataFim",value:p.dataFim,onChange:C,className:"w-full px-3 py-2 border rounded-md"})]})}),r.jsxs("div",{className:"bg-white rounded-lg shadow-md overflow-x-auto",children:[r.jsxs("table",{className:"w-full text-sm text-left",children:[r.jsx("thead",{className:"text-xs uppercase bg-pm-gray-50 text-pm-gray-700",children:r.jsxs("tr",{children:[r.jsx("th",{className:"px-6 py-3",children:r.jsx("input",{type:"checkbox",onChange:T,checked:v.size===g.length&&g.length>0})}),r.jsx("th",{className:"px-6 py-3",children:"Número"}),r.jsx("th",{className:"px-6 py-3",children:"Data"}),r.jsx("th",{className:"px-6 py-3",children:"Tipo"}),r.jsx("th",{className:"px-6 py-3",children:"Assunto"}),r.jsx("th",{className:"px-6 py-3",children:"Destino"}),r.jsx("th",{className:"px-6 py-3",children:"Elaborado por"})]})}),r.jsx("tbody",{children:g.map(O=>r.jsxs("tr",{className:"bg-white border-b hover:bg-pm-gray-50 cursor-pointer",onClick:()=>k(O),children:[r.jsx("td",{className:"px-6 py-4",onClick:M=>M.stopPropagation(),children:r.jsx("input",{type:"checkbox",checked:v.has(O.id),onChange:()=>A(O.id)})}),r.jsx("td",{className:"px-6 py-4 font-mono font-semibold text-pm-gray-900",children:O.numero}),r.jsx("td",{className:"px-6 py-4 text-pm-gray-700",children:new Date(O.dataEmissao+"T12:00").toLocaleDateString()}),r.jsx("td",{className:"px-6 py-4 text-pm-gray-700",children:O.tipo}),r.jsx("td",{className:"px-6 py-4 font-medium text-pm-gray-900",children:O.assunto}),r.jsx("td",{className:"px-6 py-4 text-pm-gray-700",children:O.destino}),r.jsx("td",{className:"px-6 py-4 text-pm-gray-700",children:O.elaboradoPorNome})]},O.id))})]}),g.length===0&&r.jsx("p",{className:"text-center p-4 text-pm-gray-600",children:"Nenhum documento encontrado."})]}),r.jsxs(st,{isOpen:a,onClose:()=>l(!1),title:"Novo Protocolo de Documento",children:[r.jsx("h3",{className:"text-lg font-semibold text-pm-gray-800 mb-4 border-b pb-2",children:"Campos do Registro"}),r.jsxs("form",{onSubmit:O=>{O.preventDefault(),I()},className:"space-y-4",children:[r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-semibold text-pm-gray-800 mb-1",children:"Número"}),r.jsx("input",{type:"text",value:"Automático",disabled:!0,className:"w-full p-2 border border-gray-300 rounded-md bg-pm-gray-100"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-semibold text-pm-gray-800 mb-1",children:"Data de Emissão"}),r.jsx("input",{type:"date",value:i.dataEmissao,onChange:O=>c(M=>({...M,dataEmissao:O.target.value})),className:"w-full p-2 border border-gray-300 rounded-md",required:!0})]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-semibold text-pm-gray-800 mb-1",children:"Elaborado por"}),r.jsx("input",{type:"text",value:(s==null?void 0:s.nome)||"",disabled:!0,className:"w-full p-2 border border-gray-300 rounded-md bg-pm-gray-100"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-semibold text-pm-gray-800 mb-1",children:"Tipo de Documento"}),r.jsxs("select",{value:i.tipo,onChange:O=>c(M=>({...M,tipo:O.target.value})),className:"w-full p-2 border border-gray-300 rounded-md",required:!0,children:[r.jsx("option",{value:"",children:"Selecione..."}),kc.map(O=>r.jsx("option",{value:O,children:O},O))]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-semibold text-pm-gray-800 mb-1",children:"Destino"}),r.jsx("input",{type:"text",value:i.destino,onChange:O=>c(M=>({...M,destino:O.target.value})),className:"w-full p-2 border border-gray-300 rounded-md",required:!0})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-semibold text-pm-gray-800 mb-1",children:"Assunto"}),r.jsx("textarea",{value:i.assunto,onChange:O=>c(M=>({...M,assunto:O.target.value})),rows:3,className:"w-full p-2 border border-gray-300 rounded-md",required:!0})]}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-semibold text-pm-gray-800 mb-1",children:"Documento de Referência"}),r.jsx("input",{type:"text",value:i.docReferencia,onChange:O=>c(M=>({...M,docReferencia:O.target.value})),className:"w-full p-2 border border-gray-300 rounded-md"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-semibold text-pm-gray-800 mb-1",children:"Vínculo (opcional)"}),r.jsx("input",{type:"text",value:i.vinculoId||"",onChange:O=>c(M=>({...M,vinculoId:O.target.value})),placeholder:"Nº do doc. vinculado",className:"w-full p-2 border border-gray-300 rounded-md"})]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-semibold text-pm-gray-800 mb-1",children:"Interessado / RE"}),r.jsx("input",{type:"text",value:i.interessadoRE,onChange:O=>c(M=>({...M,interessadoRE:O.target.value})),className:"w-full p-2 border border-gray-300 rounded-md"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-semibold text-pm-gray-800 mb-1",children:"Observações"}),r.jsx("textarea",{value:i.observacoes,onChange:O=>c(M=>({...M,observacoes:O.target.value})),rows:2,className:"w-full p-2 border border-gray-300 rounded-md"})]}),r.jsxs("div",{className:"flex justify-end pt-4 space-x-2",children:[r.jsx("button",{type:"button",onClick:()=>l(!1),className:"bg-pm-gray-200 hover:bg-pm-gray-300 font-bold py-2 px-4 rounded-md",children:"Cancelar"}),r.jsx("button",{type:"submit",className:"bg-pm-blue hover:bg-pm-blue-dark text-white font-bold py-2 px-4 rounded-md",children:"Protocolar"})]})]})]}),r.jsx(st,{isOpen:S,onClose:()=>E(!1),title:"Detalhes do Documento",children:m&&r.jsxs("div",{className:"space-y-4 text-sm",children:[r.jsxs("div",{className:"p-4 bg-pm-gray-50 rounded-lg border",children:[r.jsx("p",{className:"text-xs text-pm-gray-500",children:"Número"}),r.jsx("p",{className:"font-mono text-xl font-bold text-pm-gray-800",children:m.numero}),r.jsx("p",{className:"text-xs text-pm-gray-500 mt-2",children:"Assunto"}),r.jsx("p",{className:"font-semibold text-pm-gray-900",children:m.assunto})]}),r.jsxs("dl",{className:"divide-y divide-pm-gray-200",children:[r.jsxs("div",{className:"py-2 grid grid-cols-3 gap-4",children:[r.jsx("dt",{className:"text-pm-gray-500",children:"Tipo"}),r.jsx("dd",{className:"col-span-2 text-pm-gray-800",children:m.tipo})]}),r.jsxs("div",{className:"py-2 grid grid-cols-3 gap-4",children:[r.jsx("dt",{className:"text-pm-gray-500",children:"Data Emissão"}),r.jsx("dd",{className:"col-span-2 text-pm-gray-800",children:new Date(m.dataEmissao+"T12:00").toLocaleDateString()})]}),r.jsxs("div",{className:"py-2 grid grid-cols-3 gap-4",children:[r.jsx("dt",{className:"text-pm-gray-500",children:"Destino"}),r.jsx("dd",{className:"col-span-2 text-pm-gray-800",children:m.destino})]}),r.jsxs("div",{className:"py-2 grid grid-cols-3 gap-4",children:[r.jsx("dt",{className:"text-pm-gray-500",children:"Elaborado por"}),r.jsx("dd",{className:"col-span-2 text-pm-gray-800",children:m.elaboradoPorNome})]}),r.jsxs("div",{className:"py-2 grid grid-cols-3 gap-4",children:[r.jsx("dt",{className:"text-pm-gray-500",children:"Doc. Referência"}),r.jsx("dd",{className:"col-span-2 text-pm-gray-800",children:m.docReferencia||"-"})]}),r.jsxs("div",{className:"py-2 grid grid-cols-3 gap-4",children:[r.jsx("dt",{className:"text-pm-gray-500",children:"Interessado"}),r.jsx("dd",{className:"col-span-2 text-pm-gray-800",children:m.interessadoRE||"-"})]}),r.jsxs("div",{className:"py-2 grid grid-cols-3 gap-4",children:[r.jsx("dt",{className:"text-pm-gray-500",children:"Observações"}),r.jsx("dd",{className:"col-span-2 text-pm-gray-800 whitespace-pre-wrap",children:m.observacoes||"-"})]})]}),r.jsxs("div",{className:"border-t pt-4",children:[r.jsx("p",{className:"text-center font-semibold text-pm-gray-600 mb-2",children:"Link de Verificação Pública"}),r.jsx("div",{id:"details-qrcode",className:"flex justify-center p-2 bg-white border rounded-lg"})]}),r.jsx("div",{className:"flex justify-end pt-4",children:r.jsx("button",{type:"button",onClick:()=>E(!1),className:"bg-pm-gray-200 hover:bg-pm-gray-300 font-bold py-2 px-4 rounded-md",children:"Fechar"})})]})})]})},Qg=({className:e})=>r.jsx("div",{className:`flex items-center justify-center ${e}`,children:r.jsx("svg",{viewBox:"0 0 80 88",className:"h-20 w-auto",children:r.jsxs("g",{children:[r.jsx("path",{d:"M40 0 L80 16 V56 C80 78 40 88 40 88 C40 88 0 78 0 56 V16 Z",fill:"#19398A"}),r.jsx("path",{d:"M40 4 L76 18.4 V54.8 C76 74.8 40 84 40 84 C40 84 4 74.8 4 54.8 V18.4 Z",strokeWidth:"3",stroke:"white",fill:"none"}),r.jsx("text",{x:"32",y:"62",fontFamily:"Verdana, sans-serif",fontSize:"42",fontWeight:"bold",fill:"white",textAnchor:"middle",children:"Σ"}),r.jsx("text",{x:"55",y:"48",fontFamily:"Verdana, sans-serif",fontSize:"22",fontWeight:"bold",fill:"white",children:"E"})]})})}),Ut=({label:e,value:t})=>r.jsxs("div",{className:"py-3 sm:grid sm:grid-cols-3 sm:gap-4",children:[r.jsx("dt",{className:"text-sm font-medium text-pm-gray-500",children:e}),r.jsx("dd",{className:"mt-1 text-sm text-pm-gray-900 sm:mt-0 sm:col-span-2",children:t||r.jsx("span",{className:"italic text-pm-gray-400",children:"Não informado"})})]}),Xg=()=>{const{docId:e}=yf(),[t,n]=f.useState(null),[s,o]=f.useState(!0),[a,l]=f.useState(null);return f.useEffect(()=>{e?le.getProtocoloDocById(e).then(i=>{n(i)}).catch(i=>{l(i.message||"Erro ao buscar documento.")}).finally(()=>{o(!1)}):(l("ID do documento não fornecido."),o(!1))},[e]),r.jsxs("div",{className:"min-h-screen bg-pm-gray-100 p-4 sm:p-8 flex flex-col items-center",children:[r.jsxs("header",{className:"w-full max-w-4xl mx-auto flex flex-col items-center mb-6",children:[r.jsx(Qg,{}),r.jsx("h1",{className:"text-2xl font-bold text-pm-blue mt-2",children:"SIGMA-E"}),r.jsx("p",{className:"text-pm-gray-600",children:"Verificação de Documento Protocolado"})]}),r.jsxs("main",{className:"w-full max-w-4xl mx-auto bg-white shadow-lg rounded-xl p-6 sm:p-8",children:[s&&r.jsx("div",{className:"flex justify-center items-center py-10",children:r.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-t-4 border-b-4 border-pm-blue"})}),a&&r.jsxs("div",{className:"text-center py-10",children:[r.jsx("h2",{className:"text-xl font-semibold text-red-600",children:"Erro"}),r.jsx("p",{className:"text-pm-gray-600 mt-2",children:a})]}),!s&&!a&&!t&&r.jsxs("div",{className:"text-center py-10",children:[r.jsx("h2",{className:"text-xl font-semibold text-pm-gray-700",children:"Documento não encontrado"}),r.jsx("p",{className:"text-pm-gray-600 mt-2",children:"O documento com o ID fornecido não foi localizado em nosso sistema."})]}),t&&r.jsxs("div",{children:[r.jsxs("div",{className:"border-b border-pm-gray-200 pb-4 mb-4",children:[r.jsx("h2",{className:"text-xl sm:text-2xl font-bold text-pm-gray-900",children:t.assunto}),r.jsxs("p",{className:"text-sm text-pm-gray-500 mt-1",children:["Protocolado em ",new Date(t.criadoEm).toLocaleString("pt-BR")]})]}),r.jsxs("dl",{className:"divide-y divide-pm-gray-200",children:[r.jsx(Ut,{label:"Número do Protocolo",value:r.jsx("span",{className:"font-mono font-bold",children:t.numero})}),r.jsx(Ut,{label:"Tipo de Documento",value:t.tipo}),r.jsx(Ut,{label:"Data de Emissão",value:new Date(t.dataEmissao+"T12:00:00").toLocaleDateString("pt-BR")}),r.jsx(Ut,{label:"Destino",value:t.destino}),r.jsx(Ut,{label:"Elaborado por",value:t.elaboradoPorNome}),r.jsx(Ut,{label:"Documento de Referência",value:t.docReferencia}),r.jsx(Ut,{label:"Interessado / RE",value:t.interessadoRE}),r.jsx(Ut,{label:"Observações",value:r.jsx("p",{className:"whitespace-pre-wrap",children:t.observacoes})})]})]})]}),r.jsx("footer",{className:"w-full max-w-4xl mx-auto text-center mt-8 text-xs text-pm-gray-500",children:r.jsx("p",{children:"Este é um documento gerado pelo sistema SIGMA-E. A validade pode ser confirmada através do QR Code."})})]})},qg=()=>{const{logout:e}=ae();return f.useEffect(()=>{e()},[e]),r.jsx(sr,{to:"/login",replace:!0})},Yg=({children:e})=>{const{isAuthenticated:t,currentUser:n}=ae();return!t||!n?r.jsx(sr,{to:"/login",replace:!0}):n.acessoLiberado?r.jsx(r.Fragment,{children:e}):r.jsx(qg,{})},Ss=({children:e})=>{const{role:t}=ae();return t!=="ADMIN"?r.jsx(sr,{to:"/dashboard",replace:!0}):r.jsx(r.Fragment,{children:e})},aa=({children:e})=>{const{role:t}=ae();return t!=="ADMIN"&&t!=="SARGENTO"?r.jsx(sr,{to:"/dashboard",replace:!0}):r.jsx(r.Fragment,{children:e})},Kg=()=>{const{isAuthenticated:e}=ae();return r.jsxs(_f,{children:[r.jsx(ke,{path:"/login",element:r.jsx(dx,{})}),r.jsx(ke,{path:"/protocolo/view/:docId",element:r.jsx(Xg,{})}),r.jsxs(ke,{path:"/",element:r.jsx(Yg,{children:r.jsx(wg,{})}),children:[r.jsx(ke,{index:!0,element:r.jsx(sr,{to:"/dashboard",replace:!0})}),r.jsx(ke,{path:"dashboard",element:r.jsx($x,{})}),r.jsx(ke,{path:"folgas",element:r.jsx(Bx,{})}),r.jsx(ke,{path:"ferias",element:r.jsx(Tg,{})}),r.jsx(ke,{path:"calendario",element:r.jsx(Dg,{})}),r.jsx(ke,{path:"protocolo",element:r.jsx(Hg,{})}),r.jsx(ke,{path:"agenda",element:r.jsx(Ss,{children:r.jsx(Fg,{})})}),r.jsx(ke,{path:"policiais",element:r.jsx(Ss,{children:r.jsx(Vx,{})})}),r.jsx(ke,{path:"grupos",element:r.jsx(Ss,{children:r.jsx(Bg,{})})}),r.jsx(ke,{path:"creditos",element:r.jsx(Ss,{children:r.jsx(Pg,{})})}),r.jsx(ke,{path:"historico",element:r.jsx(aa,{children:r.jsx(Xx,{})})}),r.jsx(ke,{path:"relatorio",element:r.jsx(aa,{children:r.jsx(Ig,{})})}),r.jsx(ke,{path:"relatorio-eap",element:r.jsx(aa,{children:r.jsx($g,{})})}),r.jsx(ke,{path:"ajuda",element:r.jsx(qx,{})})]}),r.jsx(ke,{path:"*",element:r.jsx(sr,{to:e?"/dashboard":"/login"})})]})},Jg=()=>{const{loading:e}=pe();return e?r.jsx("div",{className:"flex h-screen w-screen items-center justify-center bg-pm-gray-100","aria-label":"Carregando sistema SIGMA-E",children:r.jsx("div",{className:"animate-spin rounded-full h-24 w-24 border-t-4 border-b-4 border-pm-blue"})}):r.jsx(Kg,{})},Zg=()=>(f.useEffect(()=>{"serviceWorker"in navigator&&window.addEventListener("load",()=>{navigator.serviceWorker.register("/service-worker.js").then(e=>{console.log("Service Worker registrado com sucesso:",e)}).catch(e=>{console.log("Falha ao registrar o Service Worker:",e)})})},[]),r.jsx(lx,{children:r.jsx(ix,{children:r.jsx(Wf,{children:r.jsx(Jg,{})})})})),lp=document.getElementById("root");if(!lp)throw new Error("Could not find root element to mount to");const e0=la.createRoot(lp);e0.render(r.jsx(dl.StrictMode,{children:r.jsx(Zg,{})}));
