function Dp(e,t){for(var n=0;n<t.length;n++){const s=t[n];if(typeof s!="string"&&!Array.isArray(s)){for(const o in s)if(o!=="default"&&!(o in e)){const a=Object.getOwnPropertyDescriptor(s,o);a&&Object.defineProperty(e,o,a.get?a:{enumerable:!0,get:()=>s[o]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))s(o);new MutationObserver(o=>{for(const a of o)if(a.type==="childList")for(const l of a.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&s(l)}).observe(document,{childList:!0,subtree:!0});function n(o){const a={};return o.integrity&&(a.integrity=o.integrity),o.referrerPolicy&&(a.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?a.credentials="include":o.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function s(o){if(o.ep)return;o.ep=!0;const a=n(o);fetch(o.href,a)}})();function Op(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var zc={exports:{}},fo={},Gc={exports:{}},ee={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ts=Symbol.for("react.element"),Ip=Symbol.for("react.portal"),Rp=Symbol.for("react.fragment"),Pp=Symbol.for("react.strict_mode"),Lp=Symbol.for("react.profiler"),Tp=Symbol.for("react.provider"),_p=Symbol.for("react.context"),Mp=Symbol.for("react.forward_ref"),Fp=Symbol.for("react.suspense"),$p=Symbol.for("react.memo"),zp=Symbol.for("react.lazy"),gi=Symbol.iterator;function Gp(e){return e===null||typeof e!="object"?null:(e=gi&&e[gi]||e["@@iterator"],typeof e=="function"?e:null)}var Bc={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},Vc=Object.assign,Uc={};function lr(e,t,n){this.props=e,this.context=t,this.refs=Uc,this.updater=n||Bc}lr.prototype.isReactComponent={};lr.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};lr.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function Wc(){}Wc.prototype=lr.prototype;function xl(e,t,n){this.props=e,this.context=t,this.refs=Uc,this.updater=n||Bc}var gl=xl.prototype=new Wc;gl.constructor=xl;Vc(gl,lr.prototype);gl.isPureReactComponent=!0;var vi=Array.isArray,Hc=Object.prototype.hasOwnProperty,vl={current:null},Qc={key:!0,ref:!0,__self:!0,__source:!0};function Xc(e,t,n){var s,o={},a=null,l=null;if(t!=null)for(s in t.ref!==void 0&&(l=t.ref),t.key!==void 0&&(a=""+t.key),t)Hc.call(t,s)&&!Qc.hasOwnProperty(s)&&(o[s]=t[s]);var i=arguments.length-2;if(i===1)o.children=n;else if(1<i){for(var c=Array(i),d=0;d<i;d++)c[d]=arguments[d+2];o.children=c}if(e&&e.defaultProps)for(s in i=e.defaultProps,i)o[s]===void 0&&(o[s]=i[s]);return{$$typeof:ts,type:e,key:a,ref:l,props:o,_owner:vl.current}}function Bp(e,t){return{$$typeof:ts,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function yl(e){return typeof e=="object"&&e!==null&&e.$$typeof===ts}function Vp(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(n){return t[n]})}var yi=/\/+/g;function zo(e,t){return typeof e=="object"&&e!==null&&e.key!=null?Vp(""+e.key):t.toString(36)}function Ds(e,t,n,s,o){var a=typeof e;(a==="undefined"||a==="boolean")&&(e=null);var l=!1;if(e===null)l=!0;else switch(a){case"string":case"number":l=!0;break;case"object":switch(e.$$typeof){case ts:case Ip:l=!0}}if(l)return l=e,o=o(l),e=s===""?"."+zo(l,0):s,vi(o)?(n="",e!=null&&(n=e.replace(yi,"$&/")+"/"),Ds(o,t,n,"",function(d){return d})):o!=null&&(yl(o)&&(o=Bp(o,n+(!o.key||l&&l.key===o.key?"":(""+o.key).replace(yi,"$&/")+"/")+e)),t.push(o)),1;if(l=0,s=s===""?".":s+":",vi(e))for(var i=0;i<e.length;i++){a=e[i];var c=s+zo(a,i);l+=Ds(a,t,n,c,o)}else if(c=Gp(e),typeof c=="function")for(e=c.call(e),i=0;!(a=e.next()).done;)a=a.value,c=s+zo(a,i++),l+=Ds(a,t,n,c,o);else if(a==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return l}function ds(e,t,n){if(e==null)return e;var s=[],o=0;return Ds(e,s,"","",function(a){return t.call(n,a,o++)}),s}function Up(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(n){(e._status===0||e._status===-1)&&(e._status=1,e._result=n)},function(n){(e._status===0||e._status===-1)&&(e._status=2,e._result=n)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var Xe={current:null},Os={transition:null},Wp={ReactCurrentDispatcher:Xe,ReactCurrentBatchConfig:Os,ReactCurrentOwner:vl};function qc(){throw Error("act(...) is not supported in production builds of React.")}ee.Children={map:ds,forEach:function(e,t,n){ds(e,function(){t.apply(this,arguments)},n)},count:function(e){var t=0;return ds(e,function(){t++}),t},toArray:function(e){return ds(e,function(t){return t})||[]},only:function(e){if(!yl(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};ee.Component=lr;ee.Fragment=Rp;ee.Profiler=Lp;ee.PureComponent=xl;ee.StrictMode=Pp;ee.Suspense=Fp;ee.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Wp;ee.act=qc;ee.cloneElement=function(e,t,n){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var s=Vc({},e.props),o=e.key,a=e.ref,l=e._owner;if(t!=null){if(t.ref!==void 0&&(a=t.ref,l=vl.current),t.key!==void 0&&(o=""+t.key),e.type&&e.type.defaultProps)var i=e.type.defaultProps;for(c in t)Hc.call(t,c)&&!Qc.hasOwnProperty(c)&&(s[c]=t[c]===void 0&&i!==void 0?i[c]:t[c])}var c=arguments.length-2;if(c===1)s.children=n;else if(1<c){i=Array(c);for(var d=0;d<c;d++)i[d]=arguments[d+2];s.children=i}return{$$typeof:ts,type:e.type,key:o,ref:a,props:s,_owner:l}};ee.createContext=function(e){return e={$$typeof:_p,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:Tp,_context:e},e.Consumer=e};ee.createElement=Xc;ee.createFactory=function(e){var t=Xc.bind(null,e);return t.type=e,t};ee.createRef=function(){return{current:null}};ee.forwardRef=function(e){return{$$typeof:Mp,render:e}};ee.isValidElement=yl;ee.lazy=function(e){return{$$typeof:zp,_payload:{_status:-1,_result:e},_init:Up}};ee.memo=function(e,t){return{$$typeof:$p,type:e,compare:t===void 0?null:t}};ee.startTransition=function(e){var t=Os.transition;Os.transition={};try{e()}finally{Os.transition=t}};ee.unstable_act=qc;ee.useCallback=function(e,t){return Xe.current.useCallback(e,t)};ee.useContext=function(e){return Xe.current.useContext(e)};ee.useDebugValue=function(){};ee.useDeferredValue=function(e){return Xe.current.useDeferredValue(e)};ee.useEffect=function(e,t){return Xe.current.useEffect(e,t)};ee.useId=function(){return Xe.current.useId()};ee.useImperativeHandle=function(e,t,n){return Xe.current.useImperativeHandle(e,t,n)};ee.useInsertionEffect=function(e,t){return Xe.current.useInsertionEffect(e,t)};ee.useLayoutEffect=function(e,t){return Xe.current.useLayoutEffect(e,t)};ee.useMemo=function(e,t){return Xe.current.useMemo(e,t)};ee.useReducer=function(e,t,n){return Xe.current.useReducer(e,t,n)};ee.useRef=function(e){return Xe.current.useRef(e)};ee.useState=function(e){return Xe.current.useState(e)};ee.useSyncExternalStore=function(e,t,n){return Xe.current.useSyncExternalStore(e,t,n)};ee.useTransition=function(){return Xe.current.useTransition()};ee.version="18.3.1";Gc.exports=ee;var f=Gc.exports;const wl=Op(f),Hp=Dp({__proto__:null,default:wl},[f]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Qp=f,Xp=Symbol.for("react.element"),qp=Symbol.for("react.fragment"),Yp=Object.prototype.hasOwnProperty,Kp=Qp.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,Jp={key:!0,ref:!0,__self:!0,__source:!0};function Yc(e,t,n){var s,o={},a=null,l=null;n!==void 0&&(a=""+n),t.key!==void 0&&(a=""+t.key),t.ref!==void 0&&(l=t.ref);for(s in t)Yp.call(t,s)&&!Jp.hasOwnProperty(s)&&(o[s]=t[s]);if(e&&e.defaultProps)for(s in t=e.defaultProps,t)o[s]===void 0&&(o[s]=t[s]);return{$$typeof:Xp,type:e,key:a,ref:l,props:o,_owner:Kp.current}}fo.Fragment=qp;fo.jsx=Yc;fo.jsxs=Yc;zc.exports=fo;var r=zc.exports,ga={},Kc={exports:{}},lt={},Jc={exports:{}},Zc={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(C,R){var G=C.length;C.push(R);e:for(;0<G;){var X=G-1>>>1,L=C[X];if(0<o(L,R))C[X]=R,C[G]=L,G=X;else break e}}function n(C){return C.length===0?null:C[0]}function s(C){if(C.length===0)return null;var R=C[0],G=C.pop();if(G!==R){C[0]=G;e:for(var X=0,L=C.length,U=L>>>1;X<U;){var Y=2*(X+1)-1,Z=C[Y],te=Y+1,xe=C[te];if(0>o(Z,G))te<L&&0>o(xe,Z)?(C[X]=xe,C[te]=G,X=te):(C[X]=Z,C[Y]=G,X=Y);else if(te<L&&0>o(xe,G))C[X]=xe,C[te]=G,X=te;else break e}}return R}function o(C,R){var G=C.sortIndex-R.sortIndex;return G!==0?G:C.id-R.id}if(typeof performance=="object"&&typeof performance.now=="function"){var a=performance;e.unstable_now=function(){return a.now()}}else{var l=Date,i=l.now();e.unstable_now=function(){return l.now()-i}}var c=[],d=[],x=1,p=null,u=3,v=!1,y=!1,j=!1,S=typeof setTimeout=="function"?setTimeout:null,m=typeof clearTimeout=="function"?clearTimeout:null,h=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function g(C){for(var R=n(d);R!==null;){if(R.callback===null)s(d);else if(R.startTime<=C)s(d),R.sortIndex=R.expirationTime,t(c,R);else break;R=n(d)}}function N(C){if(j=!1,g(C),!y)if(n(c)!==null)y=!0,$(D);else{var R=n(d);R!==null&&b(N,R.startTime-C)}}function D(C,R){y=!1,j&&(j=!1,m(_),_=-1),v=!0;var G=u;try{for(g(R),p=n(c);p!==null&&(!(p.expirationTime>R)||C&&!V());){var X=p.callback;if(typeof X=="function"){p.callback=null,u=p.priorityLevel;var L=X(p.expirationTime<=R);R=e.unstable_now(),typeof L=="function"?p.callback=L:p===n(c)&&s(c),g(R)}else s(c);p=n(c)}if(p!==null)var U=!0;else{var Y=n(d);Y!==null&&b(N,Y.startTime-R),U=!1}return U}finally{p=null,u=G,v=!1}}var E=!1,I=null,_=-1,A=5,T=-1;function V(){return!(e.unstable_now()-T<A)}function k(){if(I!==null){var C=e.unstable_now();T=C;var R=!0;try{R=I(!0,C)}finally{R?M():(E=!1,I=null)}}else E=!1}var M;if(typeof h=="function")M=function(){h(k)};else if(typeof MessageChannel<"u"){var z=new MessageChannel,w=z.port2;z.port1.onmessage=k,M=function(){w.postMessage(null)}}else M=function(){S(k,0)};function $(C){I=C,E||(E=!0,M())}function b(C,R){_=S(function(){C(e.unstable_now())},R)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(C){C.callback=null},e.unstable_continueExecution=function(){y||v||(y=!0,$(D))},e.unstable_forceFrameRate=function(C){0>C||125<C?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):A=0<C?Math.floor(1e3/C):5},e.unstable_getCurrentPriorityLevel=function(){return u},e.unstable_getFirstCallbackNode=function(){return n(c)},e.unstable_next=function(C){switch(u){case 1:case 2:case 3:var R=3;break;default:R=u}var G=u;u=R;try{return C()}finally{u=G}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(C,R){switch(C){case 1:case 2:case 3:case 4:case 5:break;default:C=3}var G=u;u=C;try{return R()}finally{u=G}},e.unstable_scheduleCallback=function(C,R,G){var X=e.unstable_now();switch(typeof G=="object"&&G!==null?(G=G.delay,G=typeof G=="number"&&0<G?X+G:X):G=X,C){case 1:var L=-1;break;case 2:L=250;break;case 5:L=1073741823;break;case 4:L=1e4;break;default:L=5e3}return L=G+L,C={id:x++,callback:R,priorityLevel:C,startTime:G,expirationTime:L,sortIndex:-1},G>X?(C.sortIndex=G,t(d,C),n(c)===null&&C===n(d)&&(j?(m(_),_=-1):j=!0,b(N,G-X))):(C.sortIndex=L,t(c,C),y||v||(y=!0,$(D))),C},e.unstable_shouldYield=V,e.unstable_wrapCallback=function(C){var R=u;return function(){var G=u;u=R;try{return C.apply(this,arguments)}finally{u=G}}}})(Zc);Jc.exports=Zc;var Zp=Jc.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var em=f,at=Zp;function F(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var ed=new Set,_r={};function Dn(e,t){Jn(e,t),Jn(e+"Capture",t)}function Jn(e,t){for(_r[e]=t,e=0;e<t.length;e++)ed.add(t[e])}var Tt=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),va=Object.prototype.hasOwnProperty,tm=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,wi={},ji={};function nm(e){return va.call(ji,e)?!0:va.call(wi,e)?!1:tm.test(e)?ji[e]=!0:(wi[e]=!0,!1)}function rm(e,t,n,s){if(n!==null&&n.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return s?!1:n!==null?!n.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function sm(e,t,n,s){if(t===null||typeof t>"u"||rm(e,t,n,s))return!0;if(s)return!1;if(n!==null)switch(n.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function qe(e,t,n,s,o,a,l){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=s,this.attributeNamespace=o,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=a,this.removeEmptyString=l}var $e={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){$e[e]=new qe(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];$e[t]=new qe(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){$e[e]=new qe(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){$e[e]=new qe(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){$e[e]=new qe(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){$e[e]=new qe(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){$e[e]=new qe(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){$e[e]=new qe(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){$e[e]=new qe(e,5,!1,e.toLowerCase(),null,!1,!1)});var jl=/[\-:]([a-z])/g;function Nl(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(jl,Nl);$e[t]=new qe(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(jl,Nl);$e[t]=new qe(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(jl,Nl);$e[t]=new qe(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){$e[e]=new qe(e,1,!1,e.toLowerCase(),null,!1,!1)});$e.xlinkHref=new qe("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){$e[e]=new qe(e,1,!1,e.toLowerCase(),null,!0,!0)});function Sl(e,t,n,s){var o=$e.hasOwnProperty(t)?$e[t]:null;(o!==null?o.type!==0:s||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(sm(t,n,o,s)&&(n=null),s||o===null?nm(t)&&(n===null?e.removeAttribute(t):e.setAttribute(t,""+n)):o.mustUseProperty?e[o.propertyName]=n===null?o.type===3?!1:"":n:(t=o.attributeName,s=o.attributeNamespace,n===null?e.removeAttribute(t):(o=o.type,n=o===3||o===4&&n===!0?"":""+n,s?e.setAttributeNS(s,t,n):e.setAttribute(t,n))))}var $t=em.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,us=Symbol.for("react.element"),Ln=Symbol.for("react.portal"),Tn=Symbol.for("react.fragment"),Cl=Symbol.for("react.strict_mode"),ya=Symbol.for("react.profiler"),td=Symbol.for("react.provider"),nd=Symbol.for("react.context"),bl=Symbol.for("react.forward_ref"),wa=Symbol.for("react.suspense"),ja=Symbol.for("react.suspense_list"),El=Symbol.for("react.memo"),Wt=Symbol.for("react.lazy"),rd=Symbol.for("react.offscreen"),Ni=Symbol.iterator;function hr(e){return e===null||typeof e!="object"?null:(e=Ni&&e[Ni]||e["@@iterator"],typeof e=="function"?e:null)}var je=Object.assign,Go;function Nr(e){if(Go===void 0)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);Go=t&&t[1]||""}return`
`+Go+e}var Bo=!1;function Vo(e,t){if(!e||Bo)return"";Bo=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(d){var s=d}Reflect.construct(e,[],t)}else{try{t.call()}catch(d){s=d}e.call(t.prototype)}else{try{throw Error()}catch(d){s=d}e()}}catch(d){if(d&&s&&typeof d.stack=="string"){for(var o=d.stack.split(`
`),a=s.stack.split(`
`),l=o.length-1,i=a.length-1;1<=l&&0<=i&&o[l]!==a[i];)i--;for(;1<=l&&0<=i;l--,i--)if(o[l]!==a[i]){if(l!==1||i!==1)do if(l--,i--,0>i||o[l]!==a[i]){var c=`
`+o[l].replace(" at new "," at ");return e.displayName&&c.includes("<anonymous>")&&(c=c.replace("<anonymous>",e.displayName)),c}while(1<=l&&0<=i);break}}}finally{Bo=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?Nr(e):""}function om(e){switch(e.tag){case 5:return Nr(e.type);case 16:return Nr("Lazy");case 13:return Nr("Suspense");case 19:return Nr("SuspenseList");case 0:case 2:case 15:return e=Vo(e.type,!1),e;case 11:return e=Vo(e.type.render,!1),e;case 1:return e=Vo(e.type,!0),e;default:return""}}function Na(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case Tn:return"Fragment";case Ln:return"Portal";case ya:return"Profiler";case Cl:return"StrictMode";case wa:return"Suspense";case ja:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case nd:return(e.displayName||"Context")+".Consumer";case td:return(e._context.displayName||"Context")+".Provider";case bl:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case El:return t=e.displayName||null,t!==null?t:Na(e.type)||"Memo";case Wt:t=e._payload,e=e._init;try{return Na(e(t))}catch{}}return null}function am(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Na(t);case 8:return t===Cl?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function ln(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function sd(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function lm(e){var t=sd(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),s=""+e[t];if(!e.hasOwnProperty(t)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var o=n.get,a=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return o.call(this)},set:function(l){s=""+l,a.call(this,l)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return s},setValue:function(l){s=""+l},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function ps(e){e._valueTracker||(e._valueTracker=lm(e))}function od(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),s="";return e&&(s=sd(e)?e.checked?"true":"false":e.value),e=s,e!==n?(t.setValue(e),!0):!1}function Gs(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function Sa(e,t){var n=t.checked;return je({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??e._wrapperState.initialChecked})}function Si(e,t){var n=t.defaultValue==null?"":t.defaultValue,s=t.checked!=null?t.checked:t.defaultChecked;n=ln(t.value!=null?t.value:n),e._wrapperState={initialChecked:s,initialValue:n,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function ad(e,t){t=t.checked,t!=null&&Sl(e,"checked",t,!1)}function Ca(e,t){ad(e,t);var n=ln(t.value),s=t.type;if(n!=null)s==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if(s==="submit"||s==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?ba(e,t.type,n):t.hasOwnProperty("defaultValue")&&ba(e,t.type,ln(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function Ci(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var s=t.type;if(!(s!=="submit"&&s!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}n=e.name,n!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,n!==""&&(e.name=n)}function ba(e,t,n){(t!=="number"||Gs(e.ownerDocument)!==e)&&(n==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var Sr=Array.isArray;function Hn(e,t,n,s){if(e=e.options,t){t={};for(var o=0;o<n.length;o++)t["$"+n[o]]=!0;for(n=0;n<e.length;n++)o=t.hasOwnProperty("$"+e[n].value),e[n].selected!==o&&(e[n].selected=o),o&&s&&(e[n].defaultSelected=!0)}else{for(n=""+ln(n),t=null,o=0;o<e.length;o++){if(e[o].value===n){e[o].selected=!0,s&&(e[o].defaultSelected=!0);return}t!==null||e[o].disabled||(t=e[o])}t!==null&&(t.selected=!0)}}function Ea(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(F(91));return je({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function bi(e,t){var n=t.value;if(n==null){if(n=t.children,t=t.defaultValue,n!=null){if(t!=null)throw Error(F(92));if(Sr(n)){if(1<n.length)throw Error(F(93));n=n[0]}t=n}t==null&&(t=""),n=t}e._wrapperState={initialValue:ln(n)}}function ld(e,t){var n=ln(t.value),s=ln(t.defaultValue);n!=null&&(n=""+n,n!==e.value&&(e.value=n),t.defaultValue==null&&e.defaultValue!==n&&(e.defaultValue=n)),s!=null&&(e.defaultValue=""+s)}function Ei(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function id(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Aa(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?id(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var ms,cd=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,n,s,o){MSApp.execUnsafeLocalFunction(function(){return e(t,n,s,o)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(ms=ms||document.createElement("div"),ms.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=ms.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function Mr(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&n.nodeType===3){n.nodeValue=t;return}}e.textContent=t}var Er={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},im=["Webkit","ms","Moz","O"];Object.keys(Er).forEach(function(e){im.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),Er[t]=Er[e]})});function dd(e,t,n){return t==null||typeof t=="boolean"||t===""?"":n||typeof t!="number"||t===0||Er.hasOwnProperty(e)&&Er[e]?(""+t).trim():t+"px"}function ud(e,t){e=e.style;for(var n in t)if(t.hasOwnProperty(n)){var s=n.indexOf("--")===0,o=dd(n,t[n],s);n==="float"&&(n="cssFloat"),s?e.setProperty(n,o):e[n]=o}}var cm=je({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function ka(e,t){if(t){if(cm[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(F(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(F(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(F(61))}if(t.style!=null&&typeof t.style!="object")throw Error(F(62))}}function Da(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Oa=null;function Al(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var Ia=null,Qn=null,Xn=null;function Ai(e){if(e=ss(e)){if(typeof Ia!="function")throw Error(F(280));var t=e.stateNode;t&&(t=wo(t),Ia(e.stateNode,e.type,t))}}function pd(e){Qn?Xn?Xn.push(e):Xn=[e]:Qn=e}function md(){if(Qn){var e=Qn,t=Xn;if(Xn=Qn=null,Ai(e),t)for(e=0;e<t.length;e++)Ai(t[e])}}function hd(e,t){return e(t)}function fd(){}var Uo=!1;function xd(e,t,n){if(Uo)return e(t,n);Uo=!0;try{return hd(e,t,n)}finally{Uo=!1,(Qn!==null||Xn!==null)&&(fd(),md())}}function Fr(e,t){var n=e.stateNode;if(n===null)return null;var s=wo(n);if(s===null)return null;n=s[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(s=!s.disabled)||(e=e.type,s=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!s;break e;default:e=!1}if(e)return null;if(n&&typeof n!="function")throw Error(F(231,t,typeof n));return n}var Ra=!1;if(Tt)try{var fr={};Object.defineProperty(fr,"passive",{get:function(){Ra=!0}}),window.addEventListener("test",fr,fr),window.removeEventListener("test",fr,fr)}catch{Ra=!1}function dm(e,t,n,s,o,a,l,i,c){var d=Array.prototype.slice.call(arguments,3);try{t.apply(n,d)}catch(x){this.onError(x)}}var Ar=!1,Bs=null,Vs=!1,Pa=null,um={onError:function(e){Ar=!0,Bs=e}};function pm(e,t,n,s,o,a,l,i,c){Ar=!1,Bs=null,dm.apply(um,arguments)}function mm(e,t,n,s,o,a,l,i,c){if(pm.apply(this,arguments),Ar){if(Ar){var d=Bs;Ar=!1,Bs=null}else throw Error(F(198));Vs||(Vs=!0,Pa=d)}}function On(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(n=t.return),e=t.return;while(e)}return t.tag===3?n:null}function gd(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function ki(e){if(On(e)!==e)throw Error(F(188))}function hm(e){var t=e.alternate;if(!t){if(t=On(e),t===null)throw Error(F(188));return t!==e?null:e}for(var n=e,s=t;;){var o=n.return;if(o===null)break;var a=o.alternate;if(a===null){if(s=o.return,s!==null){n=s;continue}break}if(o.child===a.child){for(a=o.child;a;){if(a===n)return ki(o),e;if(a===s)return ki(o),t;a=a.sibling}throw Error(F(188))}if(n.return!==s.return)n=o,s=a;else{for(var l=!1,i=o.child;i;){if(i===n){l=!0,n=o,s=a;break}if(i===s){l=!0,s=o,n=a;break}i=i.sibling}if(!l){for(i=a.child;i;){if(i===n){l=!0,n=a,s=o;break}if(i===s){l=!0,s=a,n=o;break}i=i.sibling}if(!l)throw Error(F(189))}}if(n.alternate!==s)throw Error(F(190))}if(n.tag!==3)throw Error(F(188));return n.stateNode.current===n?e:t}function vd(e){return e=hm(e),e!==null?yd(e):null}function yd(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=yd(e);if(t!==null)return t;e=e.sibling}return null}var wd=at.unstable_scheduleCallback,Di=at.unstable_cancelCallback,fm=at.unstable_shouldYield,xm=at.unstable_requestPaint,Ee=at.unstable_now,gm=at.unstable_getCurrentPriorityLevel,kl=at.unstable_ImmediatePriority,jd=at.unstable_UserBlockingPriority,Us=at.unstable_NormalPriority,vm=at.unstable_LowPriority,Nd=at.unstable_IdlePriority,xo=null,At=null;function ym(e){if(At&&typeof At.onCommitFiberRoot=="function")try{At.onCommitFiberRoot(xo,e,void 0,(e.current.flags&128)===128)}catch{}}var yt=Math.clz32?Math.clz32:Nm,wm=Math.log,jm=Math.LN2;function Nm(e){return e>>>=0,e===0?32:31-(wm(e)/jm|0)|0}var hs=64,fs=4194304;function Cr(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function Ws(e,t){var n=e.pendingLanes;if(n===0)return 0;var s=0,o=e.suspendedLanes,a=e.pingedLanes,l=n&268435455;if(l!==0){var i=l&~o;i!==0?s=Cr(i):(a&=l,a!==0&&(s=Cr(a)))}else l=n&~o,l!==0?s=Cr(l):a!==0&&(s=Cr(a));if(s===0)return 0;if(t!==0&&t!==s&&!(t&o)&&(o=s&-s,a=t&-t,o>=a||o===16&&(a&4194240)!==0))return t;if(s&4&&(s|=n&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=s;0<t;)n=31-yt(t),o=1<<n,s|=e[n],t&=~o;return s}function Sm(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Cm(e,t){for(var n=e.suspendedLanes,s=e.pingedLanes,o=e.expirationTimes,a=e.pendingLanes;0<a;){var l=31-yt(a),i=1<<l,c=o[l];c===-1?(!(i&n)||i&s)&&(o[l]=Sm(i,t)):c<=t&&(e.expiredLanes|=i),a&=~i}}function La(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function Sd(){var e=hs;return hs<<=1,!(hs&4194240)&&(hs=64),e}function Wo(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function ns(e,t,n){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-yt(t),e[t]=n}function bm(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var s=e.eventTimes;for(e=e.expirationTimes;0<n;){var o=31-yt(n),a=1<<o;t[o]=0,s[o]=-1,e[o]=-1,n&=~a}}function Dl(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var s=31-yt(n),o=1<<s;o&t|e[s]&t&&(e[s]|=t),n&=~o}}var se=0;function Cd(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var bd,Ol,Ed,Ad,kd,Ta=!1,xs=[],Jt=null,Zt=null,en=null,$r=new Map,zr=new Map,Qt=[],Em="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Oi(e,t){switch(e){case"focusin":case"focusout":Jt=null;break;case"dragenter":case"dragleave":Zt=null;break;case"mouseover":case"mouseout":en=null;break;case"pointerover":case"pointerout":$r.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":zr.delete(t.pointerId)}}function xr(e,t,n,s,o,a){return e===null||e.nativeEvent!==a?(e={blockedOn:t,domEventName:n,eventSystemFlags:s,nativeEvent:a,targetContainers:[o]},t!==null&&(t=ss(t),t!==null&&Ol(t)),e):(e.eventSystemFlags|=s,t=e.targetContainers,o!==null&&t.indexOf(o)===-1&&t.push(o),e)}function Am(e,t,n,s,o){switch(t){case"focusin":return Jt=xr(Jt,e,t,n,s,o),!0;case"dragenter":return Zt=xr(Zt,e,t,n,s,o),!0;case"mouseover":return en=xr(en,e,t,n,s,o),!0;case"pointerover":var a=o.pointerId;return $r.set(a,xr($r.get(a)||null,e,t,n,s,o)),!0;case"gotpointercapture":return a=o.pointerId,zr.set(a,xr(zr.get(a)||null,e,t,n,s,o)),!0}return!1}function Dd(e){var t=vn(e.target);if(t!==null){var n=On(t);if(n!==null){if(t=n.tag,t===13){if(t=gd(n),t!==null){e.blockedOn=t,kd(e.priority,function(){Ed(n)});return}}else if(t===3&&n.stateNode.current.memoizedState.isDehydrated){e.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Is(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var n=_a(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(n===null){n=e.nativeEvent;var s=new n.constructor(n.type,n);Oa=s,n.target.dispatchEvent(s),Oa=null}else return t=ss(n),t!==null&&Ol(t),e.blockedOn=n,!1;t.shift()}return!0}function Ii(e,t,n){Is(e)&&n.delete(t)}function km(){Ta=!1,Jt!==null&&Is(Jt)&&(Jt=null),Zt!==null&&Is(Zt)&&(Zt=null),en!==null&&Is(en)&&(en=null),$r.forEach(Ii),zr.forEach(Ii)}function gr(e,t){e.blockedOn===t&&(e.blockedOn=null,Ta||(Ta=!0,at.unstable_scheduleCallback(at.unstable_NormalPriority,km)))}function Gr(e){function t(o){return gr(o,e)}if(0<xs.length){gr(xs[0],e);for(var n=1;n<xs.length;n++){var s=xs[n];s.blockedOn===e&&(s.blockedOn=null)}}for(Jt!==null&&gr(Jt,e),Zt!==null&&gr(Zt,e),en!==null&&gr(en,e),$r.forEach(t),zr.forEach(t),n=0;n<Qt.length;n++)s=Qt[n],s.blockedOn===e&&(s.blockedOn=null);for(;0<Qt.length&&(n=Qt[0],n.blockedOn===null);)Dd(n),n.blockedOn===null&&Qt.shift()}var qn=$t.ReactCurrentBatchConfig,Hs=!0;function Dm(e,t,n,s){var o=se,a=qn.transition;qn.transition=null;try{se=1,Il(e,t,n,s)}finally{se=o,qn.transition=a}}function Om(e,t,n,s){var o=se,a=qn.transition;qn.transition=null;try{se=4,Il(e,t,n,s)}finally{se=o,qn.transition=a}}function Il(e,t,n,s){if(Hs){var o=_a(e,t,n,s);if(o===null)ta(e,t,s,Qs,n),Oi(e,s);else if(Am(o,e,t,n,s))s.stopPropagation();else if(Oi(e,s),t&4&&-1<Em.indexOf(e)){for(;o!==null;){var a=ss(o);if(a!==null&&bd(a),a=_a(e,t,n,s),a===null&&ta(e,t,s,Qs,n),a===o)break;o=a}o!==null&&s.stopPropagation()}else ta(e,t,s,null,n)}}var Qs=null;function _a(e,t,n,s){if(Qs=null,e=Al(s),e=vn(e),e!==null)if(t=On(e),t===null)e=null;else if(n=t.tag,n===13){if(e=gd(t),e!==null)return e;e=null}else if(n===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return Qs=e,null}function Od(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(gm()){case kl:return 1;case jd:return 4;case Us:case vm:return 16;case Nd:return 536870912;default:return 16}default:return 16}}var qt=null,Rl=null,Rs=null;function Id(){if(Rs)return Rs;var e,t=Rl,n=t.length,s,o="value"in qt?qt.value:qt.textContent,a=o.length;for(e=0;e<n&&t[e]===o[e];e++);var l=n-e;for(s=1;s<=l&&t[n-s]===o[a-s];s++);return Rs=o.slice(e,1<s?1-s:void 0)}function Ps(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function gs(){return!0}function Ri(){return!1}function it(e){function t(n,s,o,a,l){this._reactName=n,this._targetInst=o,this.type=s,this.nativeEvent=a,this.target=l,this.currentTarget=null;for(var i in e)e.hasOwnProperty(i)&&(n=e[i],this[i]=n?n(a):a[i]);return this.isDefaultPrevented=(a.defaultPrevented!=null?a.defaultPrevented:a.returnValue===!1)?gs:Ri,this.isPropagationStopped=Ri,this}return je(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=gs)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=gs)},persist:function(){},isPersistent:gs}),t}var ir={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Pl=it(ir),rs=je({},ir,{view:0,detail:0}),Im=it(rs),Ho,Qo,vr,go=je({},rs,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Ll,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==vr&&(vr&&e.type==="mousemove"?(Ho=e.screenX-vr.screenX,Qo=e.screenY-vr.screenY):Qo=Ho=0,vr=e),Ho)},movementY:function(e){return"movementY"in e?e.movementY:Qo}}),Pi=it(go),Rm=je({},go,{dataTransfer:0}),Pm=it(Rm),Lm=je({},rs,{relatedTarget:0}),Xo=it(Lm),Tm=je({},ir,{animationName:0,elapsedTime:0,pseudoElement:0}),_m=it(Tm),Mm=je({},ir,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),Fm=it(Mm),$m=je({},ir,{data:0}),Li=it($m),zm={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Gm={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Bm={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Vm(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=Bm[e])?!!t[e]:!1}function Ll(){return Vm}var Um=je({},rs,{key:function(e){if(e.key){var t=zm[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=Ps(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?Gm[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Ll,charCode:function(e){return e.type==="keypress"?Ps(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Ps(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),Wm=it(Um),Hm=je({},go,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Ti=it(Hm),Qm=je({},rs,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Ll}),Xm=it(Qm),qm=je({},ir,{propertyName:0,elapsedTime:0,pseudoElement:0}),Ym=it(qm),Km=je({},go,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Jm=it(Km),Zm=[9,13,27,32],Tl=Tt&&"CompositionEvent"in window,kr=null;Tt&&"documentMode"in document&&(kr=document.documentMode);var eh=Tt&&"TextEvent"in window&&!kr,Rd=Tt&&(!Tl||kr&&8<kr&&11>=kr),_i=" ",Mi=!1;function Pd(e,t){switch(e){case"keyup":return Zm.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Ld(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var _n=!1;function th(e,t){switch(e){case"compositionend":return Ld(t);case"keypress":return t.which!==32?null:(Mi=!0,_i);case"textInput":return e=t.data,e===_i&&Mi?null:e;default:return null}}function nh(e,t){if(_n)return e==="compositionend"||!Tl&&Pd(e,t)?(e=Id(),Rs=Rl=qt=null,_n=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Rd&&t.locale!=="ko"?null:t.data;default:return null}}var rh={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Fi(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!rh[e.type]:t==="textarea"}function Td(e,t,n,s){pd(s),t=Xs(t,"onChange"),0<t.length&&(n=new Pl("onChange","change",null,n,s),e.push({event:n,listeners:t}))}var Dr=null,Br=null;function sh(e){Hd(e,0)}function vo(e){var t=$n(e);if(od(t))return e}function oh(e,t){if(e==="change")return t}var _d=!1;if(Tt){var qo;if(Tt){var Yo="oninput"in document;if(!Yo){var $i=document.createElement("div");$i.setAttribute("oninput","return;"),Yo=typeof $i.oninput=="function"}qo=Yo}else qo=!1;_d=qo&&(!document.documentMode||9<document.documentMode)}function zi(){Dr&&(Dr.detachEvent("onpropertychange",Md),Br=Dr=null)}function Md(e){if(e.propertyName==="value"&&vo(Br)){var t=[];Td(t,Br,e,Al(e)),xd(sh,t)}}function ah(e,t,n){e==="focusin"?(zi(),Dr=t,Br=n,Dr.attachEvent("onpropertychange",Md)):e==="focusout"&&zi()}function lh(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return vo(Br)}function ih(e,t){if(e==="click")return vo(t)}function ch(e,t){if(e==="input"||e==="change")return vo(t)}function dh(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var jt=typeof Object.is=="function"?Object.is:dh;function Vr(e,t){if(jt(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var n=Object.keys(e),s=Object.keys(t);if(n.length!==s.length)return!1;for(s=0;s<n.length;s++){var o=n[s];if(!va.call(t,o)||!jt(e[o],t[o]))return!1}return!0}function Gi(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Bi(e,t){var n=Gi(e);e=0;for(var s;n;){if(n.nodeType===3){if(s=e+n.textContent.length,e<=t&&s>=t)return{node:n,offset:t-e};e=s}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=Gi(n)}}function Fd(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?Fd(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function $d(){for(var e=window,t=Gs();t instanceof e.HTMLIFrameElement;){try{var n=typeof t.contentWindow.location.href=="string"}catch{n=!1}if(n)e=t.contentWindow;else break;t=Gs(e.document)}return t}function _l(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function uh(e){var t=$d(),n=e.focusedElem,s=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&Fd(n.ownerDocument.documentElement,n)){if(s!==null&&_l(n)){if(t=s.start,e=s.end,e===void 0&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if(e=(t=n.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var o=n.textContent.length,a=Math.min(s.start,o);s=s.end===void 0?a:Math.min(s.end,o),!e.extend&&a>s&&(o=s,s=a,a=o),o=Bi(n,a);var l=Bi(n,s);o&&l&&(e.rangeCount!==1||e.anchorNode!==o.node||e.anchorOffset!==o.offset||e.focusNode!==l.node||e.focusOffset!==l.offset)&&(t=t.createRange(),t.setStart(o.node,o.offset),e.removeAllRanges(),a>s?(e.addRange(t),e.extend(l.node,l.offset)):(t.setEnd(l.node,l.offset),e.addRange(t)))}}for(t=[],e=n;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<t.length;n++)e=t[n],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var ph=Tt&&"documentMode"in document&&11>=document.documentMode,Mn=null,Ma=null,Or=null,Fa=!1;function Vi(e,t,n){var s=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;Fa||Mn==null||Mn!==Gs(s)||(s=Mn,"selectionStart"in s&&_l(s)?s={start:s.selectionStart,end:s.selectionEnd}:(s=(s.ownerDocument&&s.ownerDocument.defaultView||window).getSelection(),s={anchorNode:s.anchorNode,anchorOffset:s.anchorOffset,focusNode:s.focusNode,focusOffset:s.focusOffset}),Or&&Vr(Or,s)||(Or=s,s=Xs(Ma,"onSelect"),0<s.length&&(t=new Pl("onSelect","select",null,t,n),e.push({event:t,listeners:s}),t.target=Mn)))}function vs(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var Fn={animationend:vs("Animation","AnimationEnd"),animationiteration:vs("Animation","AnimationIteration"),animationstart:vs("Animation","AnimationStart"),transitionend:vs("Transition","TransitionEnd")},Ko={},zd={};Tt&&(zd=document.createElement("div").style,"AnimationEvent"in window||(delete Fn.animationend.animation,delete Fn.animationiteration.animation,delete Fn.animationstart.animation),"TransitionEvent"in window||delete Fn.transitionend.transition);function yo(e){if(Ko[e])return Ko[e];if(!Fn[e])return e;var t=Fn[e],n;for(n in t)if(t.hasOwnProperty(n)&&n in zd)return Ko[e]=t[n];return e}var Gd=yo("animationend"),Bd=yo("animationiteration"),Vd=yo("animationstart"),Ud=yo("transitionend"),Wd=new Map,Ui="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function dn(e,t){Wd.set(e,t),Dn(t,[e])}for(var Jo=0;Jo<Ui.length;Jo++){var Zo=Ui[Jo],mh=Zo.toLowerCase(),hh=Zo[0].toUpperCase()+Zo.slice(1);dn(mh,"on"+hh)}dn(Gd,"onAnimationEnd");dn(Bd,"onAnimationIteration");dn(Vd,"onAnimationStart");dn("dblclick","onDoubleClick");dn("focusin","onFocus");dn("focusout","onBlur");dn(Ud,"onTransitionEnd");Jn("onMouseEnter",["mouseout","mouseover"]);Jn("onMouseLeave",["mouseout","mouseover"]);Jn("onPointerEnter",["pointerout","pointerover"]);Jn("onPointerLeave",["pointerout","pointerover"]);Dn("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Dn("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Dn("onBeforeInput",["compositionend","keypress","textInput","paste"]);Dn("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Dn("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Dn("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var br="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),fh=new Set("cancel close invalid load scroll toggle".split(" ").concat(br));function Wi(e,t,n){var s=e.type||"unknown-event";e.currentTarget=n,mm(s,t,void 0,e),e.currentTarget=null}function Hd(e,t){t=(t&4)!==0;for(var n=0;n<e.length;n++){var s=e[n],o=s.event;s=s.listeners;e:{var a=void 0;if(t)for(var l=s.length-1;0<=l;l--){var i=s[l],c=i.instance,d=i.currentTarget;if(i=i.listener,c!==a&&o.isPropagationStopped())break e;Wi(o,i,d),a=c}else for(l=0;l<s.length;l++){if(i=s[l],c=i.instance,d=i.currentTarget,i=i.listener,c!==a&&o.isPropagationStopped())break e;Wi(o,i,d),a=c}}}if(Vs)throw e=Pa,Vs=!1,Pa=null,e}function ue(e,t){var n=t[Va];n===void 0&&(n=t[Va]=new Set);var s=e+"__bubble";n.has(s)||(Qd(t,e,2,!1),n.add(s))}function ea(e,t,n){var s=0;t&&(s|=4),Qd(n,e,s,t)}var ys="_reactListening"+Math.random().toString(36).slice(2);function Ur(e){if(!e[ys]){e[ys]=!0,ed.forEach(function(n){n!=="selectionchange"&&(fh.has(n)||ea(n,!1,e),ea(n,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[ys]||(t[ys]=!0,ea("selectionchange",!1,t))}}function Qd(e,t,n,s){switch(Od(t)){case 1:var o=Dm;break;case 4:o=Om;break;default:o=Il}n=o.bind(null,t,n,e),o=void 0,!Ra||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(o=!0),s?o!==void 0?e.addEventListener(t,n,{capture:!0,passive:o}):e.addEventListener(t,n,!0):o!==void 0?e.addEventListener(t,n,{passive:o}):e.addEventListener(t,n,!1)}function ta(e,t,n,s,o){var a=s;if(!(t&1)&&!(t&2)&&s!==null)e:for(;;){if(s===null)return;var l=s.tag;if(l===3||l===4){var i=s.stateNode.containerInfo;if(i===o||i.nodeType===8&&i.parentNode===o)break;if(l===4)for(l=s.return;l!==null;){var c=l.tag;if((c===3||c===4)&&(c=l.stateNode.containerInfo,c===o||c.nodeType===8&&c.parentNode===o))return;l=l.return}for(;i!==null;){if(l=vn(i),l===null)return;if(c=l.tag,c===5||c===6){s=a=l;continue e}i=i.parentNode}}s=s.return}xd(function(){var d=a,x=Al(n),p=[];e:{var u=Wd.get(e);if(u!==void 0){var v=Pl,y=e;switch(e){case"keypress":if(Ps(n)===0)break e;case"keydown":case"keyup":v=Wm;break;case"focusin":y="focus",v=Xo;break;case"focusout":y="blur",v=Xo;break;case"beforeblur":case"afterblur":v=Xo;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":v=Pi;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":v=Pm;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":v=Xm;break;case Gd:case Bd:case Vd:v=_m;break;case Ud:v=Ym;break;case"scroll":v=Im;break;case"wheel":v=Jm;break;case"copy":case"cut":case"paste":v=Fm;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":v=Ti}var j=(t&4)!==0,S=!j&&e==="scroll",m=j?u!==null?u+"Capture":null:u;j=[];for(var h=d,g;h!==null;){g=h;var N=g.stateNode;if(g.tag===5&&N!==null&&(g=N,m!==null&&(N=Fr(h,m),N!=null&&j.push(Wr(h,N,g)))),S)break;h=h.return}0<j.length&&(u=new v(u,y,null,n,x),p.push({event:u,listeners:j}))}}if(!(t&7)){e:{if(u=e==="mouseover"||e==="pointerover",v=e==="mouseout"||e==="pointerout",u&&n!==Oa&&(y=n.relatedTarget||n.fromElement)&&(vn(y)||y[_t]))break e;if((v||u)&&(u=x.window===x?x:(u=x.ownerDocument)?u.defaultView||u.parentWindow:window,v?(y=n.relatedTarget||n.toElement,v=d,y=y?vn(y):null,y!==null&&(S=On(y),y!==S||y.tag!==5&&y.tag!==6)&&(y=null)):(v=null,y=d),v!==y)){if(j=Pi,N="onMouseLeave",m="onMouseEnter",h="mouse",(e==="pointerout"||e==="pointerover")&&(j=Ti,N="onPointerLeave",m="onPointerEnter",h="pointer"),S=v==null?u:$n(v),g=y==null?u:$n(y),u=new j(N,h+"leave",v,n,x),u.target=S,u.relatedTarget=g,N=null,vn(x)===d&&(j=new j(m,h+"enter",y,n,x),j.target=g,j.relatedTarget=S,N=j),S=N,v&&y)t:{for(j=v,m=y,h=0,g=j;g;g=Pn(g))h++;for(g=0,N=m;N;N=Pn(N))g++;for(;0<h-g;)j=Pn(j),h--;for(;0<g-h;)m=Pn(m),g--;for(;h--;){if(j===m||m!==null&&j===m.alternate)break t;j=Pn(j),m=Pn(m)}j=null}else j=null;v!==null&&Hi(p,u,v,j,!1),y!==null&&S!==null&&Hi(p,S,y,j,!0)}}e:{if(u=d?$n(d):window,v=u.nodeName&&u.nodeName.toLowerCase(),v==="select"||v==="input"&&u.type==="file")var D=oh;else if(Fi(u))if(_d)D=ch;else{D=lh;var E=ah}else(v=u.nodeName)&&v.toLowerCase()==="input"&&(u.type==="checkbox"||u.type==="radio")&&(D=ih);if(D&&(D=D(e,d))){Td(p,D,n,x);break e}E&&E(e,u,d),e==="focusout"&&(E=u._wrapperState)&&E.controlled&&u.type==="number"&&ba(u,"number",u.value)}switch(E=d?$n(d):window,e){case"focusin":(Fi(E)||E.contentEditable==="true")&&(Mn=E,Ma=d,Or=null);break;case"focusout":Or=Ma=Mn=null;break;case"mousedown":Fa=!0;break;case"contextmenu":case"mouseup":case"dragend":Fa=!1,Vi(p,n,x);break;case"selectionchange":if(ph)break;case"keydown":case"keyup":Vi(p,n,x)}var I;if(Tl)e:{switch(e){case"compositionstart":var _="onCompositionStart";break e;case"compositionend":_="onCompositionEnd";break e;case"compositionupdate":_="onCompositionUpdate";break e}_=void 0}else _n?Pd(e,n)&&(_="onCompositionEnd"):e==="keydown"&&n.keyCode===229&&(_="onCompositionStart");_&&(Rd&&n.locale!=="ko"&&(_n||_!=="onCompositionStart"?_==="onCompositionEnd"&&_n&&(I=Id()):(qt=x,Rl="value"in qt?qt.value:qt.textContent,_n=!0)),E=Xs(d,_),0<E.length&&(_=new Li(_,e,null,n,x),p.push({event:_,listeners:E}),I?_.data=I:(I=Ld(n),I!==null&&(_.data=I)))),(I=eh?th(e,n):nh(e,n))&&(d=Xs(d,"onBeforeInput"),0<d.length&&(x=new Li("onBeforeInput","beforeinput",null,n,x),p.push({event:x,listeners:d}),x.data=I))}Hd(p,t)})}function Wr(e,t,n){return{instance:e,listener:t,currentTarget:n}}function Xs(e,t){for(var n=t+"Capture",s=[];e!==null;){var o=e,a=o.stateNode;o.tag===5&&a!==null&&(o=a,a=Fr(e,n),a!=null&&s.unshift(Wr(e,a,o)),a=Fr(e,t),a!=null&&s.push(Wr(e,a,o))),e=e.return}return s}function Pn(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function Hi(e,t,n,s,o){for(var a=t._reactName,l=[];n!==null&&n!==s;){var i=n,c=i.alternate,d=i.stateNode;if(c!==null&&c===s)break;i.tag===5&&d!==null&&(i=d,o?(c=Fr(n,a),c!=null&&l.unshift(Wr(n,c,i))):o||(c=Fr(n,a),c!=null&&l.push(Wr(n,c,i)))),n=n.return}l.length!==0&&e.push({event:t,listeners:l})}var xh=/\r\n?/g,gh=/\u0000|\uFFFD/g;function Qi(e){return(typeof e=="string"?e:""+e).replace(xh,`
`).replace(gh,"")}function ws(e,t,n){if(t=Qi(t),Qi(e)!==t&&n)throw Error(F(425))}function qs(){}var $a=null,za=null;function Ga(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var Ba=typeof setTimeout=="function"?setTimeout:void 0,vh=typeof clearTimeout=="function"?clearTimeout:void 0,Xi=typeof Promise=="function"?Promise:void 0,yh=typeof queueMicrotask=="function"?queueMicrotask:typeof Xi<"u"?function(e){return Xi.resolve(null).then(e).catch(wh)}:Ba;function wh(e){setTimeout(function(){throw e})}function na(e,t){var n=t,s=0;do{var o=n.nextSibling;if(e.removeChild(n),o&&o.nodeType===8)if(n=o.data,n==="/$"){if(s===0){e.removeChild(o),Gr(t);return}s--}else n!=="$"&&n!=="$?"&&n!=="$!"||s++;n=o}while(n);Gr(t)}function tn(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function qi(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="$"||n==="$!"||n==="$?"){if(t===0)return e;t--}else n==="/$"&&t++}e=e.previousSibling}return null}var cr=Math.random().toString(36).slice(2),Et="__reactFiber$"+cr,Hr="__reactProps$"+cr,_t="__reactContainer$"+cr,Va="__reactEvents$"+cr,jh="__reactListeners$"+cr,Nh="__reactHandles$"+cr;function vn(e){var t=e[Et];if(t)return t;for(var n=e.parentNode;n;){if(t=n[_t]||n[Et]){if(n=t.alternate,t.child!==null||n!==null&&n.child!==null)for(e=qi(e);e!==null;){if(n=e[Et])return n;e=qi(e)}return t}e=n,n=e.parentNode}return null}function ss(e){return e=e[Et]||e[_t],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function $n(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(F(33))}function wo(e){return e[Hr]||null}var Ua=[],zn=-1;function un(e){return{current:e}}function pe(e){0>zn||(e.current=Ua[zn],Ua[zn]=null,zn--)}function de(e,t){zn++,Ua[zn]=e.current,e.current=t}var cn={},Ue=un(cn),Je=un(!1),Cn=cn;function Zn(e,t){var n=e.type.contextTypes;if(!n)return cn;var s=e.stateNode;if(s&&s.__reactInternalMemoizedUnmaskedChildContext===t)return s.__reactInternalMemoizedMaskedChildContext;var o={},a;for(a in n)o[a]=t[a];return s&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=o),o}function Ze(e){return e=e.childContextTypes,e!=null}function Ys(){pe(Je),pe(Ue)}function Yi(e,t,n){if(Ue.current!==cn)throw Error(F(168));de(Ue,t),de(Je,n)}function Xd(e,t,n){var s=e.stateNode;if(t=t.childContextTypes,typeof s.getChildContext!="function")return n;s=s.getChildContext();for(var o in s)if(!(o in t))throw Error(F(108,am(e)||"Unknown",o));return je({},n,s)}function Ks(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||cn,Cn=Ue.current,de(Ue,e),de(Je,Je.current),!0}function Ki(e,t,n){var s=e.stateNode;if(!s)throw Error(F(169));n?(e=Xd(e,t,Cn),s.__reactInternalMemoizedMergedChildContext=e,pe(Je),pe(Ue),de(Ue,e)):pe(Je),de(Je,n)}var It=null,jo=!1,ra=!1;function qd(e){It===null?It=[e]:It.push(e)}function Sh(e){jo=!0,qd(e)}function pn(){if(!ra&&It!==null){ra=!0;var e=0,t=se;try{var n=It;for(se=1;e<n.length;e++){var s=n[e];do s=s(!0);while(s!==null)}It=null,jo=!1}catch(o){throw It!==null&&(It=It.slice(e+1)),wd(kl,pn),o}finally{se=t,ra=!1}}return null}var Gn=[],Bn=0,Js=null,Zs=0,ct=[],dt=0,bn=null,Rt=1,Pt="";function xn(e,t){Gn[Bn++]=Zs,Gn[Bn++]=Js,Js=e,Zs=t}function Yd(e,t,n){ct[dt++]=Rt,ct[dt++]=Pt,ct[dt++]=bn,bn=e;var s=Rt;e=Pt;var o=32-yt(s)-1;s&=~(1<<o),n+=1;var a=32-yt(t)+o;if(30<a){var l=o-o%5;a=(s&(1<<l)-1).toString(32),s>>=l,o-=l,Rt=1<<32-yt(t)+o|n<<o|s,Pt=a+e}else Rt=1<<a|n<<o|s,Pt=e}function Ml(e){e.return!==null&&(xn(e,1),Yd(e,1,0))}function Fl(e){for(;e===Js;)Js=Gn[--Bn],Gn[Bn]=null,Zs=Gn[--Bn],Gn[Bn]=null;for(;e===bn;)bn=ct[--dt],ct[dt]=null,Pt=ct[--dt],ct[dt]=null,Rt=ct[--dt],ct[dt]=null}var ot=null,st=null,fe=!1,vt=null;function Kd(e,t){var n=ut(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,t=e.deletions,t===null?(e.deletions=[n],e.flags|=16):t.push(n)}function Ji(e,t){switch(e.tag){case 5:var n=e.type;return t=t.nodeType!==1||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,ot=e,st=tn(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,ot=e,st=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(n=bn!==null?{id:Rt,overflow:Pt}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},n=ut(18,null,null,0),n.stateNode=t,n.return=e,e.child=n,ot=e,st=null,!0):!1;default:return!1}}function Wa(e){return(e.mode&1)!==0&&(e.flags&128)===0}function Ha(e){if(fe){var t=st;if(t){var n=t;if(!Ji(e,t)){if(Wa(e))throw Error(F(418));t=tn(n.nextSibling);var s=ot;t&&Ji(e,t)?Kd(s,n):(e.flags=e.flags&-4097|2,fe=!1,ot=e)}}else{if(Wa(e))throw Error(F(418));e.flags=e.flags&-4097|2,fe=!1,ot=e}}}function Zi(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;ot=e}function js(e){if(e!==ot)return!1;if(!fe)return Zi(e),fe=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!Ga(e.type,e.memoizedProps)),t&&(t=st)){if(Wa(e))throw Jd(),Error(F(418));for(;t;)Kd(e,t),t=tn(t.nextSibling)}if(Zi(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(F(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="/$"){if(t===0){st=tn(e.nextSibling);break e}t--}else n!=="$"&&n!=="$!"&&n!=="$?"||t++}e=e.nextSibling}st=null}}else st=ot?tn(e.stateNode.nextSibling):null;return!0}function Jd(){for(var e=st;e;)e=tn(e.nextSibling)}function er(){st=ot=null,fe=!1}function $l(e){vt===null?vt=[e]:vt.push(e)}var Ch=$t.ReactCurrentBatchConfig;function yr(e,t,n){if(e=n.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(F(309));var s=n.stateNode}if(!s)throw Error(F(147,e));var o=s,a=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===a?t.ref:(t=function(l){var i=o.refs;l===null?delete i[a]:i[a]=l},t._stringRef=a,t)}if(typeof e!="string")throw Error(F(284));if(!n._owner)throw Error(F(290,e))}return e}function Ns(e,t){throw e=Object.prototype.toString.call(t),Error(F(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function ec(e){var t=e._init;return t(e._payload)}function Zd(e){function t(m,h){if(e){var g=m.deletions;g===null?(m.deletions=[h],m.flags|=16):g.push(h)}}function n(m,h){if(!e)return null;for(;h!==null;)t(m,h),h=h.sibling;return null}function s(m,h){for(m=new Map;h!==null;)h.key!==null?m.set(h.key,h):m.set(h.index,h),h=h.sibling;return m}function o(m,h){return m=on(m,h),m.index=0,m.sibling=null,m}function a(m,h,g){return m.index=g,e?(g=m.alternate,g!==null?(g=g.index,g<h?(m.flags|=2,h):g):(m.flags|=2,h)):(m.flags|=1048576,h)}function l(m){return e&&m.alternate===null&&(m.flags|=2),m}function i(m,h,g,N){return h===null||h.tag!==6?(h=da(g,m.mode,N),h.return=m,h):(h=o(h,g),h.return=m,h)}function c(m,h,g,N){var D=g.type;return D===Tn?x(m,h,g.props.children,N,g.key):h!==null&&(h.elementType===D||typeof D=="object"&&D!==null&&D.$$typeof===Wt&&ec(D)===h.type)?(N=o(h,g.props),N.ref=yr(m,h,g),N.return=m,N):(N=zs(g.type,g.key,g.props,null,m.mode,N),N.ref=yr(m,h,g),N.return=m,N)}function d(m,h,g,N){return h===null||h.tag!==4||h.stateNode.containerInfo!==g.containerInfo||h.stateNode.implementation!==g.implementation?(h=ua(g,m.mode,N),h.return=m,h):(h=o(h,g.children||[]),h.return=m,h)}function x(m,h,g,N,D){return h===null||h.tag!==7?(h=Nn(g,m.mode,N,D),h.return=m,h):(h=o(h,g),h.return=m,h)}function p(m,h,g){if(typeof h=="string"&&h!==""||typeof h=="number")return h=da(""+h,m.mode,g),h.return=m,h;if(typeof h=="object"&&h!==null){switch(h.$$typeof){case us:return g=zs(h.type,h.key,h.props,null,m.mode,g),g.ref=yr(m,null,h),g.return=m,g;case Ln:return h=ua(h,m.mode,g),h.return=m,h;case Wt:var N=h._init;return p(m,N(h._payload),g)}if(Sr(h)||hr(h))return h=Nn(h,m.mode,g,null),h.return=m,h;Ns(m,h)}return null}function u(m,h,g,N){var D=h!==null?h.key:null;if(typeof g=="string"&&g!==""||typeof g=="number")return D!==null?null:i(m,h,""+g,N);if(typeof g=="object"&&g!==null){switch(g.$$typeof){case us:return g.key===D?c(m,h,g,N):null;case Ln:return g.key===D?d(m,h,g,N):null;case Wt:return D=g._init,u(m,h,D(g._payload),N)}if(Sr(g)||hr(g))return D!==null?null:x(m,h,g,N,null);Ns(m,g)}return null}function v(m,h,g,N,D){if(typeof N=="string"&&N!==""||typeof N=="number")return m=m.get(g)||null,i(h,m,""+N,D);if(typeof N=="object"&&N!==null){switch(N.$$typeof){case us:return m=m.get(N.key===null?g:N.key)||null,c(h,m,N,D);case Ln:return m=m.get(N.key===null?g:N.key)||null,d(h,m,N,D);case Wt:var E=N._init;return v(m,h,g,E(N._payload),D)}if(Sr(N)||hr(N))return m=m.get(g)||null,x(h,m,N,D,null);Ns(h,N)}return null}function y(m,h,g,N){for(var D=null,E=null,I=h,_=h=0,A=null;I!==null&&_<g.length;_++){I.index>_?(A=I,I=null):A=I.sibling;var T=u(m,I,g[_],N);if(T===null){I===null&&(I=A);break}e&&I&&T.alternate===null&&t(m,I),h=a(T,h,_),E===null?D=T:E.sibling=T,E=T,I=A}if(_===g.length)return n(m,I),fe&&xn(m,_),D;if(I===null){for(;_<g.length;_++)I=p(m,g[_],N),I!==null&&(h=a(I,h,_),E===null?D=I:E.sibling=I,E=I);return fe&&xn(m,_),D}for(I=s(m,I);_<g.length;_++)A=v(I,m,_,g[_],N),A!==null&&(e&&A.alternate!==null&&I.delete(A.key===null?_:A.key),h=a(A,h,_),E===null?D=A:E.sibling=A,E=A);return e&&I.forEach(function(V){return t(m,V)}),fe&&xn(m,_),D}function j(m,h,g,N){var D=hr(g);if(typeof D!="function")throw Error(F(150));if(g=D.call(g),g==null)throw Error(F(151));for(var E=D=null,I=h,_=h=0,A=null,T=g.next();I!==null&&!T.done;_++,T=g.next()){I.index>_?(A=I,I=null):A=I.sibling;var V=u(m,I,T.value,N);if(V===null){I===null&&(I=A);break}e&&I&&V.alternate===null&&t(m,I),h=a(V,h,_),E===null?D=V:E.sibling=V,E=V,I=A}if(T.done)return n(m,I),fe&&xn(m,_),D;if(I===null){for(;!T.done;_++,T=g.next())T=p(m,T.value,N),T!==null&&(h=a(T,h,_),E===null?D=T:E.sibling=T,E=T);return fe&&xn(m,_),D}for(I=s(m,I);!T.done;_++,T=g.next())T=v(I,m,_,T.value,N),T!==null&&(e&&T.alternate!==null&&I.delete(T.key===null?_:T.key),h=a(T,h,_),E===null?D=T:E.sibling=T,E=T);return e&&I.forEach(function(k){return t(m,k)}),fe&&xn(m,_),D}function S(m,h,g,N){if(typeof g=="object"&&g!==null&&g.type===Tn&&g.key===null&&(g=g.props.children),typeof g=="object"&&g!==null){switch(g.$$typeof){case us:e:{for(var D=g.key,E=h;E!==null;){if(E.key===D){if(D=g.type,D===Tn){if(E.tag===7){n(m,E.sibling),h=o(E,g.props.children),h.return=m,m=h;break e}}else if(E.elementType===D||typeof D=="object"&&D!==null&&D.$$typeof===Wt&&ec(D)===E.type){n(m,E.sibling),h=o(E,g.props),h.ref=yr(m,E,g),h.return=m,m=h;break e}n(m,E);break}else t(m,E);E=E.sibling}g.type===Tn?(h=Nn(g.props.children,m.mode,N,g.key),h.return=m,m=h):(N=zs(g.type,g.key,g.props,null,m.mode,N),N.ref=yr(m,h,g),N.return=m,m=N)}return l(m);case Ln:e:{for(E=g.key;h!==null;){if(h.key===E)if(h.tag===4&&h.stateNode.containerInfo===g.containerInfo&&h.stateNode.implementation===g.implementation){n(m,h.sibling),h=o(h,g.children||[]),h.return=m,m=h;break e}else{n(m,h);break}else t(m,h);h=h.sibling}h=ua(g,m.mode,N),h.return=m,m=h}return l(m);case Wt:return E=g._init,S(m,h,E(g._payload),N)}if(Sr(g))return y(m,h,g,N);if(hr(g))return j(m,h,g,N);Ns(m,g)}return typeof g=="string"&&g!==""||typeof g=="number"?(g=""+g,h!==null&&h.tag===6?(n(m,h.sibling),h=o(h,g),h.return=m,m=h):(n(m,h),h=da(g,m.mode,N),h.return=m,m=h),l(m)):n(m,h)}return S}var tr=Zd(!0),eu=Zd(!1),eo=un(null),to=null,Vn=null,zl=null;function Gl(){zl=Vn=to=null}function Bl(e){var t=eo.current;pe(eo),e._currentValue=t}function Qa(e,t,n){for(;e!==null;){var s=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,s!==null&&(s.childLanes|=t)):s!==null&&(s.childLanes&t)!==t&&(s.childLanes|=t),e===n)break;e=e.return}}function Yn(e,t){to=e,zl=Vn=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(Ke=!0),e.firstContext=null)}function mt(e){var t=e._currentValue;if(zl!==e)if(e={context:e,memoizedValue:t,next:null},Vn===null){if(to===null)throw Error(F(308));Vn=e,to.dependencies={lanes:0,firstContext:e}}else Vn=Vn.next=e;return t}var yn=null;function Vl(e){yn===null?yn=[e]:yn.push(e)}function tu(e,t,n,s){var o=t.interleaved;return o===null?(n.next=n,Vl(t)):(n.next=o.next,o.next=n),t.interleaved=n,Mt(e,s)}function Mt(e,t){e.lanes|=t;var n=e.alternate;for(n!==null&&(n.lanes|=t),n=e,e=e.return;e!==null;)e.childLanes|=t,n=e.alternate,n!==null&&(n.childLanes|=t),n=e,e=e.return;return n.tag===3?n.stateNode:null}var Ht=!1;function Ul(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function nu(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Lt(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function nn(e,t,n){var s=e.updateQueue;if(s===null)return null;if(s=s.shared,re&2){var o=s.pending;return o===null?t.next=t:(t.next=o.next,o.next=t),s.pending=t,Mt(e,n)}return o=s.interleaved,o===null?(t.next=t,Vl(s)):(t.next=o.next,o.next=t),s.interleaved=t,Mt(e,n)}function Ls(e,t,n){if(t=t.updateQueue,t!==null&&(t=t.shared,(n&4194240)!==0)){var s=t.lanes;s&=e.pendingLanes,n|=s,t.lanes=n,Dl(e,n)}}function tc(e,t){var n=e.updateQueue,s=e.alternate;if(s!==null&&(s=s.updateQueue,n===s)){var o=null,a=null;if(n=n.firstBaseUpdate,n!==null){do{var l={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};a===null?o=a=l:a=a.next=l,n=n.next}while(n!==null);a===null?o=a=t:a=a.next=t}else o=a=t;n={baseState:s.baseState,firstBaseUpdate:o,lastBaseUpdate:a,shared:s.shared,effects:s.effects},e.updateQueue=n;return}e=n.lastBaseUpdate,e===null?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function no(e,t,n,s){var o=e.updateQueue;Ht=!1;var a=o.firstBaseUpdate,l=o.lastBaseUpdate,i=o.shared.pending;if(i!==null){o.shared.pending=null;var c=i,d=c.next;c.next=null,l===null?a=d:l.next=d,l=c;var x=e.alternate;x!==null&&(x=x.updateQueue,i=x.lastBaseUpdate,i!==l&&(i===null?x.firstBaseUpdate=d:i.next=d,x.lastBaseUpdate=c))}if(a!==null){var p=o.baseState;l=0,x=d=c=null,i=a;do{var u=i.lane,v=i.eventTime;if((s&u)===u){x!==null&&(x=x.next={eventTime:v,lane:0,tag:i.tag,payload:i.payload,callback:i.callback,next:null});e:{var y=e,j=i;switch(u=t,v=n,j.tag){case 1:if(y=j.payload,typeof y=="function"){p=y.call(v,p,u);break e}p=y;break e;case 3:y.flags=y.flags&-65537|128;case 0:if(y=j.payload,u=typeof y=="function"?y.call(v,p,u):y,u==null)break e;p=je({},p,u);break e;case 2:Ht=!0}}i.callback!==null&&i.lane!==0&&(e.flags|=64,u=o.effects,u===null?o.effects=[i]:u.push(i))}else v={eventTime:v,lane:u,tag:i.tag,payload:i.payload,callback:i.callback,next:null},x===null?(d=x=v,c=p):x=x.next=v,l|=u;if(i=i.next,i===null){if(i=o.shared.pending,i===null)break;u=i,i=u.next,u.next=null,o.lastBaseUpdate=u,o.shared.pending=null}}while(!0);if(x===null&&(c=p),o.baseState=c,o.firstBaseUpdate=d,o.lastBaseUpdate=x,t=o.shared.interleaved,t!==null){o=t;do l|=o.lane,o=o.next;while(o!==t)}else a===null&&(o.shared.lanes=0);An|=l,e.lanes=l,e.memoizedState=p}}function nc(e,t,n){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var s=e[t],o=s.callback;if(o!==null){if(s.callback=null,s=n,typeof o!="function")throw Error(F(191,o));o.call(s)}}}var os={},kt=un(os),Qr=un(os),Xr=un(os);function wn(e){if(e===os)throw Error(F(174));return e}function Wl(e,t){switch(de(Xr,t),de(Qr,e),de(kt,os),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:Aa(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=Aa(t,e)}pe(kt),de(kt,t)}function nr(){pe(kt),pe(Qr),pe(Xr)}function ru(e){wn(Xr.current);var t=wn(kt.current),n=Aa(t,e.type);t!==n&&(de(Qr,e),de(kt,n))}function Hl(e){Qr.current===e&&(pe(kt),pe(Qr))}var ve=un(0);function ro(e){for(var t=e;t!==null;){if(t.tag===13){var n=t.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var sa=[];function Ql(){for(var e=0;e<sa.length;e++)sa[e]._workInProgressVersionPrimary=null;sa.length=0}var Ts=$t.ReactCurrentDispatcher,oa=$t.ReactCurrentBatchConfig,En=0,ye=null,Re=null,Le=null,so=!1,Ir=!1,qr=0,bh=0;function ze(){throw Error(F(321))}function Xl(e,t){if(t===null)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!jt(e[n],t[n]))return!1;return!0}function ql(e,t,n,s,o,a){if(En=a,ye=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,Ts.current=e===null||e.memoizedState===null?Dh:Oh,e=n(s,o),Ir){a=0;do{if(Ir=!1,qr=0,25<=a)throw Error(F(301));a+=1,Le=Re=null,t.updateQueue=null,Ts.current=Ih,e=n(s,o)}while(Ir)}if(Ts.current=oo,t=Re!==null&&Re.next!==null,En=0,Le=Re=ye=null,so=!1,t)throw Error(F(300));return e}function Yl(){var e=qr!==0;return qr=0,e}function bt(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Le===null?ye.memoizedState=Le=e:Le=Le.next=e,Le}function ht(){if(Re===null){var e=ye.alternate;e=e!==null?e.memoizedState:null}else e=Re.next;var t=Le===null?ye.memoizedState:Le.next;if(t!==null)Le=t,Re=e;else{if(e===null)throw Error(F(310));Re=e,e={memoizedState:Re.memoizedState,baseState:Re.baseState,baseQueue:Re.baseQueue,queue:Re.queue,next:null},Le===null?ye.memoizedState=Le=e:Le=Le.next=e}return Le}function Yr(e,t){return typeof t=="function"?t(e):t}function aa(e){var t=ht(),n=t.queue;if(n===null)throw Error(F(311));n.lastRenderedReducer=e;var s=Re,o=s.baseQueue,a=n.pending;if(a!==null){if(o!==null){var l=o.next;o.next=a.next,a.next=l}s.baseQueue=o=a,n.pending=null}if(o!==null){a=o.next,s=s.baseState;var i=l=null,c=null,d=a;do{var x=d.lane;if((En&x)===x)c!==null&&(c=c.next={lane:0,action:d.action,hasEagerState:d.hasEagerState,eagerState:d.eagerState,next:null}),s=d.hasEagerState?d.eagerState:e(s,d.action);else{var p={lane:x,action:d.action,hasEagerState:d.hasEagerState,eagerState:d.eagerState,next:null};c===null?(i=c=p,l=s):c=c.next=p,ye.lanes|=x,An|=x}d=d.next}while(d!==null&&d!==a);c===null?l=s:c.next=i,jt(s,t.memoizedState)||(Ke=!0),t.memoizedState=s,t.baseState=l,t.baseQueue=c,n.lastRenderedState=s}if(e=n.interleaved,e!==null){o=e;do a=o.lane,ye.lanes|=a,An|=a,o=o.next;while(o!==e)}else o===null&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function la(e){var t=ht(),n=t.queue;if(n===null)throw Error(F(311));n.lastRenderedReducer=e;var s=n.dispatch,o=n.pending,a=t.memoizedState;if(o!==null){n.pending=null;var l=o=o.next;do a=e(a,l.action),l=l.next;while(l!==o);jt(a,t.memoizedState)||(Ke=!0),t.memoizedState=a,t.baseQueue===null&&(t.baseState=a),n.lastRenderedState=a}return[a,s]}function su(){}function ou(e,t){var n=ye,s=ht(),o=t(),a=!jt(s.memoizedState,o);if(a&&(s.memoizedState=o,Ke=!0),s=s.queue,Kl(iu.bind(null,n,s,e),[e]),s.getSnapshot!==t||a||Le!==null&&Le.memoizedState.tag&1){if(n.flags|=2048,Kr(9,lu.bind(null,n,s,o,t),void 0,null),Te===null)throw Error(F(349));En&30||au(n,t,o)}return o}function au(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},t=ye.updateQueue,t===null?(t={lastEffect:null,stores:null},ye.updateQueue=t,t.stores=[e]):(n=t.stores,n===null?t.stores=[e]:n.push(e))}function lu(e,t,n,s){t.value=n,t.getSnapshot=s,cu(t)&&du(e)}function iu(e,t,n){return n(function(){cu(t)&&du(e)})}function cu(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!jt(e,n)}catch{return!0}}function du(e){var t=Mt(e,1);t!==null&&wt(t,e,1,-1)}function rc(e){var t=bt();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Yr,lastRenderedState:e},t.queue=e,e=e.dispatch=kh.bind(null,ye,e),[t.memoizedState,e]}function Kr(e,t,n,s){return e={tag:e,create:t,destroy:n,deps:s,next:null},t=ye.updateQueue,t===null?(t={lastEffect:null,stores:null},ye.updateQueue=t,t.lastEffect=e.next=e):(n=t.lastEffect,n===null?t.lastEffect=e.next=e:(s=n.next,n.next=e,e.next=s,t.lastEffect=e)),e}function uu(){return ht().memoizedState}function _s(e,t,n,s){var o=bt();ye.flags|=e,o.memoizedState=Kr(1|t,n,void 0,s===void 0?null:s)}function No(e,t,n,s){var o=ht();s=s===void 0?null:s;var a=void 0;if(Re!==null){var l=Re.memoizedState;if(a=l.destroy,s!==null&&Xl(s,l.deps)){o.memoizedState=Kr(t,n,a,s);return}}ye.flags|=e,o.memoizedState=Kr(1|t,n,a,s)}function sc(e,t){return _s(8390656,8,e,t)}function Kl(e,t){return No(2048,8,e,t)}function pu(e,t){return No(4,2,e,t)}function mu(e,t){return No(4,4,e,t)}function hu(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function fu(e,t,n){return n=n!=null?n.concat([e]):null,No(4,4,hu.bind(null,t,e),n)}function Jl(){}function xu(e,t){var n=ht();t=t===void 0?null:t;var s=n.memoizedState;return s!==null&&t!==null&&Xl(t,s[1])?s[0]:(n.memoizedState=[e,t],e)}function gu(e,t){var n=ht();t=t===void 0?null:t;var s=n.memoizedState;return s!==null&&t!==null&&Xl(t,s[1])?s[0]:(e=e(),n.memoizedState=[e,t],e)}function vu(e,t,n){return En&21?(jt(n,t)||(n=Sd(),ye.lanes|=n,An|=n,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,Ke=!0),e.memoizedState=n)}function Eh(e,t){var n=se;se=n!==0&&4>n?n:4,e(!0);var s=oa.transition;oa.transition={};try{e(!1),t()}finally{se=n,oa.transition=s}}function yu(){return ht().memoizedState}function Ah(e,t,n){var s=sn(e);if(n={lane:s,action:n,hasEagerState:!1,eagerState:null,next:null},wu(e))ju(t,n);else if(n=tu(e,t,n,s),n!==null){var o=He();wt(n,e,s,o),Nu(n,t,s)}}function kh(e,t,n){var s=sn(e),o={lane:s,action:n,hasEagerState:!1,eagerState:null,next:null};if(wu(e))ju(t,o);else{var a=e.alternate;if(e.lanes===0&&(a===null||a.lanes===0)&&(a=t.lastRenderedReducer,a!==null))try{var l=t.lastRenderedState,i=a(l,n);if(o.hasEagerState=!0,o.eagerState=i,jt(i,l)){var c=t.interleaved;c===null?(o.next=o,Vl(t)):(o.next=c.next,c.next=o),t.interleaved=o;return}}catch{}finally{}n=tu(e,t,o,s),n!==null&&(o=He(),wt(n,e,s,o),Nu(n,t,s))}}function wu(e){var t=e.alternate;return e===ye||t!==null&&t===ye}function ju(e,t){Ir=so=!0;var n=e.pending;n===null?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function Nu(e,t,n){if(n&4194240){var s=t.lanes;s&=e.pendingLanes,n|=s,t.lanes=n,Dl(e,n)}}var oo={readContext:mt,useCallback:ze,useContext:ze,useEffect:ze,useImperativeHandle:ze,useInsertionEffect:ze,useLayoutEffect:ze,useMemo:ze,useReducer:ze,useRef:ze,useState:ze,useDebugValue:ze,useDeferredValue:ze,useTransition:ze,useMutableSource:ze,useSyncExternalStore:ze,useId:ze,unstable_isNewReconciler:!1},Dh={readContext:mt,useCallback:function(e,t){return bt().memoizedState=[e,t===void 0?null:t],e},useContext:mt,useEffect:sc,useImperativeHandle:function(e,t,n){return n=n!=null?n.concat([e]):null,_s(4194308,4,hu.bind(null,t,e),n)},useLayoutEffect:function(e,t){return _s(4194308,4,e,t)},useInsertionEffect:function(e,t){return _s(4,2,e,t)},useMemo:function(e,t){var n=bt();return t=t===void 0?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var s=bt();return t=n!==void 0?n(t):t,s.memoizedState=s.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},s.queue=e,e=e.dispatch=Ah.bind(null,ye,e),[s.memoizedState,e]},useRef:function(e){var t=bt();return e={current:e},t.memoizedState=e},useState:rc,useDebugValue:Jl,useDeferredValue:function(e){return bt().memoizedState=e},useTransition:function(){var e=rc(!1),t=e[0];return e=Eh.bind(null,e[1]),bt().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var s=ye,o=bt();if(fe){if(n===void 0)throw Error(F(407));n=n()}else{if(n=t(),Te===null)throw Error(F(349));En&30||au(s,t,n)}o.memoizedState=n;var a={value:n,getSnapshot:t};return o.queue=a,sc(iu.bind(null,s,a,e),[e]),s.flags|=2048,Kr(9,lu.bind(null,s,a,n,t),void 0,null),n},useId:function(){var e=bt(),t=Te.identifierPrefix;if(fe){var n=Pt,s=Rt;n=(s&~(1<<32-yt(s)-1)).toString(32)+n,t=":"+t+"R"+n,n=qr++,0<n&&(t+="H"+n.toString(32)),t+=":"}else n=bh++,t=":"+t+"r"+n.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},Oh={readContext:mt,useCallback:xu,useContext:mt,useEffect:Kl,useImperativeHandle:fu,useInsertionEffect:pu,useLayoutEffect:mu,useMemo:gu,useReducer:aa,useRef:uu,useState:function(){return aa(Yr)},useDebugValue:Jl,useDeferredValue:function(e){var t=ht();return vu(t,Re.memoizedState,e)},useTransition:function(){var e=aa(Yr)[0],t=ht().memoizedState;return[e,t]},useMutableSource:su,useSyncExternalStore:ou,useId:yu,unstable_isNewReconciler:!1},Ih={readContext:mt,useCallback:xu,useContext:mt,useEffect:Kl,useImperativeHandle:fu,useInsertionEffect:pu,useLayoutEffect:mu,useMemo:gu,useReducer:la,useRef:uu,useState:function(){return la(Yr)},useDebugValue:Jl,useDeferredValue:function(e){var t=ht();return Re===null?t.memoizedState=e:vu(t,Re.memoizedState,e)},useTransition:function(){var e=la(Yr)[0],t=ht().memoizedState;return[e,t]},useMutableSource:su,useSyncExternalStore:ou,useId:yu,unstable_isNewReconciler:!1};function xt(e,t){if(e&&e.defaultProps){t=je({},t),e=e.defaultProps;for(var n in e)t[n]===void 0&&(t[n]=e[n]);return t}return t}function Xa(e,t,n,s){t=e.memoizedState,n=n(s,t),n=n==null?t:je({},t,n),e.memoizedState=n,e.lanes===0&&(e.updateQueue.baseState=n)}var So={isMounted:function(e){return(e=e._reactInternals)?On(e)===e:!1},enqueueSetState:function(e,t,n){e=e._reactInternals;var s=He(),o=sn(e),a=Lt(s,o);a.payload=t,n!=null&&(a.callback=n),t=nn(e,a,o),t!==null&&(wt(t,e,o,s),Ls(t,e,o))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var s=He(),o=sn(e),a=Lt(s,o);a.tag=1,a.payload=t,n!=null&&(a.callback=n),t=nn(e,a,o),t!==null&&(wt(t,e,o,s),Ls(t,e,o))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=He(),s=sn(e),o=Lt(n,s);o.tag=2,t!=null&&(o.callback=t),t=nn(e,o,s),t!==null&&(wt(t,e,s,n),Ls(t,e,s))}};function oc(e,t,n,s,o,a,l){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(s,a,l):t.prototype&&t.prototype.isPureReactComponent?!Vr(n,s)||!Vr(o,a):!0}function Su(e,t,n){var s=!1,o=cn,a=t.contextType;return typeof a=="object"&&a!==null?a=mt(a):(o=Ze(t)?Cn:Ue.current,s=t.contextTypes,a=(s=s!=null)?Zn(e,o):cn),t=new t(n,a),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=So,e.stateNode=t,t._reactInternals=e,s&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=o,e.__reactInternalMemoizedMaskedChildContext=a),t}function ac(e,t,n,s){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(n,s),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(n,s),t.state!==e&&So.enqueueReplaceState(t,t.state,null)}function qa(e,t,n,s){var o=e.stateNode;o.props=n,o.state=e.memoizedState,o.refs={},Ul(e);var a=t.contextType;typeof a=="object"&&a!==null?o.context=mt(a):(a=Ze(t)?Cn:Ue.current,o.context=Zn(e,a)),o.state=e.memoizedState,a=t.getDerivedStateFromProps,typeof a=="function"&&(Xa(e,t,a,n),o.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof o.getSnapshotBeforeUpdate=="function"||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(t=o.state,typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount(),t!==o.state&&So.enqueueReplaceState(o,o.state,null),no(e,n,o,s),o.state=e.memoizedState),typeof o.componentDidMount=="function"&&(e.flags|=4194308)}function rr(e,t){try{var n="",s=t;do n+=om(s),s=s.return;while(s);var o=n}catch(a){o=`
Error generating stack: `+a.message+`
`+a.stack}return{value:e,source:t,stack:o,digest:null}}function ia(e,t,n){return{value:e,source:null,stack:n??null,digest:t??null}}function Ya(e,t){try{console.error(t.value)}catch(n){setTimeout(function(){throw n})}}var Rh=typeof WeakMap=="function"?WeakMap:Map;function Cu(e,t,n){n=Lt(-1,n),n.tag=3,n.payload={element:null};var s=t.value;return n.callback=function(){lo||(lo=!0,al=s),Ya(e,t)},n}function bu(e,t,n){n=Lt(-1,n),n.tag=3;var s=e.type.getDerivedStateFromError;if(typeof s=="function"){var o=t.value;n.payload=function(){return s(o)},n.callback=function(){Ya(e,t)}}var a=e.stateNode;return a!==null&&typeof a.componentDidCatch=="function"&&(n.callback=function(){Ya(e,t),typeof s!="function"&&(rn===null?rn=new Set([this]):rn.add(this));var l=t.stack;this.componentDidCatch(t.value,{componentStack:l!==null?l:""})}),n}function lc(e,t,n){var s=e.pingCache;if(s===null){s=e.pingCache=new Rh;var o=new Set;s.set(t,o)}else o=s.get(t),o===void 0&&(o=new Set,s.set(t,o));o.has(n)||(o.add(n),e=Hh.bind(null,e,t,n),t.then(e,e))}function ic(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function cc(e,t,n,s,o){return e.mode&1?(e.flags|=65536,e.lanes=o,e):(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(t=Lt(-1,1),t.tag=2,nn(n,t,1))),n.lanes|=1),e)}var Ph=$t.ReactCurrentOwner,Ke=!1;function We(e,t,n,s){t.child=e===null?eu(t,null,n,s):tr(t,e.child,n,s)}function dc(e,t,n,s,o){n=n.render;var a=t.ref;return Yn(t,o),s=ql(e,t,n,s,a,o),n=Yl(),e!==null&&!Ke?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~o,Ft(e,t,o)):(fe&&n&&Ml(t),t.flags|=1,We(e,t,s,o),t.child)}function uc(e,t,n,s,o){if(e===null){var a=n.type;return typeof a=="function"&&!ai(a)&&a.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(t.tag=15,t.type=a,Eu(e,t,a,s,o)):(e=zs(n.type,null,s,t,t.mode,o),e.ref=t.ref,e.return=t,t.child=e)}if(a=e.child,!(e.lanes&o)){var l=a.memoizedProps;if(n=n.compare,n=n!==null?n:Vr,n(l,s)&&e.ref===t.ref)return Ft(e,t,o)}return t.flags|=1,e=on(a,s),e.ref=t.ref,e.return=t,t.child=e}function Eu(e,t,n,s,o){if(e!==null){var a=e.memoizedProps;if(Vr(a,s)&&e.ref===t.ref)if(Ke=!1,t.pendingProps=s=a,(e.lanes&o)!==0)e.flags&131072&&(Ke=!0);else return t.lanes=e.lanes,Ft(e,t,o)}return Ka(e,t,n,s,o)}function Au(e,t,n){var s=t.pendingProps,o=s.children,a=e!==null?e.memoizedState:null;if(s.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},de(Wn,rt),rt|=n;else{if(!(n&1073741824))return e=a!==null?a.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,de(Wn,rt),rt|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},s=a!==null?a.baseLanes:n,de(Wn,rt),rt|=s}else a!==null?(s=a.baseLanes|n,t.memoizedState=null):s=n,de(Wn,rt),rt|=s;return We(e,t,o,n),t.child}function ku(e,t){var n=t.ref;(e===null&&n!==null||e!==null&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function Ka(e,t,n,s,o){var a=Ze(n)?Cn:Ue.current;return a=Zn(t,a),Yn(t,o),n=ql(e,t,n,s,a,o),s=Yl(),e!==null&&!Ke?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~o,Ft(e,t,o)):(fe&&s&&Ml(t),t.flags|=1,We(e,t,n,o),t.child)}function pc(e,t,n,s,o){if(Ze(n)){var a=!0;Ks(t)}else a=!1;if(Yn(t,o),t.stateNode===null)Ms(e,t),Su(t,n,s),qa(t,n,s,o),s=!0;else if(e===null){var l=t.stateNode,i=t.memoizedProps;l.props=i;var c=l.context,d=n.contextType;typeof d=="object"&&d!==null?d=mt(d):(d=Ze(n)?Cn:Ue.current,d=Zn(t,d));var x=n.getDerivedStateFromProps,p=typeof x=="function"||typeof l.getSnapshotBeforeUpdate=="function";p||typeof l.UNSAFE_componentWillReceiveProps!="function"&&typeof l.componentWillReceiveProps!="function"||(i!==s||c!==d)&&ac(t,l,s,d),Ht=!1;var u=t.memoizedState;l.state=u,no(t,s,l,o),c=t.memoizedState,i!==s||u!==c||Je.current||Ht?(typeof x=="function"&&(Xa(t,n,x,s),c=t.memoizedState),(i=Ht||oc(t,n,i,s,u,c,d))?(p||typeof l.UNSAFE_componentWillMount!="function"&&typeof l.componentWillMount!="function"||(typeof l.componentWillMount=="function"&&l.componentWillMount(),typeof l.UNSAFE_componentWillMount=="function"&&l.UNSAFE_componentWillMount()),typeof l.componentDidMount=="function"&&(t.flags|=4194308)):(typeof l.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=s,t.memoizedState=c),l.props=s,l.state=c,l.context=d,s=i):(typeof l.componentDidMount=="function"&&(t.flags|=4194308),s=!1)}else{l=t.stateNode,nu(e,t),i=t.memoizedProps,d=t.type===t.elementType?i:xt(t.type,i),l.props=d,p=t.pendingProps,u=l.context,c=n.contextType,typeof c=="object"&&c!==null?c=mt(c):(c=Ze(n)?Cn:Ue.current,c=Zn(t,c));var v=n.getDerivedStateFromProps;(x=typeof v=="function"||typeof l.getSnapshotBeforeUpdate=="function")||typeof l.UNSAFE_componentWillReceiveProps!="function"&&typeof l.componentWillReceiveProps!="function"||(i!==p||u!==c)&&ac(t,l,s,c),Ht=!1,u=t.memoizedState,l.state=u,no(t,s,l,o);var y=t.memoizedState;i!==p||u!==y||Je.current||Ht?(typeof v=="function"&&(Xa(t,n,v,s),y=t.memoizedState),(d=Ht||oc(t,n,d,s,u,y,c)||!1)?(x||typeof l.UNSAFE_componentWillUpdate!="function"&&typeof l.componentWillUpdate!="function"||(typeof l.componentWillUpdate=="function"&&l.componentWillUpdate(s,y,c),typeof l.UNSAFE_componentWillUpdate=="function"&&l.UNSAFE_componentWillUpdate(s,y,c)),typeof l.componentDidUpdate=="function"&&(t.flags|=4),typeof l.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof l.componentDidUpdate!="function"||i===e.memoizedProps&&u===e.memoizedState||(t.flags|=4),typeof l.getSnapshotBeforeUpdate!="function"||i===e.memoizedProps&&u===e.memoizedState||(t.flags|=1024),t.memoizedProps=s,t.memoizedState=y),l.props=s,l.state=y,l.context=c,s=d):(typeof l.componentDidUpdate!="function"||i===e.memoizedProps&&u===e.memoizedState||(t.flags|=4),typeof l.getSnapshotBeforeUpdate!="function"||i===e.memoizedProps&&u===e.memoizedState||(t.flags|=1024),s=!1)}return Ja(e,t,n,s,a,o)}function Ja(e,t,n,s,o,a){ku(e,t);var l=(t.flags&128)!==0;if(!s&&!l)return o&&Ki(t,n,!1),Ft(e,t,a);s=t.stateNode,Ph.current=t;var i=l&&typeof n.getDerivedStateFromError!="function"?null:s.render();return t.flags|=1,e!==null&&l?(t.child=tr(t,e.child,null,a),t.child=tr(t,null,i,a)):We(e,t,i,a),t.memoizedState=s.state,o&&Ki(t,n,!0),t.child}function Du(e){var t=e.stateNode;t.pendingContext?Yi(e,t.pendingContext,t.pendingContext!==t.context):t.context&&Yi(e,t.context,!1),Wl(e,t.containerInfo)}function mc(e,t,n,s,o){return er(),$l(o),t.flags|=256,We(e,t,n,s),t.child}var Za={dehydrated:null,treeContext:null,retryLane:0};function el(e){return{baseLanes:e,cachePool:null,transitions:null}}function Ou(e,t,n){var s=t.pendingProps,o=ve.current,a=!1,l=(t.flags&128)!==0,i;if((i=l)||(i=e!==null&&e.memoizedState===null?!1:(o&2)!==0),i?(a=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(o|=1),de(ve,o&1),e===null)return Ha(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(l=s.children,e=s.fallback,a?(s=t.mode,a=t.child,l={mode:"hidden",children:l},!(s&1)&&a!==null?(a.childLanes=0,a.pendingProps=l):a=Eo(l,s,0,null),e=Nn(e,s,n,null),a.return=t,e.return=t,a.sibling=e,t.child=a,t.child.memoizedState=el(n),t.memoizedState=Za,e):Zl(t,l));if(o=e.memoizedState,o!==null&&(i=o.dehydrated,i!==null))return Lh(e,t,l,s,i,o,n);if(a){a=s.fallback,l=t.mode,o=e.child,i=o.sibling;var c={mode:"hidden",children:s.children};return!(l&1)&&t.child!==o?(s=t.child,s.childLanes=0,s.pendingProps=c,t.deletions=null):(s=on(o,c),s.subtreeFlags=o.subtreeFlags&14680064),i!==null?a=on(i,a):(a=Nn(a,l,n,null),a.flags|=2),a.return=t,s.return=t,s.sibling=a,t.child=s,s=a,a=t.child,l=e.child.memoizedState,l=l===null?el(n):{baseLanes:l.baseLanes|n,cachePool:null,transitions:l.transitions},a.memoizedState=l,a.childLanes=e.childLanes&~n,t.memoizedState=Za,s}return a=e.child,e=a.sibling,s=on(a,{mode:"visible",children:s.children}),!(t.mode&1)&&(s.lanes=n),s.return=t,s.sibling=null,e!==null&&(n=t.deletions,n===null?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=s,t.memoizedState=null,s}function Zl(e,t){return t=Eo({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function Ss(e,t,n,s){return s!==null&&$l(s),tr(t,e.child,null,n),e=Zl(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function Lh(e,t,n,s,o,a,l){if(n)return t.flags&256?(t.flags&=-257,s=ia(Error(F(422))),Ss(e,t,l,s)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(a=s.fallback,o=t.mode,s=Eo({mode:"visible",children:s.children},o,0,null),a=Nn(a,o,l,null),a.flags|=2,s.return=t,a.return=t,s.sibling=a,t.child=s,t.mode&1&&tr(t,e.child,null,l),t.child.memoizedState=el(l),t.memoizedState=Za,a);if(!(t.mode&1))return Ss(e,t,l,null);if(o.data==="$!"){if(s=o.nextSibling&&o.nextSibling.dataset,s)var i=s.dgst;return s=i,a=Error(F(419)),s=ia(a,s,void 0),Ss(e,t,l,s)}if(i=(l&e.childLanes)!==0,Ke||i){if(s=Te,s!==null){switch(l&-l){case 4:o=2;break;case 16:o=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:o=32;break;case 536870912:o=268435456;break;default:o=0}o=o&(s.suspendedLanes|l)?0:o,o!==0&&o!==a.retryLane&&(a.retryLane=o,Mt(e,o),wt(s,e,o,-1))}return oi(),s=ia(Error(F(421))),Ss(e,t,l,s)}return o.data==="$?"?(t.flags|=128,t.child=e.child,t=Qh.bind(null,e),o._reactRetry=t,null):(e=a.treeContext,st=tn(o.nextSibling),ot=t,fe=!0,vt=null,e!==null&&(ct[dt++]=Rt,ct[dt++]=Pt,ct[dt++]=bn,Rt=e.id,Pt=e.overflow,bn=t),t=Zl(t,s.children),t.flags|=4096,t)}function hc(e,t,n){e.lanes|=t;var s=e.alternate;s!==null&&(s.lanes|=t),Qa(e.return,t,n)}function ca(e,t,n,s,o){var a=e.memoizedState;a===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:s,tail:n,tailMode:o}:(a.isBackwards=t,a.rendering=null,a.renderingStartTime=0,a.last=s,a.tail=n,a.tailMode=o)}function Iu(e,t,n){var s=t.pendingProps,o=s.revealOrder,a=s.tail;if(We(e,t,s.children,n),s=ve.current,s&2)s=s&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&hc(e,n,t);else if(e.tag===19)hc(e,n,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}s&=1}if(de(ve,s),!(t.mode&1))t.memoizedState=null;else switch(o){case"forwards":for(n=t.child,o=null;n!==null;)e=n.alternate,e!==null&&ro(e)===null&&(o=n),n=n.sibling;n=o,n===null?(o=t.child,t.child=null):(o=n.sibling,n.sibling=null),ca(t,!1,o,n,a);break;case"backwards":for(n=null,o=t.child,t.child=null;o!==null;){if(e=o.alternate,e!==null&&ro(e)===null){t.child=o;break}e=o.sibling,o.sibling=n,n=o,o=e}ca(t,!0,n,null,a);break;case"together":ca(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Ms(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function Ft(e,t,n){if(e!==null&&(t.dependencies=e.dependencies),An|=t.lanes,!(n&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(F(153));if(t.child!==null){for(e=t.child,n=on(e,e.pendingProps),t.child=n,n.return=t;e.sibling!==null;)e=e.sibling,n=n.sibling=on(e,e.pendingProps),n.return=t;n.sibling=null}return t.child}function Th(e,t,n){switch(t.tag){case 3:Du(t),er();break;case 5:ru(t);break;case 1:Ze(t.type)&&Ks(t);break;case 4:Wl(t,t.stateNode.containerInfo);break;case 10:var s=t.type._context,o=t.memoizedProps.value;de(eo,s._currentValue),s._currentValue=o;break;case 13:if(s=t.memoizedState,s!==null)return s.dehydrated!==null?(de(ve,ve.current&1),t.flags|=128,null):n&t.child.childLanes?Ou(e,t,n):(de(ve,ve.current&1),e=Ft(e,t,n),e!==null?e.sibling:null);de(ve,ve.current&1);break;case 19:if(s=(n&t.childLanes)!==0,e.flags&128){if(s)return Iu(e,t,n);t.flags|=128}if(o=t.memoizedState,o!==null&&(o.rendering=null,o.tail=null,o.lastEffect=null),de(ve,ve.current),s)break;return null;case 22:case 23:return t.lanes=0,Au(e,t,n)}return Ft(e,t,n)}var Ru,tl,Pu,Lu;Ru=function(e,t){for(var n=t.child;n!==null;){if(n.tag===5||n.tag===6)e.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};tl=function(){};Pu=function(e,t,n,s){var o=e.memoizedProps;if(o!==s){e=t.stateNode,wn(kt.current);var a=null;switch(n){case"input":o=Sa(e,o),s=Sa(e,s),a=[];break;case"select":o=je({},o,{value:void 0}),s=je({},s,{value:void 0}),a=[];break;case"textarea":o=Ea(e,o),s=Ea(e,s),a=[];break;default:typeof o.onClick!="function"&&typeof s.onClick=="function"&&(e.onclick=qs)}ka(n,s);var l;n=null;for(d in o)if(!s.hasOwnProperty(d)&&o.hasOwnProperty(d)&&o[d]!=null)if(d==="style"){var i=o[d];for(l in i)i.hasOwnProperty(l)&&(n||(n={}),n[l]="")}else d!=="dangerouslySetInnerHTML"&&d!=="children"&&d!=="suppressContentEditableWarning"&&d!=="suppressHydrationWarning"&&d!=="autoFocus"&&(_r.hasOwnProperty(d)?a||(a=[]):(a=a||[]).push(d,null));for(d in s){var c=s[d];if(i=o!=null?o[d]:void 0,s.hasOwnProperty(d)&&c!==i&&(c!=null||i!=null))if(d==="style")if(i){for(l in i)!i.hasOwnProperty(l)||c&&c.hasOwnProperty(l)||(n||(n={}),n[l]="");for(l in c)c.hasOwnProperty(l)&&i[l]!==c[l]&&(n||(n={}),n[l]=c[l])}else n||(a||(a=[]),a.push(d,n)),n=c;else d==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,i=i?i.__html:void 0,c!=null&&i!==c&&(a=a||[]).push(d,c)):d==="children"?typeof c!="string"&&typeof c!="number"||(a=a||[]).push(d,""+c):d!=="suppressContentEditableWarning"&&d!=="suppressHydrationWarning"&&(_r.hasOwnProperty(d)?(c!=null&&d==="onScroll"&&ue("scroll",e),a||i===c||(a=[])):(a=a||[]).push(d,c))}n&&(a=a||[]).push("style",n);var d=a;(t.updateQueue=d)&&(t.flags|=4)}};Lu=function(e,t,n,s){n!==s&&(t.flags|=4)};function wr(e,t){if(!fe)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;t!==null;)t.alternate!==null&&(n=t),t=t.sibling;n===null?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var s=null;n!==null;)n.alternate!==null&&(s=n),n=n.sibling;s===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:s.sibling=null}}function Ge(e){var t=e.alternate!==null&&e.alternate.child===e.child,n=0,s=0;if(t)for(var o=e.child;o!==null;)n|=o.lanes|o.childLanes,s|=o.subtreeFlags&14680064,s|=o.flags&14680064,o.return=e,o=o.sibling;else for(o=e.child;o!==null;)n|=o.lanes|o.childLanes,s|=o.subtreeFlags,s|=o.flags,o.return=e,o=o.sibling;return e.subtreeFlags|=s,e.childLanes=n,t}function _h(e,t,n){var s=t.pendingProps;switch(Fl(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Ge(t),null;case 1:return Ze(t.type)&&Ys(),Ge(t),null;case 3:return s=t.stateNode,nr(),pe(Je),pe(Ue),Ql(),s.pendingContext&&(s.context=s.pendingContext,s.pendingContext=null),(e===null||e.child===null)&&(js(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,vt!==null&&(cl(vt),vt=null))),tl(e,t),Ge(t),null;case 5:Hl(t);var o=wn(Xr.current);if(n=t.type,e!==null&&t.stateNode!=null)Pu(e,t,n,s,o),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!s){if(t.stateNode===null)throw Error(F(166));return Ge(t),null}if(e=wn(kt.current),js(t)){s=t.stateNode,n=t.type;var a=t.memoizedProps;switch(s[Et]=t,s[Hr]=a,e=(t.mode&1)!==0,n){case"dialog":ue("cancel",s),ue("close",s);break;case"iframe":case"object":case"embed":ue("load",s);break;case"video":case"audio":for(o=0;o<br.length;o++)ue(br[o],s);break;case"source":ue("error",s);break;case"img":case"image":case"link":ue("error",s),ue("load",s);break;case"details":ue("toggle",s);break;case"input":Si(s,a),ue("invalid",s);break;case"select":s._wrapperState={wasMultiple:!!a.multiple},ue("invalid",s);break;case"textarea":bi(s,a),ue("invalid",s)}ka(n,a),o=null;for(var l in a)if(a.hasOwnProperty(l)){var i=a[l];l==="children"?typeof i=="string"?s.textContent!==i&&(a.suppressHydrationWarning!==!0&&ws(s.textContent,i,e),o=["children",i]):typeof i=="number"&&s.textContent!==""+i&&(a.suppressHydrationWarning!==!0&&ws(s.textContent,i,e),o=["children",""+i]):_r.hasOwnProperty(l)&&i!=null&&l==="onScroll"&&ue("scroll",s)}switch(n){case"input":ps(s),Ci(s,a,!0);break;case"textarea":ps(s),Ei(s);break;case"select":case"option":break;default:typeof a.onClick=="function"&&(s.onclick=qs)}s=o,t.updateQueue=s,s!==null&&(t.flags|=4)}else{l=o.nodeType===9?o:o.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=id(n)),e==="http://www.w3.org/1999/xhtml"?n==="script"?(e=l.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof s.is=="string"?e=l.createElement(n,{is:s.is}):(e=l.createElement(n),n==="select"&&(l=e,s.multiple?l.multiple=!0:s.size&&(l.size=s.size))):e=l.createElementNS(e,n),e[Et]=t,e[Hr]=s,Ru(e,t,!1,!1),t.stateNode=e;e:{switch(l=Da(n,s),n){case"dialog":ue("cancel",e),ue("close",e),o=s;break;case"iframe":case"object":case"embed":ue("load",e),o=s;break;case"video":case"audio":for(o=0;o<br.length;o++)ue(br[o],e);o=s;break;case"source":ue("error",e),o=s;break;case"img":case"image":case"link":ue("error",e),ue("load",e),o=s;break;case"details":ue("toggle",e),o=s;break;case"input":Si(e,s),o=Sa(e,s),ue("invalid",e);break;case"option":o=s;break;case"select":e._wrapperState={wasMultiple:!!s.multiple},o=je({},s,{value:void 0}),ue("invalid",e);break;case"textarea":bi(e,s),o=Ea(e,s),ue("invalid",e);break;default:o=s}ka(n,o),i=o;for(a in i)if(i.hasOwnProperty(a)){var c=i[a];a==="style"?ud(e,c):a==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,c!=null&&cd(e,c)):a==="children"?typeof c=="string"?(n!=="textarea"||c!=="")&&Mr(e,c):typeof c=="number"&&Mr(e,""+c):a!=="suppressContentEditableWarning"&&a!=="suppressHydrationWarning"&&a!=="autoFocus"&&(_r.hasOwnProperty(a)?c!=null&&a==="onScroll"&&ue("scroll",e):c!=null&&Sl(e,a,c,l))}switch(n){case"input":ps(e),Ci(e,s,!1);break;case"textarea":ps(e),Ei(e);break;case"option":s.value!=null&&e.setAttribute("value",""+ln(s.value));break;case"select":e.multiple=!!s.multiple,a=s.value,a!=null?Hn(e,!!s.multiple,a,!1):s.defaultValue!=null&&Hn(e,!!s.multiple,s.defaultValue,!0);break;default:typeof o.onClick=="function"&&(e.onclick=qs)}switch(n){case"button":case"input":case"select":case"textarea":s=!!s.autoFocus;break e;case"img":s=!0;break e;default:s=!1}}s&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return Ge(t),null;case 6:if(e&&t.stateNode!=null)Lu(e,t,e.memoizedProps,s);else{if(typeof s!="string"&&t.stateNode===null)throw Error(F(166));if(n=wn(Xr.current),wn(kt.current),js(t)){if(s=t.stateNode,n=t.memoizedProps,s[Et]=t,(a=s.nodeValue!==n)&&(e=ot,e!==null))switch(e.tag){case 3:ws(s.nodeValue,n,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&ws(s.nodeValue,n,(e.mode&1)!==0)}a&&(t.flags|=4)}else s=(n.nodeType===9?n:n.ownerDocument).createTextNode(s),s[Et]=t,t.stateNode=s}return Ge(t),null;case 13:if(pe(ve),s=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(fe&&st!==null&&t.mode&1&&!(t.flags&128))Jd(),er(),t.flags|=98560,a=!1;else if(a=js(t),s!==null&&s.dehydrated!==null){if(e===null){if(!a)throw Error(F(318));if(a=t.memoizedState,a=a!==null?a.dehydrated:null,!a)throw Error(F(317));a[Et]=t}else er(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;Ge(t),a=!1}else vt!==null&&(cl(vt),vt=null),a=!0;if(!a)return t.flags&65536?t:null}return t.flags&128?(t.lanes=n,t):(s=s!==null,s!==(e!==null&&e.memoizedState!==null)&&s&&(t.child.flags|=8192,t.mode&1&&(e===null||ve.current&1?Pe===0&&(Pe=3):oi())),t.updateQueue!==null&&(t.flags|=4),Ge(t),null);case 4:return nr(),tl(e,t),e===null&&Ur(t.stateNode.containerInfo),Ge(t),null;case 10:return Bl(t.type._context),Ge(t),null;case 17:return Ze(t.type)&&Ys(),Ge(t),null;case 19:if(pe(ve),a=t.memoizedState,a===null)return Ge(t),null;if(s=(t.flags&128)!==0,l=a.rendering,l===null)if(s)wr(a,!1);else{if(Pe!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(l=ro(e),l!==null){for(t.flags|=128,wr(a,!1),s=l.updateQueue,s!==null&&(t.updateQueue=s,t.flags|=4),t.subtreeFlags=0,s=n,n=t.child;n!==null;)a=n,e=s,a.flags&=14680066,l=a.alternate,l===null?(a.childLanes=0,a.lanes=e,a.child=null,a.subtreeFlags=0,a.memoizedProps=null,a.memoizedState=null,a.updateQueue=null,a.dependencies=null,a.stateNode=null):(a.childLanes=l.childLanes,a.lanes=l.lanes,a.child=l.child,a.subtreeFlags=0,a.deletions=null,a.memoizedProps=l.memoizedProps,a.memoizedState=l.memoizedState,a.updateQueue=l.updateQueue,a.type=l.type,e=l.dependencies,a.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return de(ve,ve.current&1|2),t.child}e=e.sibling}a.tail!==null&&Ee()>sr&&(t.flags|=128,s=!0,wr(a,!1),t.lanes=4194304)}else{if(!s)if(e=ro(l),e!==null){if(t.flags|=128,s=!0,n=e.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),wr(a,!0),a.tail===null&&a.tailMode==="hidden"&&!l.alternate&&!fe)return Ge(t),null}else 2*Ee()-a.renderingStartTime>sr&&n!==1073741824&&(t.flags|=128,s=!0,wr(a,!1),t.lanes=4194304);a.isBackwards?(l.sibling=t.child,t.child=l):(n=a.last,n!==null?n.sibling=l:t.child=l,a.last=l)}return a.tail!==null?(t=a.tail,a.rendering=t,a.tail=t.sibling,a.renderingStartTime=Ee(),t.sibling=null,n=ve.current,de(ve,s?n&1|2:n&1),t):(Ge(t),null);case 22:case 23:return si(),s=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==s&&(t.flags|=8192),s&&t.mode&1?rt&1073741824&&(Ge(t),t.subtreeFlags&6&&(t.flags|=8192)):Ge(t),null;case 24:return null;case 25:return null}throw Error(F(156,t.tag))}function Mh(e,t){switch(Fl(t),t.tag){case 1:return Ze(t.type)&&Ys(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return nr(),pe(Je),pe(Ue),Ql(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return Hl(t),null;case 13:if(pe(ve),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(F(340));er()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return pe(ve),null;case 4:return nr(),null;case 10:return Bl(t.type._context),null;case 22:case 23:return si(),null;case 24:return null;default:return null}}var Cs=!1,Ve=!1,Fh=typeof WeakSet=="function"?WeakSet:Set,W=null;function Un(e,t){var n=e.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(s){Ne(e,t,s)}else n.current=null}function nl(e,t,n){try{n()}catch(s){Ne(e,t,s)}}var fc=!1;function $h(e,t){if($a=Hs,e=$d(),_l(e)){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{n=(n=e.ownerDocument)&&n.defaultView||window;var s=n.getSelection&&n.getSelection();if(s&&s.rangeCount!==0){n=s.anchorNode;var o=s.anchorOffset,a=s.focusNode;s=s.focusOffset;try{n.nodeType,a.nodeType}catch{n=null;break e}var l=0,i=-1,c=-1,d=0,x=0,p=e,u=null;t:for(;;){for(var v;p!==n||o!==0&&p.nodeType!==3||(i=l+o),p!==a||s!==0&&p.nodeType!==3||(c=l+s),p.nodeType===3&&(l+=p.nodeValue.length),(v=p.firstChild)!==null;)u=p,p=v;for(;;){if(p===e)break t;if(u===n&&++d===o&&(i=l),u===a&&++x===s&&(c=l),(v=p.nextSibling)!==null)break;p=u,u=p.parentNode}p=v}n=i===-1||c===-1?null:{start:i,end:c}}else n=null}n=n||{start:0,end:0}}else n=null;for(za={focusedElem:e,selectionRange:n},Hs=!1,W=t;W!==null;)if(t=W,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,W=e;else for(;W!==null;){t=W;try{var y=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(y!==null){var j=y.memoizedProps,S=y.memoizedState,m=t.stateNode,h=m.getSnapshotBeforeUpdate(t.elementType===t.type?j:xt(t.type,j),S);m.__reactInternalSnapshotBeforeUpdate=h}break;case 3:var g=t.stateNode.containerInfo;g.nodeType===1?g.textContent="":g.nodeType===9&&g.documentElement&&g.removeChild(g.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(F(163))}}catch(N){Ne(t,t.return,N)}if(e=t.sibling,e!==null){e.return=t.return,W=e;break}W=t.return}return y=fc,fc=!1,y}function Rr(e,t,n){var s=t.updateQueue;if(s=s!==null?s.lastEffect:null,s!==null){var o=s=s.next;do{if((o.tag&e)===e){var a=o.destroy;o.destroy=void 0,a!==void 0&&nl(t,n,a)}o=o.next}while(o!==s)}}function Co(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var n=t=t.next;do{if((n.tag&e)===e){var s=n.create;n.destroy=s()}n=n.next}while(n!==t)}}function rl(e){var t=e.ref;if(t!==null){var n=e.stateNode;switch(e.tag){case 5:e=n;break;default:e=n}typeof t=="function"?t(e):t.current=e}}function Tu(e){var t=e.alternate;t!==null&&(e.alternate=null,Tu(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[Et],delete t[Hr],delete t[Va],delete t[jh],delete t[Nh])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function _u(e){return e.tag===5||e.tag===3||e.tag===4}function xc(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||_u(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function sl(e,t,n){var s=e.tag;if(s===5||s===6)e=e.stateNode,t?n.nodeType===8?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(n.nodeType===8?(t=n.parentNode,t.insertBefore(e,n)):(t=n,t.appendChild(e)),n=n._reactRootContainer,n!=null||t.onclick!==null||(t.onclick=qs));else if(s!==4&&(e=e.child,e!==null))for(sl(e,t,n),e=e.sibling;e!==null;)sl(e,t,n),e=e.sibling}function ol(e,t,n){var s=e.tag;if(s===5||s===6)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(s!==4&&(e=e.child,e!==null))for(ol(e,t,n),e=e.sibling;e!==null;)ol(e,t,n),e=e.sibling}var Me=null,gt=!1;function Bt(e,t,n){for(n=n.child;n!==null;)Mu(e,t,n),n=n.sibling}function Mu(e,t,n){if(At&&typeof At.onCommitFiberUnmount=="function")try{At.onCommitFiberUnmount(xo,n)}catch{}switch(n.tag){case 5:Ve||Un(n,t);case 6:var s=Me,o=gt;Me=null,Bt(e,t,n),Me=s,gt=o,Me!==null&&(gt?(e=Me,n=n.stateNode,e.nodeType===8?e.parentNode.removeChild(n):e.removeChild(n)):Me.removeChild(n.stateNode));break;case 18:Me!==null&&(gt?(e=Me,n=n.stateNode,e.nodeType===8?na(e.parentNode,n):e.nodeType===1&&na(e,n),Gr(e)):na(Me,n.stateNode));break;case 4:s=Me,o=gt,Me=n.stateNode.containerInfo,gt=!0,Bt(e,t,n),Me=s,gt=o;break;case 0:case 11:case 14:case 15:if(!Ve&&(s=n.updateQueue,s!==null&&(s=s.lastEffect,s!==null))){o=s=s.next;do{var a=o,l=a.destroy;a=a.tag,l!==void 0&&(a&2||a&4)&&nl(n,t,l),o=o.next}while(o!==s)}Bt(e,t,n);break;case 1:if(!Ve&&(Un(n,t),s=n.stateNode,typeof s.componentWillUnmount=="function"))try{s.props=n.memoizedProps,s.state=n.memoizedState,s.componentWillUnmount()}catch(i){Ne(n,t,i)}Bt(e,t,n);break;case 21:Bt(e,t,n);break;case 22:n.mode&1?(Ve=(s=Ve)||n.memoizedState!==null,Bt(e,t,n),Ve=s):Bt(e,t,n);break;default:Bt(e,t,n)}}function gc(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var n=e.stateNode;n===null&&(n=e.stateNode=new Fh),t.forEach(function(s){var o=Xh.bind(null,e,s);n.has(s)||(n.add(s),s.then(o,o))})}}function ft(e,t){var n=t.deletions;if(n!==null)for(var s=0;s<n.length;s++){var o=n[s];try{var a=e,l=t,i=l;e:for(;i!==null;){switch(i.tag){case 5:Me=i.stateNode,gt=!1;break e;case 3:Me=i.stateNode.containerInfo,gt=!0;break e;case 4:Me=i.stateNode.containerInfo,gt=!0;break e}i=i.return}if(Me===null)throw Error(F(160));Mu(a,l,o),Me=null,gt=!1;var c=o.alternate;c!==null&&(c.return=null),o.return=null}catch(d){Ne(o,t,d)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)Fu(t,e),t=t.sibling}function Fu(e,t){var n=e.alternate,s=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(ft(t,e),St(e),s&4){try{Rr(3,e,e.return),Co(3,e)}catch(j){Ne(e,e.return,j)}try{Rr(5,e,e.return)}catch(j){Ne(e,e.return,j)}}break;case 1:ft(t,e),St(e),s&512&&n!==null&&Un(n,n.return);break;case 5:if(ft(t,e),St(e),s&512&&n!==null&&Un(n,n.return),e.flags&32){var o=e.stateNode;try{Mr(o,"")}catch(j){Ne(e,e.return,j)}}if(s&4&&(o=e.stateNode,o!=null)){var a=e.memoizedProps,l=n!==null?n.memoizedProps:a,i=e.type,c=e.updateQueue;if(e.updateQueue=null,c!==null)try{i==="input"&&a.type==="radio"&&a.name!=null&&ad(o,a),Da(i,l);var d=Da(i,a);for(l=0;l<c.length;l+=2){var x=c[l],p=c[l+1];x==="style"?ud(o,p):x==="dangerouslySetInnerHTML"?cd(o,p):x==="children"?Mr(o,p):Sl(o,x,p,d)}switch(i){case"input":Ca(o,a);break;case"textarea":ld(o,a);break;case"select":var u=o._wrapperState.wasMultiple;o._wrapperState.wasMultiple=!!a.multiple;var v=a.value;v!=null?Hn(o,!!a.multiple,v,!1):u!==!!a.multiple&&(a.defaultValue!=null?Hn(o,!!a.multiple,a.defaultValue,!0):Hn(o,!!a.multiple,a.multiple?[]:"",!1))}o[Hr]=a}catch(j){Ne(e,e.return,j)}}break;case 6:if(ft(t,e),St(e),s&4){if(e.stateNode===null)throw Error(F(162));o=e.stateNode,a=e.memoizedProps;try{o.nodeValue=a}catch(j){Ne(e,e.return,j)}}break;case 3:if(ft(t,e),St(e),s&4&&n!==null&&n.memoizedState.isDehydrated)try{Gr(t.containerInfo)}catch(j){Ne(e,e.return,j)}break;case 4:ft(t,e),St(e);break;case 13:ft(t,e),St(e),o=e.child,o.flags&8192&&(a=o.memoizedState!==null,o.stateNode.isHidden=a,!a||o.alternate!==null&&o.alternate.memoizedState!==null||(ni=Ee())),s&4&&gc(e);break;case 22:if(x=n!==null&&n.memoizedState!==null,e.mode&1?(Ve=(d=Ve)||x,ft(t,e),Ve=d):ft(t,e),St(e),s&8192){if(d=e.memoizedState!==null,(e.stateNode.isHidden=d)&&!x&&e.mode&1)for(W=e,x=e.child;x!==null;){for(p=W=x;W!==null;){switch(u=W,v=u.child,u.tag){case 0:case 11:case 14:case 15:Rr(4,u,u.return);break;case 1:Un(u,u.return);var y=u.stateNode;if(typeof y.componentWillUnmount=="function"){s=u,n=u.return;try{t=s,y.props=t.memoizedProps,y.state=t.memoizedState,y.componentWillUnmount()}catch(j){Ne(s,n,j)}}break;case 5:Un(u,u.return);break;case 22:if(u.memoizedState!==null){yc(p);continue}}v!==null?(v.return=u,W=v):yc(p)}x=x.sibling}e:for(x=null,p=e;;){if(p.tag===5){if(x===null){x=p;try{o=p.stateNode,d?(a=o.style,typeof a.setProperty=="function"?a.setProperty("display","none","important"):a.display="none"):(i=p.stateNode,c=p.memoizedProps.style,l=c!=null&&c.hasOwnProperty("display")?c.display:null,i.style.display=dd("display",l))}catch(j){Ne(e,e.return,j)}}}else if(p.tag===6){if(x===null)try{p.stateNode.nodeValue=d?"":p.memoizedProps}catch(j){Ne(e,e.return,j)}}else if((p.tag!==22&&p.tag!==23||p.memoizedState===null||p===e)&&p.child!==null){p.child.return=p,p=p.child;continue}if(p===e)break e;for(;p.sibling===null;){if(p.return===null||p.return===e)break e;x===p&&(x=null),p=p.return}x===p&&(x=null),p.sibling.return=p.return,p=p.sibling}}break;case 19:ft(t,e),St(e),s&4&&gc(e);break;case 21:break;default:ft(t,e),St(e)}}function St(e){var t=e.flags;if(t&2){try{e:{for(var n=e.return;n!==null;){if(_u(n)){var s=n;break e}n=n.return}throw Error(F(160))}switch(s.tag){case 5:var o=s.stateNode;s.flags&32&&(Mr(o,""),s.flags&=-33);var a=xc(e);ol(e,a,o);break;case 3:case 4:var l=s.stateNode.containerInfo,i=xc(e);sl(e,i,l);break;default:throw Error(F(161))}}catch(c){Ne(e,e.return,c)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function zh(e,t,n){W=e,$u(e)}function $u(e,t,n){for(var s=(e.mode&1)!==0;W!==null;){var o=W,a=o.child;if(o.tag===22&&s){var l=o.memoizedState!==null||Cs;if(!l){var i=o.alternate,c=i!==null&&i.memoizedState!==null||Ve;i=Cs;var d=Ve;if(Cs=l,(Ve=c)&&!d)for(W=o;W!==null;)l=W,c=l.child,l.tag===22&&l.memoizedState!==null?wc(o):c!==null?(c.return=l,W=c):wc(o);for(;a!==null;)W=a,$u(a),a=a.sibling;W=o,Cs=i,Ve=d}vc(e)}else o.subtreeFlags&8772&&a!==null?(a.return=o,W=a):vc(e)}}function vc(e){for(;W!==null;){var t=W;if(t.flags&8772){var n=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:Ve||Co(5,t);break;case 1:var s=t.stateNode;if(t.flags&4&&!Ve)if(n===null)s.componentDidMount();else{var o=t.elementType===t.type?n.memoizedProps:xt(t.type,n.memoizedProps);s.componentDidUpdate(o,n.memoizedState,s.__reactInternalSnapshotBeforeUpdate)}var a=t.updateQueue;a!==null&&nc(t,a,s);break;case 3:var l=t.updateQueue;if(l!==null){if(n=null,t.child!==null)switch(t.child.tag){case 5:n=t.child.stateNode;break;case 1:n=t.child.stateNode}nc(t,l,n)}break;case 5:var i=t.stateNode;if(n===null&&t.flags&4){n=i;var c=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&n.focus();break;case"img":c.src&&(n.src=c.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var d=t.alternate;if(d!==null){var x=d.memoizedState;if(x!==null){var p=x.dehydrated;p!==null&&Gr(p)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(F(163))}Ve||t.flags&512&&rl(t)}catch(u){Ne(t,t.return,u)}}if(t===e){W=null;break}if(n=t.sibling,n!==null){n.return=t.return,W=n;break}W=t.return}}function yc(e){for(;W!==null;){var t=W;if(t===e){W=null;break}var n=t.sibling;if(n!==null){n.return=t.return,W=n;break}W=t.return}}function wc(e){for(;W!==null;){var t=W;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{Co(4,t)}catch(c){Ne(t,n,c)}break;case 1:var s=t.stateNode;if(typeof s.componentDidMount=="function"){var o=t.return;try{s.componentDidMount()}catch(c){Ne(t,o,c)}}var a=t.return;try{rl(t)}catch(c){Ne(t,a,c)}break;case 5:var l=t.return;try{rl(t)}catch(c){Ne(t,l,c)}}}catch(c){Ne(t,t.return,c)}if(t===e){W=null;break}var i=t.sibling;if(i!==null){i.return=t.return,W=i;break}W=t.return}}var Gh=Math.ceil,ao=$t.ReactCurrentDispatcher,ei=$t.ReactCurrentOwner,pt=$t.ReactCurrentBatchConfig,re=0,Te=null,De=null,Fe=0,rt=0,Wn=un(0),Pe=0,Jr=null,An=0,bo=0,ti=0,Pr=null,Ye=null,ni=0,sr=1/0,Ot=null,lo=!1,al=null,rn=null,bs=!1,Yt=null,io=0,Lr=0,ll=null,Fs=-1,$s=0;function He(){return re&6?Ee():Fs!==-1?Fs:Fs=Ee()}function sn(e){return e.mode&1?re&2&&Fe!==0?Fe&-Fe:Ch.transition!==null?($s===0&&($s=Sd()),$s):(e=se,e!==0||(e=window.event,e=e===void 0?16:Od(e.type)),e):1}function wt(e,t,n,s){if(50<Lr)throw Lr=0,ll=null,Error(F(185));ns(e,n,s),(!(re&2)||e!==Te)&&(e===Te&&(!(re&2)&&(bo|=n),Pe===4&&Xt(e,Fe)),et(e,s),n===1&&re===0&&!(t.mode&1)&&(sr=Ee()+500,jo&&pn()))}function et(e,t){var n=e.callbackNode;Cm(e,t);var s=Ws(e,e===Te?Fe:0);if(s===0)n!==null&&Di(n),e.callbackNode=null,e.callbackPriority=0;else if(t=s&-s,e.callbackPriority!==t){if(n!=null&&Di(n),t===1)e.tag===0?Sh(jc.bind(null,e)):qd(jc.bind(null,e)),yh(function(){!(re&6)&&pn()}),n=null;else{switch(Cd(s)){case 1:n=kl;break;case 4:n=jd;break;case 16:n=Us;break;case 536870912:n=Nd;break;default:n=Us}n=Qu(n,zu.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function zu(e,t){if(Fs=-1,$s=0,re&6)throw Error(F(327));var n=e.callbackNode;if(Kn()&&e.callbackNode!==n)return null;var s=Ws(e,e===Te?Fe:0);if(s===0)return null;if(s&30||s&e.expiredLanes||t)t=co(e,s);else{t=s;var o=re;re|=2;var a=Bu();(Te!==e||Fe!==t)&&(Ot=null,sr=Ee()+500,jn(e,t));do try{Uh();break}catch(i){Gu(e,i)}while(!0);Gl(),ao.current=a,re=o,De!==null?t=0:(Te=null,Fe=0,t=Pe)}if(t!==0){if(t===2&&(o=La(e),o!==0&&(s=o,t=il(e,o))),t===1)throw n=Jr,jn(e,0),Xt(e,s),et(e,Ee()),n;if(t===6)Xt(e,s);else{if(o=e.current.alternate,!(s&30)&&!Bh(o)&&(t=co(e,s),t===2&&(a=La(e),a!==0&&(s=a,t=il(e,a))),t===1))throw n=Jr,jn(e,0),Xt(e,s),et(e,Ee()),n;switch(e.finishedWork=o,e.finishedLanes=s,t){case 0:case 1:throw Error(F(345));case 2:gn(e,Ye,Ot);break;case 3:if(Xt(e,s),(s&130023424)===s&&(t=ni+500-Ee(),10<t)){if(Ws(e,0)!==0)break;if(o=e.suspendedLanes,(o&s)!==s){He(),e.pingedLanes|=e.suspendedLanes&o;break}e.timeoutHandle=Ba(gn.bind(null,e,Ye,Ot),t);break}gn(e,Ye,Ot);break;case 4:if(Xt(e,s),(s&4194240)===s)break;for(t=e.eventTimes,o=-1;0<s;){var l=31-yt(s);a=1<<l,l=t[l],l>o&&(o=l),s&=~a}if(s=o,s=Ee()-s,s=(120>s?120:480>s?480:1080>s?1080:1920>s?1920:3e3>s?3e3:4320>s?4320:1960*Gh(s/1960))-s,10<s){e.timeoutHandle=Ba(gn.bind(null,e,Ye,Ot),s);break}gn(e,Ye,Ot);break;case 5:gn(e,Ye,Ot);break;default:throw Error(F(329))}}}return et(e,Ee()),e.callbackNode===n?zu.bind(null,e):null}function il(e,t){var n=Pr;return e.current.memoizedState.isDehydrated&&(jn(e,t).flags|=256),e=co(e,t),e!==2&&(t=Ye,Ye=n,t!==null&&cl(t)),e}function cl(e){Ye===null?Ye=e:Ye.push.apply(Ye,e)}function Bh(e){for(var t=e;;){if(t.flags&16384){var n=t.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var s=0;s<n.length;s++){var o=n[s],a=o.getSnapshot;o=o.value;try{if(!jt(a(),o))return!1}catch{return!1}}}if(n=t.child,t.subtreeFlags&16384&&n!==null)n.return=t,t=n;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function Xt(e,t){for(t&=~ti,t&=~bo,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-yt(t),s=1<<n;e[n]=-1,t&=~s}}function jc(e){if(re&6)throw Error(F(327));Kn();var t=Ws(e,0);if(!(t&1))return et(e,Ee()),null;var n=co(e,t);if(e.tag!==0&&n===2){var s=La(e);s!==0&&(t=s,n=il(e,s))}if(n===1)throw n=Jr,jn(e,0),Xt(e,t),et(e,Ee()),n;if(n===6)throw Error(F(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,gn(e,Ye,Ot),et(e,Ee()),null}function ri(e,t){var n=re;re|=1;try{return e(t)}finally{re=n,re===0&&(sr=Ee()+500,jo&&pn())}}function kn(e){Yt!==null&&Yt.tag===0&&!(re&6)&&Kn();var t=re;re|=1;var n=pt.transition,s=se;try{if(pt.transition=null,se=1,e)return e()}finally{se=s,pt.transition=n,re=t,!(re&6)&&pn()}}function si(){rt=Wn.current,pe(Wn)}function jn(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(n!==-1&&(e.timeoutHandle=-1,vh(n)),De!==null)for(n=De.return;n!==null;){var s=n;switch(Fl(s),s.tag){case 1:s=s.type.childContextTypes,s!=null&&Ys();break;case 3:nr(),pe(Je),pe(Ue),Ql();break;case 5:Hl(s);break;case 4:nr();break;case 13:pe(ve);break;case 19:pe(ve);break;case 10:Bl(s.type._context);break;case 22:case 23:si()}n=n.return}if(Te=e,De=e=on(e.current,null),Fe=rt=t,Pe=0,Jr=null,ti=bo=An=0,Ye=Pr=null,yn!==null){for(t=0;t<yn.length;t++)if(n=yn[t],s=n.interleaved,s!==null){n.interleaved=null;var o=s.next,a=n.pending;if(a!==null){var l=a.next;a.next=o,s.next=l}n.pending=s}yn=null}return e}function Gu(e,t){do{var n=De;try{if(Gl(),Ts.current=oo,so){for(var s=ye.memoizedState;s!==null;){var o=s.queue;o!==null&&(o.pending=null),s=s.next}so=!1}if(En=0,Le=Re=ye=null,Ir=!1,qr=0,ei.current=null,n===null||n.return===null){Pe=1,Jr=t,De=null;break}e:{var a=e,l=n.return,i=n,c=t;if(t=Fe,i.flags|=32768,c!==null&&typeof c=="object"&&typeof c.then=="function"){var d=c,x=i,p=x.tag;if(!(x.mode&1)&&(p===0||p===11||p===15)){var u=x.alternate;u?(x.updateQueue=u.updateQueue,x.memoizedState=u.memoizedState,x.lanes=u.lanes):(x.updateQueue=null,x.memoizedState=null)}var v=ic(l);if(v!==null){v.flags&=-257,cc(v,l,i,a,t),v.mode&1&&lc(a,d,t),t=v,c=d;var y=t.updateQueue;if(y===null){var j=new Set;j.add(c),t.updateQueue=j}else y.add(c);break e}else{if(!(t&1)){lc(a,d,t),oi();break e}c=Error(F(426))}}else if(fe&&i.mode&1){var S=ic(l);if(S!==null){!(S.flags&65536)&&(S.flags|=256),cc(S,l,i,a,t),$l(rr(c,i));break e}}a=c=rr(c,i),Pe!==4&&(Pe=2),Pr===null?Pr=[a]:Pr.push(a),a=l;do{switch(a.tag){case 3:a.flags|=65536,t&=-t,a.lanes|=t;var m=Cu(a,c,t);tc(a,m);break e;case 1:i=c;var h=a.type,g=a.stateNode;if(!(a.flags&128)&&(typeof h.getDerivedStateFromError=="function"||g!==null&&typeof g.componentDidCatch=="function"&&(rn===null||!rn.has(g)))){a.flags|=65536,t&=-t,a.lanes|=t;var N=bu(a,i,t);tc(a,N);break e}}a=a.return}while(a!==null)}Uu(n)}catch(D){t=D,De===n&&n!==null&&(De=n=n.return);continue}break}while(!0)}function Bu(){var e=ao.current;return ao.current=oo,e===null?oo:e}function oi(){(Pe===0||Pe===3||Pe===2)&&(Pe=4),Te===null||!(An&268435455)&&!(bo&268435455)||Xt(Te,Fe)}function co(e,t){var n=re;re|=2;var s=Bu();(Te!==e||Fe!==t)&&(Ot=null,jn(e,t));do try{Vh();break}catch(o){Gu(e,o)}while(!0);if(Gl(),re=n,ao.current=s,De!==null)throw Error(F(261));return Te=null,Fe=0,Pe}function Vh(){for(;De!==null;)Vu(De)}function Uh(){for(;De!==null&&!fm();)Vu(De)}function Vu(e){var t=Hu(e.alternate,e,rt);e.memoizedProps=e.pendingProps,t===null?Uu(e):De=t,ei.current=null}function Uu(e){var t=e;do{var n=t.alternate;if(e=t.return,t.flags&32768){if(n=Mh(n,t),n!==null){n.flags&=32767,De=n;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{Pe=6,De=null;return}}else if(n=_h(n,t,rt),n!==null){De=n;return}if(t=t.sibling,t!==null){De=t;return}De=t=e}while(t!==null);Pe===0&&(Pe=5)}function gn(e,t,n){var s=se,o=pt.transition;try{pt.transition=null,se=1,Wh(e,t,n,s)}finally{pt.transition=o,se=s}return null}function Wh(e,t,n,s){do Kn();while(Yt!==null);if(re&6)throw Error(F(327));n=e.finishedWork;var o=e.finishedLanes;if(n===null)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(F(177));e.callbackNode=null,e.callbackPriority=0;var a=n.lanes|n.childLanes;if(bm(e,a),e===Te&&(De=Te=null,Fe=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||bs||(bs=!0,Qu(Us,function(){return Kn(),null})),a=(n.flags&15990)!==0,n.subtreeFlags&15990||a){a=pt.transition,pt.transition=null;var l=se;se=1;var i=re;re|=4,ei.current=null,$h(e,n),Fu(n,e),uh(za),Hs=!!$a,za=$a=null,e.current=n,zh(n),xm(),re=i,se=l,pt.transition=a}else e.current=n;if(bs&&(bs=!1,Yt=e,io=o),a=e.pendingLanes,a===0&&(rn=null),ym(n.stateNode),et(e,Ee()),t!==null)for(s=e.onRecoverableError,n=0;n<t.length;n++)o=t[n],s(o.value,{componentStack:o.stack,digest:o.digest});if(lo)throw lo=!1,e=al,al=null,e;return io&1&&e.tag!==0&&Kn(),a=e.pendingLanes,a&1?e===ll?Lr++:(Lr=0,ll=e):Lr=0,pn(),null}function Kn(){if(Yt!==null){var e=Cd(io),t=pt.transition,n=se;try{if(pt.transition=null,se=16>e?16:e,Yt===null)var s=!1;else{if(e=Yt,Yt=null,io=0,re&6)throw Error(F(331));var o=re;for(re|=4,W=e.current;W!==null;){var a=W,l=a.child;if(W.flags&16){var i=a.deletions;if(i!==null){for(var c=0;c<i.length;c++){var d=i[c];for(W=d;W!==null;){var x=W;switch(x.tag){case 0:case 11:case 15:Rr(8,x,a)}var p=x.child;if(p!==null)p.return=x,W=p;else for(;W!==null;){x=W;var u=x.sibling,v=x.return;if(Tu(x),x===d){W=null;break}if(u!==null){u.return=v,W=u;break}W=v}}}var y=a.alternate;if(y!==null){var j=y.child;if(j!==null){y.child=null;do{var S=j.sibling;j.sibling=null,j=S}while(j!==null)}}W=a}}if(a.subtreeFlags&2064&&l!==null)l.return=a,W=l;else e:for(;W!==null;){if(a=W,a.flags&2048)switch(a.tag){case 0:case 11:case 15:Rr(9,a,a.return)}var m=a.sibling;if(m!==null){m.return=a.return,W=m;break e}W=a.return}}var h=e.current;for(W=h;W!==null;){l=W;var g=l.child;if(l.subtreeFlags&2064&&g!==null)g.return=l,W=g;else e:for(l=h;W!==null;){if(i=W,i.flags&2048)try{switch(i.tag){case 0:case 11:case 15:Co(9,i)}}catch(D){Ne(i,i.return,D)}if(i===l){W=null;break e}var N=i.sibling;if(N!==null){N.return=i.return,W=N;break e}W=i.return}}if(re=o,pn(),At&&typeof At.onPostCommitFiberRoot=="function")try{At.onPostCommitFiberRoot(xo,e)}catch{}s=!0}return s}finally{se=n,pt.transition=t}}return!1}function Nc(e,t,n){t=rr(n,t),t=Cu(e,t,1),e=nn(e,t,1),t=He(),e!==null&&(ns(e,1,t),et(e,t))}function Ne(e,t,n){if(e.tag===3)Nc(e,e,n);else for(;t!==null;){if(t.tag===3){Nc(t,e,n);break}else if(t.tag===1){var s=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof s.componentDidCatch=="function"&&(rn===null||!rn.has(s))){e=rr(n,e),e=bu(t,e,1),t=nn(t,e,1),e=He(),t!==null&&(ns(t,1,e),et(t,e));break}}t=t.return}}function Hh(e,t,n){var s=e.pingCache;s!==null&&s.delete(t),t=He(),e.pingedLanes|=e.suspendedLanes&n,Te===e&&(Fe&n)===n&&(Pe===4||Pe===3&&(Fe&130023424)===Fe&&500>Ee()-ni?jn(e,0):ti|=n),et(e,t)}function Wu(e,t){t===0&&(e.mode&1?(t=fs,fs<<=1,!(fs&130023424)&&(fs=4194304)):t=1);var n=He();e=Mt(e,t),e!==null&&(ns(e,t,n),et(e,n))}function Qh(e){var t=e.memoizedState,n=0;t!==null&&(n=t.retryLane),Wu(e,n)}function Xh(e,t){var n=0;switch(e.tag){case 13:var s=e.stateNode,o=e.memoizedState;o!==null&&(n=o.retryLane);break;case 19:s=e.stateNode;break;default:throw Error(F(314))}s!==null&&s.delete(t),Wu(e,n)}var Hu;Hu=function(e,t,n){if(e!==null)if(e.memoizedProps!==t.pendingProps||Je.current)Ke=!0;else{if(!(e.lanes&n)&&!(t.flags&128))return Ke=!1,Th(e,t,n);Ke=!!(e.flags&131072)}else Ke=!1,fe&&t.flags&1048576&&Yd(t,Zs,t.index);switch(t.lanes=0,t.tag){case 2:var s=t.type;Ms(e,t),e=t.pendingProps;var o=Zn(t,Ue.current);Yn(t,n),o=ql(null,t,s,e,o,n);var a=Yl();return t.flags|=1,typeof o=="object"&&o!==null&&typeof o.render=="function"&&o.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Ze(s)?(a=!0,Ks(t)):a=!1,t.memoizedState=o.state!==null&&o.state!==void 0?o.state:null,Ul(t),o.updater=So,t.stateNode=o,o._reactInternals=t,qa(t,s,e,n),t=Ja(null,t,s,!0,a,n)):(t.tag=0,fe&&a&&Ml(t),We(null,t,o,n),t=t.child),t;case 16:s=t.elementType;e:{switch(Ms(e,t),e=t.pendingProps,o=s._init,s=o(s._payload),t.type=s,o=t.tag=Yh(s),e=xt(s,e),o){case 0:t=Ka(null,t,s,e,n);break e;case 1:t=pc(null,t,s,e,n);break e;case 11:t=dc(null,t,s,e,n);break e;case 14:t=uc(null,t,s,xt(s.type,e),n);break e}throw Error(F(306,s,""))}return t;case 0:return s=t.type,o=t.pendingProps,o=t.elementType===s?o:xt(s,o),Ka(e,t,s,o,n);case 1:return s=t.type,o=t.pendingProps,o=t.elementType===s?o:xt(s,o),pc(e,t,s,o,n);case 3:e:{if(Du(t),e===null)throw Error(F(387));s=t.pendingProps,a=t.memoizedState,o=a.element,nu(e,t),no(t,s,null,n);var l=t.memoizedState;if(s=l.element,a.isDehydrated)if(a={element:s,isDehydrated:!1,cache:l.cache,pendingSuspenseBoundaries:l.pendingSuspenseBoundaries,transitions:l.transitions},t.updateQueue.baseState=a,t.memoizedState=a,t.flags&256){o=rr(Error(F(423)),t),t=mc(e,t,s,n,o);break e}else if(s!==o){o=rr(Error(F(424)),t),t=mc(e,t,s,n,o);break e}else for(st=tn(t.stateNode.containerInfo.firstChild),ot=t,fe=!0,vt=null,n=eu(t,null,s,n),t.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(er(),s===o){t=Ft(e,t,n);break e}We(e,t,s,n)}t=t.child}return t;case 5:return ru(t),e===null&&Ha(t),s=t.type,o=t.pendingProps,a=e!==null?e.memoizedProps:null,l=o.children,Ga(s,o)?l=null:a!==null&&Ga(s,a)&&(t.flags|=32),ku(e,t),We(e,t,l,n),t.child;case 6:return e===null&&Ha(t),null;case 13:return Ou(e,t,n);case 4:return Wl(t,t.stateNode.containerInfo),s=t.pendingProps,e===null?t.child=tr(t,null,s,n):We(e,t,s,n),t.child;case 11:return s=t.type,o=t.pendingProps,o=t.elementType===s?o:xt(s,o),dc(e,t,s,o,n);case 7:return We(e,t,t.pendingProps,n),t.child;case 8:return We(e,t,t.pendingProps.children,n),t.child;case 12:return We(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(s=t.type._context,o=t.pendingProps,a=t.memoizedProps,l=o.value,de(eo,s._currentValue),s._currentValue=l,a!==null)if(jt(a.value,l)){if(a.children===o.children&&!Je.current){t=Ft(e,t,n);break e}}else for(a=t.child,a!==null&&(a.return=t);a!==null;){var i=a.dependencies;if(i!==null){l=a.child;for(var c=i.firstContext;c!==null;){if(c.context===s){if(a.tag===1){c=Lt(-1,n&-n),c.tag=2;var d=a.updateQueue;if(d!==null){d=d.shared;var x=d.pending;x===null?c.next=c:(c.next=x.next,x.next=c),d.pending=c}}a.lanes|=n,c=a.alternate,c!==null&&(c.lanes|=n),Qa(a.return,n,t),i.lanes|=n;break}c=c.next}}else if(a.tag===10)l=a.type===t.type?null:a.child;else if(a.tag===18){if(l=a.return,l===null)throw Error(F(341));l.lanes|=n,i=l.alternate,i!==null&&(i.lanes|=n),Qa(l,n,t),l=a.sibling}else l=a.child;if(l!==null)l.return=a;else for(l=a;l!==null;){if(l===t){l=null;break}if(a=l.sibling,a!==null){a.return=l.return,l=a;break}l=l.return}a=l}We(e,t,o.children,n),t=t.child}return t;case 9:return o=t.type,s=t.pendingProps.children,Yn(t,n),o=mt(o),s=s(o),t.flags|=1,We(e,t,s,n),t.child;case 14:return s=t.type,o=xt(s,t.pendingProps),o=xt(s.type,o),uc(e,t,s,o,n);case 15:return Eu(e,t,t.type,t.pendingProps,n);case 17:return s=t.type,o=t.pendingProps,o=t.elementType===s?o:xt(s,o),Ms(e,t),t.tag=1,Ze(s)?(e=!0,Ks(t)):e=!1,Yn(t,n),Su(t,s,o),qa(t,s,o,n),Ja(null,t,s,!0,e,n);case 19:return Iu(e,t,n);case 22:return Au(e,t,n)}throw Error(F(156,t.tag))};function Qu(e,t){return wd(e,t)}function qh(e,t,n,s){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=s,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function ut(e,t,n,s){return new qh(e,t,n,s)}function ai(e){return e=e.prototype,!(!e||!e.isReactComponent)}function Yh(e){if(typeof e=="function")return ai(e)?1:0;if(e!=null){if(e=e.$$typeof,e===bl)return 11;if(e===El)return 14}return 2}function on(e,t){var n=e.alternate;return n===null?(n=ut(e.tag,t,e.key,e.mode),n.elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=e.flags&14680064,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function zs(e,t,n,s,o,a){var l=2;if(s=e,typeof e=="function")ai(e)&&(l=1);else if(typeof e=="string")l=5;else e:switch(e){case Tn:return Nn(n.children,o,a,t);case Cl:l=8,o|=8;break;case ya:return e=ut(12,n,t,o|2),e.elementType=ya,e.lanes=a,e;case wa:return e=ut(13,n,t,o),e.elementType=wa,e.lanes=a,e;case ja:return e=ut(19,n,t,o),e.elementType=ja,e.lanes=a,e;case rd:return Eo(n,o,a,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case td:l=10;break e;case nd:l=9;break e;case bl:l=11;break e;case El:l=14;break e;case Wt:l=16,s=null;break e}throw Error(F(130,e==null?e:typeof e,""))}return t=ut(l,n,t,o),t.elementType=e,t.type=s,t.lanes=a,t}function Nn(e,t,n,s){return e=ut(7,e,s,t),e.lanes=n,e}function Eo(e,t,n,s){return e=ut(22,e,s,t),e.elementType=rd,e.lanes=n,e.stateNode={isHidden:!1},e}function da(e,t,n){return e=ut(6,e,null,t),e.lanes=n,e}function ua(e,t,n){return t=ut(4,e.children!==null?e.children:[],e.key,t),t.lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function Kh(e,t,n,s,o){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Wo(0),this.expirationTimes=Wo(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Wo(0),this.identifierPrefix=s,this.onRecoverableError=o,this.mutableSourceEagerHydrationData=null}function li(e,t,n,s,o,a,l,i,c){return e=new Kh(e,t,n,i,c),t===1?(t=1,a===!0&&(t|=8)):t=0,a=ut(3,null,null,t),e.current=a,a.stateNode=e,a.memoizedState={element:s,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Ul(a),e}function Jh(e,t,n){var s=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Ln,key:s==null?null:""+s,children:e,containerInfo:t,implementation:n}}function Xu(e){if(!e)return cn;e=e._reactInternals;e:{if(On(e)!==e||e.tag!==1)throw Error(F(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Ze(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(F(171))}if(e.tag===1){var n=e.type;if(Ze(n))return Xd(e,n,t)}return t}function qu(e,t,n,s,o,a,l,i,c){return e=li(n,s,!0,e,o,a,l,i,c),e.context=Xu(null),n=e.current,s=He(),o=sn(n),a=Lt(s,o),a.callback=t??null,nn(n,a,o),e.current.lanes=o,ns(e,o,s),et(e,s),e}function Ao(e,t,n,s){var o=t.current,a=He(),l=sn(o);return n=Xu(n),t.context===null?t.context=n:t.pendingContext=n,t=Lt(a,l),t.payload={element:e},s=s===void 0?null:s,s!==null&&(t.callback=s),e=nn(o,t,l),e!==null&&(wt(e,o,l,a),Ls(e,o,l)),l}function uo(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function Sc(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var n=e.retryLane;e.retryLane=n!==0&&n<t?n:t}}function ii(e,t){Sc(e,t),(e=e.alternate)&&Sc(e,t)}function Zh(){return null}var Yu=typeof reportError=="function"?reportError:function(e){console.error(e)};function ci(e){this._internalRoot=e}ko.prototype.render=ci.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(F(409));Ao(e,t,null,null)};ko.prototype.unmount=ci.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;kn(function(){Ao(null,e,null,null)}),t[_t]=null}};function ko(e){this._internalRoot=e}ko.prototype.unstable_scheduleHydration=function(e){if(e){var t=Ad();e={blockedOn:null,target:e,priority:t};for(var n=0;n<Qt.length&&t!==0&&t<Qt[n].priority;n++);Qt.splice(n,0,e),n===0&&Dd(e)}};function di(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function Do(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function Cc(){}function ef(e,t,n,s,o){if(o){if(typeof s=="function"){var a=s;s=function(){var d=uo(l);a.call(d)}}var l=qu(t,s,e,0,null,!1,!1,"",Cc);return e._reactRootContainer=l,e[_t]=l.current,Ur(e.nodeType===8?e.parentNode:e),kn(),l}for(;o=e.lastChild;)e.removeChild(o);if(typeof s=="function"){var i=s;s=function(){var d=uo(c);i.call(d)}}var c=li(e,0,!1,null,null,!1,!1,"",Cc);return e._reactRootContainer=c,e[_t]=c.current,Ur(e.nodeType===8?e.parentNode:e),kn(function(){Ao(t,c,n,s)}),c}function Oo(e,t,n,s,o){var a=n._reactRootContainer;if(a){var l=a;if(typeof o=="function"){var i=o;o=function(){var c=uo(l);i.call(c)}}Ao(t,l,e,o)}else l=ef(n,t,e,o,s);return uo(l)}bd=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=Cr(t.pendingLanes);n!==0&&(Dl(t,n|1),et(t,Ee()),!(re&6)&&(sr=Ee()+500,pn()))}break;case 13:kn(function(){var s=Mt(e,1);if(s!==null){var o=He();wt(s,e,1,o)}}),ii(e,1)}};Ol=function(e){if(e.tag===13){var t=Mt(e,134217728);if(t!==null){var n=He();wt(t,e,134217728,n)}ii(e,134217728)}};Ed=function(e){if(e.tag===13){var t=sn(e),n=Mt(e,t);if(n!==null){var s=He();wt(n,e,t,s)}ii(e,t)}};Ad=function(){return se};kd=function(e,t){var n=se;try{return se=e,t()}finally{se=n}};Ia=function(e,t,n){switch(t){case"input":if(Ca(e,n),t=n.name,n.type==="radio"&&t!=null){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var s=n[t];if(s!==e&&s.form===e.form){var o=wo(s);if(!o)throw Error(F(90));od(s),Ca(s,o)}}}break;case"textarea":ld(e,n);break;case"select":t=n.value,t!=null&&Hn(e,!!n.multiple,t,!1)}};hd=ri;fd=kn;var tf={usingClientEntryPoint:!1,Events:[ss,$n,wo,pd,md,ri]},jr={findFiberByHostInstance:vn,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},nf={bundleType:jr.bundleType,version:jr.version,rendererPackageName:jr.rendererPackageName,rendererConfig:jr.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:$t.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=vd(e),e===null?null:e.stateNode},findFiberByHostInstance:jr.findFiberByHostInstance||Zh,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Es=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Es.isDisabled&&Es.supportsFiber)try{xo=Es.inject(nf),At=Es}catch{}}lt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=tf;lt.createPortal=function(e,t){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!di(t))throw Error(F(200));return Jh(e,t,null,n)};lt.createRoot=function(e,t){if(!di(e))throw Error(F(299));var n=!1,s="",o=Yu;return t!=null&&(t.unstable_strictMode===!0&&(n=!0),t.identifierPrefix!==void 0&&(s=t.identifierPrefix),t.onRecoverableError!==void 0&&(o=t.onRecoverableError)),t=li(e,1,!1,null,null,n,!1,s,o),e[_t]=t.current,Ur(e.nodeType===8?e.parentNode:e),new ci(t)};lt.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(F(188)):(e=Object.keys(e).join(","),Error(F(268,e)));return e=vd(t),e=e===null?null:e.stateNode,e};lt.flushSync=function(e){return kn(e)};lt.hydrate=function(e,t,n){if(!Do(t))throw Error(F(200));return Oo(null,e,t,!0,n)};lt.hydrateRoot=function(e,t,n){if(!di(e))throw Error(F(405));var s=n!=null&&n.hydratedSources||null,o=!1,a="",l=Yu;if(n!=null&&(n.unstable_strictMode===!0&&(o=!0),n.identifierPrefix!==void 0&&(a=n.identifierPrefix),n.onRecoverableError!==void 0&&(l=n.onRecoverableError)),t=qu(t,null,e,1,n??null,o,!1,a,l),e[_t]=t.current,Ur(e),s)for(e=0;e<s.length;e++)n=s[e],o=n._getVersion,o=o(n._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[n,o]:t.mutableSourceEagerHydrationData.push(n,o);return new ko(t)};lt.render=function(e,t,n){if(!Do(t))throw Error(F(200));return Oo(null,e,t,!1,n)};lt.unmountComponentAtNode=function(e){if(!Do(e))throw Error(F(40));return e._reactRootContainer?(kn(function(){Oo(null,null,e,!1,function(){e._reactRootContainer=null,e[_t]=null})}),!0):!1};lt.unstable_batchedUpdates=ri;lt.unstable_renderSubtreeIntoContainer=function(e,t,n,s){if(!Do(n))throw Error(F(200));if(e==null||e._reactInternals===void 0)throw Error(F(38));return Oo(e,t,n,!1,s)};lt.version="18.3.1-next-f1338f8080-20240426";function Ku(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(Ku)}catch(e){console.error(e)}}Ku(),Kc.exports=lt;var rf=Kc.exports,bc=rf;ga.createRoot=bc.createRoot,ga.hydrateRoot=bc.hydrateRoot;/**
 * @remix-run/router v1.23.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Zr(){return Zr=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},Zr.apply(this,arguments)}var Kt;(function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"})(Kt||(Kt={}));const Ec="popstate";function sf(e){e===void 0&&(e={});function t(o,a){let{pathname:l="/",search:i="",hash:c=""}=In(o.location.hash.substr(1));return!l.startsWith("/")&&!l.startsWith(".")&&(l="/"+l),dl("",{pathname:l,search:i,hash:c},a.state&&a.state.usr||null,a.state&&a.state.key||"default")}function n(o,a){let l=o.document.querySelector("base"),i="";if(l&&l.getAttribute("href")){let c=o.location.href,d=c.indexOf("#");i=d===-1?c:c.slice(0,d)}return i+"#"+(typeof a=="string"?a:po(a))}function s(o,a){ui(o.pathname.charAt(0)==="/","relative pathnames are not supported in hash history.push("+JSON.stringify(a)+")")}return af(t,n,s,e)}function we(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function ui(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function of(){return Math.random().toString(36).substr(2,8)}function Ac(e,t){return{usr:e.state,key:e.key,idx:t}}function dl(e,t,n,s){return n===void 0&&(n=null),Zr({pathname:typeof e=="string"?e:e.pathname,search:"",hash:""},typeof t=="string"?In(t):t,{state:n,key:t&&t.key||s||of()})}function po(e){let{pathname:t="/",search:n="",hash:s=""}=e;return n&&n!=="?"&&(t+=n.charAt(0)==="?"?n:"?"+n),s&&s!=="#"&&(t+=s.charAt(0)==="#"?s:"#"+s),t}function In(e){let t={};if(e){let n=e.indexOf("#");n>=0&&(t.hash=e.substr(n),e=e.substr(0,n));let s=e.indexOf("?");s>=0&&(t.search=e.substr(s),e=e.substr(0,s)),e&&(t.pathname=e)}return t}function af(e,t,n,s){s===void 0&&(s={});let{window:o=document.defaultView,v5Compat:a=!1}=s,l=o.history,i=Kt.Pop,c=null,d=x();d==null&&(d=0,l.replaceState(Zr({},l.state,{idx:d}),""));function x(){return(l.state||{idx:null}).idx}function p(){i=Kt.Pop;let S=x(),m=S==null?null:S-d;d=S,c&&c({action:i,location:j.location,delta:m})}function u(S,m){i=Kt.Push;let h=dl(j.location,S,m);n&&n(h,S),d=x()+1;let g=Ac(h,d),N=j.createHref(h);try{l.pushState(g,"",N)}catch(D){if(D instanceof DOMException&&D.name==="DataCloneError")throw D;o.location.assign(N)}a&&c&&c({action:i,location:j.location,delta:1})}function v(S,m){i=Kt.Replace;let h=dl(j.location,S,m);n&&n(h,S),d=x();let g=Ac(h,d),N=j.createHref(h);l.replaceState(g,"",N),a&&c&&c({action:i,location:j.location,delta:0})}function y(S){let m=o.location.origin!=="null"?o.location.origin:o.location.href,h=typeof S=="string"?S:po(S);return h=h.replace(/ $/,"%20"),we(m,"No window.location.(origin|href) available to create URL for href: "+h),new URL(h,m)}let j={get action(){return i},get location(){return e(o,l)},listen(S){if(c)throw new Error("A history only accepts one active listener");return o.addEventListener(Ec,p),c=S,()=>{o.removeEventListener(Ec,p),c=null}},createHref(S){return t(o,S)},createURL:y,encodeLocation(S){let m=y(S);return{pathname:m.pathname,search:m.search,hash:m.hash}},push:u,replace:v,go(S){return l.go(S)}};return j}var kc;(function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"})(kc||(kc={}));function lf(e,t,n){return n===void 0&&(n="/"),cf(e,t,n)}function cf(e,t,n,s){let o=typeof t=="string"?In(t):t,a=or(o.pathname||"/",n);if(a==null)return null;let l=Ju(e);df(l);let i=null;for(let c=0;i==null&&c<l.length;++c){let d=jf(a);i=yf(l[c],d)}return i}function Ju(e,t,n,s){t===void 0&&(t=[]),n===void 0&&(n=[]),s===void 0&&(s="");let o=(a,l,i)=>{let c={relativePath:i===void 0?a.path||"":i,caseSensitive:a.caseSensitive===!0,childrenIndex:l,route:a};c.relativePath.startsWith("/")&&(we(c.relativePath.startsWith(s),'Absolute route path "'+c.relativePath+'" nested under path '+('"'+s+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),c.relativePath=c.relativePath.slice(s.length));let d=an([s,c.relativePath]),x=n.concat(c);a.children&&a.children.length>0&&(we(a.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+d+'".')),Ju(a.children,t,x,d)),!(a.path==null&&!a.index)&&t.push({path:d,score:gf(d,a.index),routesMeta:x})};return e.forEach((a,l)=>{var i;if(a.path===""||!((i=a.path)!=null&&i.includes("?")))o(a,l);else for(let c of Zu(a.path))o(a,l,c)}),t}function Zu(e){let t=e.split("/");if(t.length===0)return[];let[n,...s]=t,o=n.endsWith("?"),a=n.replace(/\?$/,"");if(s.length===0)return o?[a,""]:[a];let l=Zu(s.join("/")),i=[];return i.push(...l.map(c=>c===""?a:[a,c].join("/"))),o&&i.push(...l),i.map(c=>e.startsWith("/")&&c===""?"/":c)}function df(e){e.sort((t,n)=>t.score!==n.score?n.score-t.score:vf(t.routesMeta.map(s=>s.childrenIndex),n.routesMeta.map(s=>s.childrenIndex)))}const uf=/^:[\w-]+$/,pf=3,mf=2,hf=1,ff=10,xf=-2,Dc=e=>e==="*";function gf(e,t){let n=e.split("/"),s=n.length;return n.some(Dc)&&(s+=xf),t&&(s+=mf),n.filter(o=>!Dc(o)).reduce((o,a)=>o+(uf.test(a)?pf:a===""?hf:ff),s)}function vf(e,t){return e.length===t.length&&e.slice(0,-1).every((s,o)=>s===t[o])?e[e.length-1]-t[t.length-1]:0}function yf(e,t,n){let{routesMeta:s}=e,o={},a="/",l=[];for(let i=0;i<s.length;++i){let c=s[i],d=i===s.length-1,x=a==="/"?t:t.slice(a.length)||"/",p=ul({path:c.relativePath,caseSensitive:c.caseSensitive,end:d},x),u=c.route;if(!p)return null;Object.assign(o,p.params),l.push({params:o,pathname:an([a,p.pathname]),pathnameBase:bf(an([a,p.pathnameBase])),route:u}),p.pathnameBase!=="/"&&(a=an([a,p.pathnameBase]))}return l}function ul(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[n,s]=wf(e.path,e.caseSensitive,e.end),o=t.match(n);if(!o)return null;let a=o[0],l=a.replace(/(.)\/+$/,"$1"),i=o.slice(1);return{params:s.reduce((d,x,p)=>{let{paramName:u,isOptional:v}=x;if(u==="*"){let j=i[p]||"";l=a.slice(0,a.length-j.length).replace(/(.)\/+$/,"$1")}const y=i[p];return v&&!y?d[u]=void 0:d[u]=(y||"").replace(/%2F/g,"/"),d},{}),pathname:a,pathnameBase:l,pattern:e}}function wf(e,t,n){t===void 0&&(t=!1),n===void 0&&(n=!0),ui(e==="*"||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were '+('"'+e.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+e.replace(/\*$/,"/*")+'".'));let s=[],o="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(l,i,c)=>(s.push({paramName:i,isOptional:c!=null}),c?"/?([^\\/]+)?":"/([^\\/]+)"));return e.endsWith("*")?(s.push({paramName:"*"}),o+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?o+="\\/*$":e!==""&&e!=="/"&&(o+="(?:(?=\\/|$))"),[new RegExp(o,t?void 0:"i"),s]}function jf(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return ui(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+t+").")),e}}function or(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let n=t.endsWith("/")?t.length-1:t.length,s=e.charAt(n);return s&&s!=="/"?null:e.slice(n)||"/"}function Nf(e,t){t===void 0&&(t="/");let{pathname:n,search:s="",hash:o=""}=typeof e=="string"?In(e):e;return{pathname:n?n.startsWith("/")?n:Sf(n,t):t,search:Ef(s),hash:Af(o)}}function Sf(e,t){let n=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(o=>{o===".."?n.length>1&&n.pop():o!=="."&&n.push(o)}),n.length>1?n.join("/"):"/"}function pa(e,t,n,s){return"Cannot include a '"+e+"' character in a manually specified "+("`to."+t+"` field ["+JSON.stringify(s)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function Cf(e){return e.filter((t,n)=>n===0||t.route.path&&t.route.path.length>0)}function pi(e,t){let n=Cf(e);return t?n.map((s,o)=>o===n.length-1?s.pathname:s.pathnameBase):n.map(s=>s.pathnameBase)}function mi(e,t,n,s){s===void 0&&(s=!1);let o;typeof e=="string"?o=In(e):(o=Zr({},e),we(!o.pathname||!o.pathname.includes("?"),pa("?","pathname","search",o)),we(!o.pathname||!o.pathname.includes("#"),pa("#","pathname","hash",o)),we(!o.search||!o.search.includes("#"),pa("#","search","hash",o)));let a=e===""||o.pathname==="",l=a?"/":o.pathname,i;if(l==null)i=n;else{let p=t.length-1;if(!s&&l.startsWith("..")){let u=l.split("/");for(;u[0]==="..";)u.shift(),p-=1;o.pathname=u.join("/")}i=p>=0?t[p]:"/"}let c=Nf(o,i),d=l&&l!=="/"&&l.endsWith("/"),x=(a||l===".")&&n.endsWith("/");return!c.pathname.endsWith("/")&&(d||x)&&(c.pathname+="/"),c}const an=e=>e.join("/").replace(/\/\/+/g,"/"),bf=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),Ef=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,Af=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;function kf(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}const ep=["post","put","patch","delete"];new Set(ep);const Df=["get",...ep];new Set(Df);/**
 * React Router v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function es(){return es=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},es.apply(this,arguments)}const Io=f.createContext(null),tp=f.createContext(null),zt=f.createContext(null),Ro=f.createContext(null),Dt=f.createContext({outlet:null,matches:[],isDataRoute:!1}),np=f.createContext(null);function Of(e,t){let{relative:n}=t===void 0?{}:t;dr()||we(!1);let{basename:s,navigator:o}=f.useContext(zt),{hash:a,pathname:l,search:i}=Po(e,{relative:n}),c=l;return s!=="/"&&(c=l==="/"?s:an([s,l])),o.createHref({pathname:c,search:i,hash:a})}function dr(){return f.useContext(Ro)!=null}function mn(){return dr()||we(!1),f.useContext(Ro).location}function rp(e){f.useContext(zt).static||f.useLayoutEffect(e)}function hn(){let{isDataRoute:e}=f.useContext(Dt);return e?Hf():If()}function If(){dr()||we(!1);let e=f.useContext(Io),{basename:t,future:n,navigator:s}=f.useContext(zt),{matches:o}=f.useContext(Dt),{pathname:a}=mn(),l=JSON.stringify(pi(o,n.v7_relativeSplatPath)),i=f.useRef(!1);return rp(()=>{i.current=!0}),f.useCallback(function(d,x){if(x===void 0&&(x={}),!i.current)return;if(typeof d=="number"){s.go(d);return}let p=mi(d,JSON.parse(l),a,x.relative==="path");e==null&&t!=="/"&&(p.pathname=p.pathname==="/"?t:an([t,p.pathname])),(x.replace?s.replace:s.push)(p,x.state,x)},[t,s,l,a,e])}const Rf=f.createContext(null);function Pf(e){let t=f.useContext(Dt).outlet;return t&&f.createElement(Rf.Provider,{value:e},t)}function Lf(){let{matches:e}=f.useContext(Dt),t=e[e.length-1];return t?t.params:{}}function Po(e,t){let{relative:n}=t===void 0?{}:t,{future:s}=f.useContext(zt),{matches:o}=f.useContext(Dt),{pathname:a}=mn(),l=JSON.stringify(pi(o,s.v7_relativeSplatPath));return f.useMemo(()=>mi(e,JSON.parse(l),a,n==="path"),[e,l,a,n])}function Tf(e,t){return _f(e,t)}function _f(e,t,n,s){dr()||we(!1);let{navigator:o}=f.useContext(zt),{matches:a}=f.useContext(Dt),l=a[a.length-1],i=l?l.params:{};l&&l.pathname;let c=l?l.pathnameBase:"/";l&&l.route;let d=mn(),x;if(t){var p;let S=typeof t=="string"?In(t):t;c==="/"||(p=S.pathname)!=null&&p.startsWith(c)||we(!1),x=S}else x=d;let u=x.pathname||"/",v=u;if(c!=="/"){let S=c.replace(/^\//,"").split("/");v="/"+u.replace(/^\//,"").split("/").slice(S.length).join("/")}let y=lf(e,{pathname:v}),j=Gf(y&&y.map(S=>Object.assign({},S,{params:Object.assign({},i,S.params),pathname:an([c,o.encodeLocation?o.encodeLocation(S.pathname).pathname:S.pathname]),pathnameBase:S.pathnameBase==="/"?c:an([c,o.encodeLocation?o.encodeLocation(S.pathnameBase).pathname:S.pathnameBase])})),a,n,s);return t&&j?f.createElement(Ro.Provider,{value:{location:es({pathname:"/",search:"",hash:"",state:null,key:"default"},x),navigationType:Kt.Pop}},j):j}function Mf(){let e=Wf(),t=kf(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),n=e instanceof Error?e.stack:null,o={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return f.createElement(f.Fragment,null,f.createElement("h2",null,"Unexpected Application Error!"),f.createElement("h3",{style:{fontStyle:"italic"}},t),n?f.createElement("pre",{style:o},n):null,null)}const Ff=f.createElement(Mf,null);class $f extends f.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,n){return n.location!==t.location||n.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:n.error,location:n.location,revalidation:t.revalidation||n.revalidation}}componentDidCatch(t,n){console.error("React Router caught the following error during render",t,n)}render(){return this.state.error!==void 0?f.createElement(Dt.Provider,{value:this.props.routeContext},f.createElement(np.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function zf(e){let{routeContext:t,match:n,children:s}=e,o=f.useContext(Io);return o&&o.static&&o.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(o.staticContext._deepestRenderedBoundaryId=n.route.id),f.createElement(Dt.Provider,{value:t},s)}function Gf(e,t,n,s){var o;if(t===void 0&&(t=[]),n===void 0&&(n=null),s===void 0&&(s=null),e==null){var a;if(!n)return null;if(n.errors)e=n.matches;else if((a=s)!=null&&a.v7_partialHydration&&t.length===0&&!n.initialized&&n.matches.length>0)e=n.matches;else return null}let l=e,i=(o=n)==null?void 0:o.errors;if(i!=null){let x=l.findIndex(p=>p.route.id&&(i==null?void 0:i[p.route.id])!==void 0);x>=0||we(!1),l=l.slice(0,Math.min(l.length,x+1))}let c=!1,d=-1;if(n&&s&&s.v7_partialHydration)for(let x=0;x<l.length;x++){let p=l[x];if((p.route.HydrateFallback||p.route.hydrateFallbackElement)&&(d=x),p.route.id){let{loaderData:u,errors:v}=n,y=p.route.loader&&u[p.route.id]===void 0&&(!v||v[p.route.id]===void 0);if(p.route.lazy||y){c=!0,d>=0?l=l.slice(0,d+1):l=[l[0]];break}}}return l.reduceRight((x,p,u)=>{let v,y=!1,j=null,S=null;n&&(v=i&&p.route.id?i[p.route.id]:void 0,j=p.route.errorElement||Ff,c&&(d<0&&u===0?(Qf("route-fallback"),y=!0,S=null):d===u&&(y=!0,S=p.route.hydrateFallbackElement||null)));let m=t.concat(l.slice(0,u+1)),h=()=>{let g;return v?g=j:y?g=S:p.route.Component?g=f.createElement(p.route.Component,null):p.route.element?g=p.route.element:g=x,f.createElement(zf,{match:p,routeContext:{outlet:x,matches:m,isDataRoute:n!=null},children:g})};return n&&(p.route.ErrorBoundary||p.route.errorElement||u===0)?f.createElement($f,{location:n.location,revalidation:n.revalidation,component:j,error:v,children:h(),routeContext:{outlet:null,matches:m,isDataRoute:!0}}):h()},null)}var sp=function(e){return e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e}(sp||{}),op=function(e){return e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e.UseRouteId="useRouteId",e}(op||{});function Bf(e){let t=f.useContext(Io);return t||we(!1),t}function Vf(e){let t=f.useContext(tp);return t||we(!1),t}function Uf(e){let t=f.useContext(Dt);return t||we(!1),t}function ap(e){let t=Uf(),n=t.matches[t.matches.length-1];return n.route.id||we(!1),n.route.id}function Wf(){var e;let t=f.useContext(np),n=Vf(),s=ap();return t!==void 0?t:(e=n.errors)==null?void 0:e[s]}function Hf(){let{router:e}=Bf(sp.UseNavigateStable),t=ap(op.UseNavigateStable),n=f.useRef(!1);return rp(()=>{n.current=!0}),f.useCallback(function(o,a){a===void 0&&(a={}),n.current&&(typeof o=="number"?e.navigate(o):e.navigate(o,es({fromRouteId:t},a)))},[e,t])}const Oc={};function Qf(e,t,n){Oc[e]||(Oc[e]=!0)}function Xf(e,t){e==null||e.v7_startTransition,e==null||e.v7_relativeSplatPath}function ar(e){let{to:t,replace:n,state:s,relative:o}=e;dr()||we(!1);let{future:a,static:l}=f.useContext(zt),{matches:i}=f.useContext(Dt),{pathname:c}=mn(),d=hn(),x=mi(t,pi(i,a.v7_relativeSplatPath),c,o==="path"),p=JSON.stringify(x);return f.useEffect(()=>d(JSON.parse(p),{replace:n,state:s,relative:o}),[d,p,o,n,s]),null}function qf(e){return Pf(e.context)}function Ie(e){we(!1)}function Yf(e){let{basename:t="/",children:n=null,location:s,navigationType:o=Kt.Pop,navigator:a,static:l=!1,future:i}=e;dr()&&we(!1);let c=t.replace(/^\/*/,"/"),d=f.useMemo(()=>({basename:c,navigator:a,static:l,future:es({v7_relativeSplatPath:!1},i)}),[c,i,a,l]);typeof s=="string"&&(s=In(s));let{pathname:x="/",search:p="",hash:u="",state:v=null,key:y="default"}=s,j=f.useMemo(()=>{let S=or(x,c);return S==null?null:{location:{pathname:S,search:p,hash:u,state:v,key:y},navigationType:o}},[c,x,p,u,v,y,o]);return j==null?null:f.createElement(zt.Provider,{value:d},f.createElement(Ro.Provider,{children:n,value:j}))}function Kf(e){let{children:t,location:n}=e;return Tf(pl(t),n)}new Promise(()=>{});function pl(e,t){t===void 0&&(t=[]);let n=[];return f.Children.forEach(e,(s,o)=>{if(!f.isValidElement(s))return;let a=[...t,o];if(s.type===f.Fragment){n.push.apply(n,pl(s.props.children,a));return}s.type!==Ie&&we(!1),!s.props.index||!s.props.children||we(!1);let l={id:s.props.id||a.join("-"),caseSensitive:s.props.caseSensitive,element:s.props.element,Component:s.props.Component,index:s.props.index,path:s.props.path,loader:s.props.loader,action:s.props.action,errorElement:s.props.errorElement,ErrorBoundary:s.props.ErrorBoundary,hasErrorBoundary:s.props.ErrorBoundary!=null||s.props.errorElement!=null,shouldRevalidate:s.props.shouldRevalidate,handle:s.props.handle,lazy:s.props.lazy};s.props.children&&(l.children=pl(s.props.children,a)),n.push(l)}),n}/**
 * React Router DOM v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function mo(){return mo=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},mo.apply(this,arguments)}function lp(e,t){if(e==null)return{};var n={},s=Object.keys(e),o,a;for(a=0;a<s.length;a++)o=s[a],!(t.indexOf(o)>=0)&&(n[o]=e[o]);return n}function Jf(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function Zf(e,t){return e.button===0&&(!t||t==="_self")&&!Jf(e)}function ml(e){return e===void 0&&(e=""),new URLSearchParams(typeof e=="string"||Array.isArray(e)||e instanceof URLSearchParams?e:Object.keys(e).reduce((t,n)=>{let s=e[n];return t.concat(Array.isArray(s)?s.map(o=>[n,o]):[[n,s]])},[]))}function ex(e,t){let n=ml(e);return t&&t.forEach((s,o)=>{n.has(o)||t.getAll(o).forEach(a=>{n.append(o,a)})}),n}const tx=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],nx=["aria-current","caseSensitive","className","end","style","to","viewTransition","children"],rx="6";try{window.__reactRouterVersion=rx}catch{}const sx=f.createContext({isTransitioning:!1}),ox="startTransition",Ic=Hp[ox];function ax(e){let{basename:t,children:n,future:s,window:o}=e,a=f.useRef();a.current==null&&(a.current=sf({window:o,v5Compat:!0}));let l=a.current,[i,c]=f.useState({action:l.action,location:l.location}),{v7_startTransition:d}=s||{},x=f.useCallback(p=>{d&&Ic?Ic(()=>c(p)):c(p)},[c,d]);return f.useLayoutEffect(()=>l.listen(x),[l,x]),f.useEffect(()=>Xf(s),[s]),f.createElement(Yf,{basename:t,children:n,location:i.location,navigationType:i.action,navigator:l,future:s})}const lx=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",ix=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,hi=f.forwardRef(function(t,n){let{onClick:s,relative:o,reloadDocument:a,replace:l,state:i,target:c,to:d,preventScrollReset:x,viewTransition:p}=t,u=lp(t,tx),{basename:v}=f.useContext(zt),y,j=!1;if(typeof d=="string"&&ix.test(d)&&(y=d,lx))try{let g=new URL(window.location.href),N=d.startsWith("//")?new URL(g.protocol+d):new URL(d),D=or(N.pathname,v);N.origin===g.origin&&D!=null?d=D+N.search+N.hash:j=!0}catch{}let S=Of(d,{relative:o}),m=dx(d,{replace:l,state:i,target:c,preventScrollReset:x,relative:o,viewTransition:p});function h(g){s&&s(g),g.defaultPrevented||m(g)}return f.createElement("a",mo({},u,{href:y||S,onClick:j||a?s:h,ref:n,target:c}))}),As=f.forwardRef(function(t,n){let{"aria-current":s="page",caseSensitive:o=!1,className:a="",end:l=!1,style:i,to:c,viewTransition:d,children:x}=t,p=lp(t,nx),u=Po(c,{relative:p.relative}),v=mn(),y=f.useContext(tp),{navigator:j,basename:S}=f.useContext(zt),m=y!=null&&ux(u)&&d===!0,h=j.encodeLocation?j.encodeLocation(u).pathname:u.pathname,g=v.pathname,N=y&&y.navigation&&y.navigation.location?y.navigation.location.pathname:null;o||(g=g.toLowerCase(),N=N?N.toLowerCase():null,h=h.toLowerCase()),N&&S&&(N=or(N,S)||N);const D=h!=="/"&&h.endsWith("/")?h.length-1:h.length;let E=g===h||!l&&g.startsWith(h)&&g.charAt(D)==="/",I=N!=null&&(N===h||!l&&N.startsWith(h)&&N.charAt(h.length)==="/"),_={isActive:E,isPending:I,isTransitioning:m},A=E?s:void 0,T;typeof a=="function"?T=a(_):T=[a,E?"active":null,I?"pending":null,m?"transitioning":null].filter(Boolean).join(" ");let V=typeof i=="function"?i(_):i;return f.createElement(hi,mo({},p,{"aria-current":A,className:T,ref:n,style:V,to:c,viewTransition:d}),typeof x=="function"?x(_):x)});var hl;(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmit="useSubmit",e.UseSubmitFetcher="useSubmitFetcher",e.UseFetcher="useFetcher",e.useViewTransitionState="useViewTransitionState"})(hl||(hl={}));var Rc;(function(e){e.UseFetcher="useFetcher",e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"})(Rc||(Rc={}));function cx(e){let t=f.useContext(Io);return t||we(!1),t}function dx(e,t){let{target:n,replace:s,state:o,preventScrollReset:a,relative:l,viewTransition:i}=t===void 0?{}:t,c=hn(),d=mn(),x=Po(e,{relative:l});return f.useCallback(p=>{if(Zf(p,n)){p.preventDefault();let u=s!==void 0?s:po(d)===po(x);c(e,{replace:u,state:o,preventScrollReset:a,relative:l,viewTransition:i})}},[d,c,x,s,o,n,e,a,l,i])}function ip(e){let t=f.useRef(ml(e)),n=f.useRef(!1),s=mn(),o=f.useMemo(()=>ex(s.search,n.current?null:t.current),[s.search]),a=hn(),l=f.useCallback((i,c)=>{const d=ml(typeof i=="function"?i(o):i);n.current=!0,a("?"+d,c)},[a,o]);return[o,l]}function ux(e,t){t===void 0&&(t={});let n=f.useContext(sx);n==null&&we(!1);let{basename:s}=cx(hl.useViewTransitionState),o=Po(e,{relative:t.relative});if(!n.isTransitioning)return!1;let a=or(n.currentLocation.pathname,s)||n.currentLocation.pathname,l=or(n.nextLocation.pathname,s)||n.nextLocation.pathname;return ul(o.pathname,l)!=null||ul(o.pathname,a)!=null}var H=(e=>(e.RASCUNHO="RASCUNHO",e.ENVIADA_SARGENTO="ENVIADA_SARGENTO",e.APROVADA_SARGENTO="APROVADA_SARGENTO",e.NEGADA_SARGENTO="NEGADA_SARGENTO",e.VALIDADA_ADMIN="VALIDADA_ADMIN",e.REPROVADA_ADMIN="REPROVADA_ADMIN",e))(H||{}),J=(e=>(e.ATIVA="ATIVA",e.TROCADA="TROCADA",e.EXCLUIDA="EXCLUIDA",e.CANCELADA="CANCELADA",e))(J||{}),_e=(e=>(e.CREATE_FOLGA="CREATE_FOLGA",e.ACIONAR_FOLGA="ACIONAR_FOLGA",e.ENVIAR_SARGENTO="ENVIAR_SARGENTO",e.APROVAR_SARGENTO="APROVAR_SARGENTO",e.NEGAR_SARGENTO="NEGAR_Sargento",e.VALIDAR_ADMIN="VALIDAR_ADMIN",e.REPROVAR_ADMIN="REPROVAR_ADMIN",e.TROCA_FOLGA="TROCA_FOLGA",e.EXCLUIR_FOLGA="EXCLUIR_FOLGA",e.RESTAURAR_FOLGA="RESTAURAR_FOLGA",e.CREATE_POLICIAL="CREATE_POLICIAL",e.UPDATE_POLICIAL="UPDATE_POLICIAL",e.DELETE_POLICIAL="DELETE_POLICIAL",e.CREATE_USER="CREATE_USER",e.UPDATE_USER="UPDATE_USER",e.BULK_UPSERT_POLICIAIS="BULK_UPSERT_POLICIAIS",e.CREATE_FERIAS="CREATE_FERIAS",e.UPDATE_FERIAS="UPDATE_FERIAS",e.CREATE_AGENDA_EVENTO="CREATE_AGENDA_EVENTO",e.UPDATE_AGENDA_EVENTO="UPDATE_AGENDA_EVENTO",e.DELETE_AGENDA_EVENTO="DELETE_AGENDA_EVENTO",e.CREATE_GRUPO="CREATE_GRUPO",e.UPDATE_GRUPO="UPDATE_GRUPO",e.DELETE_GRUPO="DELETE_GRUPO",e.CREATE_PROTOCOLO="CREATE_PROTOCOLO",e.RESET_PROTOCOLO_COUNTER="RESET_PROTOCOLO_COUNTER",e))(_e||{}),be=(e=>(e.AGENDADA="AGENDADA",e.CONCLUIDA="CONCLUIDA",e.CANCELADA="CANCELADA",e.SOLICITANDO_ALTERACAO="SOLICITANDO_ALTERACAO",e))(be||{}),ne=(e=>(e.CURSO="CURSO",e.EAP="EAP",e.OPERACAO="OPERACAO",e.LICENCA_PREMIO="LICENCA_PREMIO",e.OUTRO="OUTRO",e))(ne||{}),ke=(e=>(e.OFICIO="OFCIO",e.PARTE="PARTE",e.MEMORANDO="MEMORANDO",e.AESTORIGEM="AESTORIGEM",e.ATESTADO="ATESTADO",e.CERTIDAO="CERTIDO",e.DECLARACAO="DECLARAO",e.DESPACHO="DESPACHO",e.INFORMACAO="INFORMAO",e.ORDEM_SERVICO="ORDEM SERVIO",e.RELATORIO="RELATRIO",e.PTAC="PTAC",e.GUIA="GUIA",e.NOTA_SERVICO="NOTA SERVIO",e.EMAIL="E-MAIL",e.RAIA="RAIA",e.FMM="FMM",e.INVPRELIMINAR="INVPRELIMINAR",e))(ke||{});const cp=["Sd 2 Cl","Sd 1 Cl","Cb","3 Sgt","2 Sgt","1 Sgt","Subten","2 Ten","1 Ten","Cap","Maj"];J.ATIVA+"",J.TROCADA+"",J.EXCLUIDA+"",J.CANCELADA+"";const Pc={[H.RASCUNHO]:"bg-gray-200 text-gray-800",[H.ENVIADA_SARGENTO]:"bg-blue-100 text-blue-800",[H.APROVADA_SARGENTO]:"bg-cyan-100 text-cyan-800",[H.NEGADA_SARGENTO]:"bg-orange-100 text-orange-800",[H.VALIDADA_ADMIN]:"bg-green-100 text-green-800",[H.REPROVADA_ADMIN]:"bg-red-100 text-red-800"},ma={[H.RASCUNHO]:"Rascunho",[H.ENVIADA_SARGENTO]:"Pendente Sgt.",[H.APROVADA_SARGENTO]:"Aprovada Sgt.",[H.NEGADA_SARGENTO]:"Negada Sgt.",[H.VALIDADA_ADMIN]:"Validada Adm.",[H.REPROVADA_ADMIN]:"Reprovada Adm."},px=[{value:J.ATIVA,label:"Ativa"},{value:J.TROCADA,label:"Trocada"},{value:J.EXCLUIDA,label:"Excluda"}],mx={[be.AGENDADA]:"bg-green-100 text-green-800",[be.CONCLUIDA]:"bg-blue-100 text-blue-800",[be.CANCELADA]:"bg-red-100 text-red-800",[be.SOLICITANDO_ALTERACAO]:"bg-yellow-100 text-yellow-800"},ha={[be.AGENDADA]:"Agendada",[be.CONCLUIDA]:"Concluda",[be.CANCELADA]:"Cancelada",[be.SOLICITANDO_ALTERACAO]:"Solicitando Alterao"},Sn={[ne.CURSO]:"Curso",[ne.EAP]:"EAP",[ne.OPERACAO]:"Operao",[ne.LICENCA_PREMIO]:"Licena Prmio",[ne.OUTRO]:"Outro"},Tr={[ne.CURSO]:"bg-indigo-100 text-indigo-800",[ne.EAP]:"bg-purple-100 text-purple-800",[ne.OPERACAO]:"bg-red-100 text-red-800",[ne.LICENCA_PREMIO]:"bg-teal-100 text-teal-800",[ne.OUTRO]:"bg-gray-200 text-gray-800"},hx="200",Lc=[ke.OFICIO,ke.PARTE,ke.MEMORANDO,ke.AESTORIGEM,ke.ATESTADO,ke.CERTIDAO,ke.DECLARACAO,ke.DESPACHO,ke.INFORMACAO,ke.ORDEM_SERVICO,ke.RELATORIO,ke.PTAC,ke.GUIA,ke.NOTA_SERVICO,ke.EMAIL,ke.RAIA,ke.FMM,ke.INVPRELIMINAR],fx=150,xx=[{id:1,nome:"CARLOS ALBERTO DE NOBREGA",re:"123456-7",postoGrad:"Cb",ativo:!0,pelotao:"PEL-A"},{id:2,nome:"SILVIO SANTOS",re:"987654-3",postoGrad:"3 Sgt",ativo:!0,pelotao:"PEL-B"},{id:3,nome:"FAUSTO SILVA",re:"112233-4",postoGrad:"Sd 1 Cl",ativo:!1,pelotao:"ADM"},{id:4,nome:"ANA MARIA BRAGA",re:"445566-7",postoGrad:"Cap",ativo:!0,pelotao:"ADM"},{id:5,nome:"RODRIGO FARO",re:"778899-0",postoGrad:"2 Ten",ativo:!0,pelotao:"ROCAM"}],gx=[{id:101,policialId:null,nome:"Administrador do Sistema",reLogin:"000000",role:"ADMIN",acessoLiberado:!0,senha:"admin123",ativo:!0,criadoEm:new Date().toISOString(),atualizadoEm:new Date().toISOString()}],vx=[{folgald:"1",policialld:1,nome:"CARLOS ALBERTO DE NOBREGA",re:"123456-7",data:"2024-07-20",status:J.ATIVA,aprovacao:H.VALIDADA_ADMIN,criadaPorld:101,criadoEm:new Date().toISOString(),atualizadoEm:new Date().toISOString(),pelotao:"PEL-A",trocadaPara:null,motivo:null,adminld:101,adminParecer:"Ok"},{folgald:"2",policialld:2,nome:"SILVIO SANTOS",re:"987654-3",data:"2024-07-22",status:J.ATIVA,aprovacao:H.VALIDADA_ADMIN,criadaPorld:101,criadoEm:new Date().toISOString(),atualizadoEm:new Date().toISOString(),pelotao:"PEL-B",trocadaPara:null,motivo:null,adminld:101,adminParecer:"Ok"}],yx=[{id:"fer1",policialId:1,anoReferencia:2024,dataInicio:"2024-09-01",dataFim:"2024-09-30",duracaoDias:30,status:be.AGENDADA,criadoEm:new Date().toISOString(),criadoPorId:101,atualizadoEm:new Date().toISOString()},{id:"fer2",policialId:2,anoReferencia:2024,dataInicio:"2024-10-15",dataFim:"2024-10-29",duracaoDias:15,status:be.AGENDADA,criadoEm:new Date().toISOString(),criadoPorId:101,atualizadoEm:new Date().toISOString()}],wx=[{id:1,nome:"PEL-A"},{id:2,nome:"PEL-B"},{id:3,nome:"ADM"},{id:4,nome:"ROCAM"}],fl={policiais:xx,folgas:vx,historico:[],users:gx,leaveLedger:[],ferias:yx,agendaEventos:[],notificacoes:[],comentarios:[],grupos:wx,protocoloDocs:[],protocoloContador:{}};let B=fl;const jx=()=>{try{const e=localStorage.getItem("appData");B=e?JSON.parse(e):fl}catch(e){console.error("Failed to load DB from localStorage",e),B=fl}},ge=()=>localStorage.setItem("appData",JSON.stringify(B));jx();const le=(e,t=fx)=>new Promise(n=>setTimeout(()=>n(JSON.parse(JSON.stringify(e))),t)),Ae=e=>Promise.reject(new Error(e)),Be=(e,t,n)=>({id:Date.now(),evento:e,actorId:t.id,actorNome:t.nome,timestamp:new Date().toISOString(),pelotao:t.pelotao||"N/A",dataOriginal:null,dataNova:null,motivo:null,antesDepois:null,...n}),ce={getAllData:()=>le(B),login:(e,t)=>{if(e==="143468"&&t==="143468"){const s=B.users.find(o=>o.role==="ADMIN");if(s)return le(s)}const n=B.users.find(s=>s.reLogin===e);return n?n.acessoLiberado?n.senha!==t?Ae("Senha incorreta"):le(n):Ae("Acesso no liberado"):Ae("Usurio no encontrado")},grantAccess:(e,t,n,s,o)=>{if(!(e!=null&&e.id)||!t)return Ae("Dados invlidos.");if(n==="ADMIN"&&(!s||s!==(o==null?void 0:o.senha)&&s!=="143468"))return Ae("Senha de admin incorreta.");const a=(e.re||"").split("-")[0].replace(/\D/g,"");if(!a)return Ae("RE do policial invlido.");const l=B.users.find(d=>d.policialId===e.id),i=l?{...l}:{id:Date.now(),policialId:e.id,criadoEm:new Date().toISOString(),ativo:!0,nome:"",reLogin:"",role:"SUBORDINADO",senha:"",acessoLiberado:!1,atualizadoEm:""};Object.assign(i,{nome:e.nome,reLogin:a,role:n,senha:t,acessoLiberado:!0,atualizadoEm:new Date().toISOString(),pelotao:e.pelotao,postoGrad:e.postoGrad});const c=B.users.findIndex(d=>d.id===i.id);return c>-1?B.users[c]=i:B.users.push(i),ge(),le(i)},resetPassword:(e,t)=>{if(t.length<3)return Ae("Senha muito curta.");const n=B.users.find(s=>s.policialId===e);return n?(n.senha=t,n.acessoLiberado=!0,n.atualizadoEm=new Date().toISOString(),ge(),le(n)):Ae("Usurio no encontrado.")},revokeAccess:e=>{const t=B.users.find(n=>n.policialId===e);return t?(t.acessoLiberado=!1,t.atualizadoEm=new Date().toISOString(),ge(),le(t)):Ae("Usurio no encontrado.")},createFolga:(e,t)=>{const n={...e,folgald:`f${Date.now()}`,criadoEm:new Date().toISOString()},s=Be(_e.ACIONAR_FOLGA,t,{folgald:n.folgald,policialld:n.policialld,nome:n.nome,re:n.re,motivo:`Acionada: ${n.motivo}`,antesDepois:{depois:n}});return B.folgas.push(n),B.historico.unshift(s),ge(),le(n)},updateFolga:(e,t,n)=>{const s=B.folgas.findIndex(i=>i.folgald===e);if(s===-1)return Ae("Folga no encontrada.");const o={...B.folgas[s]},a={...o,...t,atualizadoEm:new Date().toISOString(),atualizadoPorld:n.id};B.folgas[s]=a;const l=Be(_e.UPDATE_USER,n,{folgald:e,motivo:"Atualizao de folga",antesDepois:{antes:o,depois:a}});return B.historico.unshift(l),ge(),le(a)},createPolicial:(e,t)=>{const n={...e,id:Date.now()};return B.policiais.push(n),B.historico.unshift(Be(_e.CREATE_POLICIAL,t,{policialld:n.id,nome:n.nome,re:n.re,antesDepois:{depois:n}})),ge(),le(n)},updatePolicial:(e,t)=>{const n=B.policiais.findIndex(o=>o.id===e.id);if(n===-1)return Ae("Policial no encontrado.");const s=B.policiais[n];return B.policiais[n]=e,B.historico.unshift(Be(_e.UPDATE_POLICIAL,t,{policialld:e.id,antesDepois:{antes:s,depois:e}})),ge(),le(e)},deletePolicial:(e,t)=>{const n=B.policiais.find(s=>s.id===e);return n?(B.policiais=B.policiais.filter(s=>s.id!==e),B.users=B.users.filter(s=>s.policialId!==e),B.historico.unshift(Be(_e.DELETE_POLICIAL,t,{policialld:e,antesDepois:{antes:n}})),ge(),le({ok:!0})):Ae("Policial no encontrado.")},bulkUpsertPoliciais:(e,t)=>{const n=new Map(B.policiais.map(s=>[s.re.split("-")[0],s]));return e.forEach(s=>{const o=n.get(s.re.split("-")[0]);o?Object.assign(o,s):B.policiais.push({...s,id:Date.now()+Math.random()})}),B.historico.unshift(Be(_e.BULK_UPSERT_POLICIAIS,t,{motivo:`Importados/Atualizados: ${e.length}`})),ge(),le({ok:!0})},addLeaveCredit:(e,t)=>{const n={id:`ll-${Date.now()}`,...e,createdAt:new Date().toISOString(),createdById:t.id,createdByNome:t.nome};return B.leaveLedger.unshift(n),ge(),le(n)},createFerias:(e,t)=>{const n={...e,id:`ferias-${Date.now()}`,criadoPorId:t.id,criadoEm:new Date().toISOString(),atualizadoEm:new Date().toISOString()};return B.ferias.push(n),B.historico.unshift(Be(_e.CREATE_FERIAS,t,{policialld:n.policialId,antesDepois:{depois:n}})),ge(),le(n)},updateFerias:(e,t,n)=>{const s=B.ferias.findIndex(l=>l.id===e);if(s===-1)return Ae("Frias no encontradas.");const o=B.ferias[s],a={...o,...t,atualizadoPorId:n.id,atualizadoEm:new Date().toISOString()};return B.ferias[s]=a,B.historico.unshift(Be(_e.UPDATE_FERIAS,n,{policialld:a.policialId,antesDepois:{antes:o,depois:a}})),ge(),le(a)},createAgendaEvento:(e,t)=>{const n={...e,id:`agenda-${Date.now()}`,criadoPorId:t.id,criadoEm:new Date().toISOString(),atualizadoEm:new Date().toISOString()};return B.agendaEventos.push(n),B.historico.unshift(Be(_e.CREATE_AGENDA_EVENTO,t,{motivo:`Criado evento: ${n.titulo}`,antesDepois:{depois:n}})),ge(),le(n)},updateAgendaEvento:(e,t,n)=>{const s=B.agendaEventos.findIndex(l=>l.id===e);if(s===-1)return Ae("Evento no encontrado.");const o=B.agendaEventos[s],a={...o,...t,atualizadoPorId:n.id,atualizadoEm:new Date().toISOString()};return B.agendaEventos[s]=a,B.historico.unshift(Be(_e.UPDATE_AGENDA_EVENTO,n,{antesDepois:{antes:o,depois:a}})),ge(),le(a)},deleteAgendaEvento:(e,t)=>{const n=B.agendaEventos.find(s=>s.id===e);return n?(B.agendaEventos=B.agendaEventos.filter(s=>s.id!==e),B.historico.unshift(Be(_e.DELETE_AGENDA_EVENTO,t,{antesDepois:{antes:n}})),ge(),le({ok:!0})):Ae("Evento no encontrado.")},addNotificacoes:e=>(B.notificacoes.unshift(...e),ge(),le({ok:!0})),markNotificacoesAsRead:e=>(B.notificacoes.forEach(t=>{t.policialId===e&&(t.lida=!0)}),ge(),le({ok:!0})),createComentario:(e,t)=>{const n={id:`c-${Date.now()}`,folgald:e.folgald,actorId:t.id,actorNome:t.nome,actorPostoGrad:t.postoGrad,mensagem:e.mensagem.trim(),timestamp:new Date().toISOString()};return B.comentarios.push(n),ge(),le(n)},createGrupo:(e,t)=>{if(B.grupos.some(s=>s.nome.toLowerCase()===e.toLowerCase()))return Ae("Um grupo com este nome j existe.");const n={id:Date.now(),nome:e};return B.grupos.push(n),B.historico.unshift(Be(_e.CREATE_GRUPO,t,{antesDepois:{depois:n}})),ge(),le(n)},updateGrupo:(e,t)=>{const n=B.grupos.findIndex(o=>o.id===e.id);if(n===-1)return Ae("Grupo no encontrado.");const s=B.grupos[n];return B.policiais.forEach(o=>{o.pelotao===s.nome&&(o.pelotao=e.nome)}),B.grupos[n]=e,B.historico.unshift(Be(_e.UPDATE_GRUPO,t,{antesDepois:{antes:s,depois:e}})),ge(),le(e)},deleteGrupo:(e,t)=>{const n=B.grupos.find(o=>o.id===e);return n?B.policiais.some(o=>o.pelotao===n.nome)?Ae("No  possvel excluir um grupo que est em uso por policiais."):(B.grupos=B.grupos.filter(o=>o.id!==e),B.historico.unshift(Be(_e.DELETE_GRUPO,t,{antesDepois:{antes:n}})),ge(),le({ok:!0})):Ae("Grupo no encontrado.")},createProtocoloDoc:(e,t)=>{const n=new Date(e.dataEmissao+"T12:00:00").getFullYear(),s=String(n).slice(-2);B.protocoloContador||(B.protocoloContador={});const o=(B.protocoloContador[n]||0)+1;B.protocoloContador[n]=o;const a=`${String(o).padStart(3,"0")}/${hx}/${s}`,l={...e,id:`proto-${Date.now()}`,numero:a,ano:n,sequencial:o,criadoEm:new Date().toISOString()};return B.protocoloDocs.unshift(l),B.historico.unshift(Be(_e.CREATE_PROTOCOLO,t,{motivo:`Protocolado doc n ${a}`,antesDepois:{depois:l}})),ge(),le(l)},resetProtocoloCounter:e=>{const t=new Date().getFullYear(),n=B.protocoloContador[t]||0;return B.protocoloContador[t]=0,B.historico.unshift(Be(_e.RESET_PROTOCOLO_COUNTER,e,{motivo:`Contador de ${t} reiniciado. Valor anterior: ${n}`})),ge(),le({ok:!0})},getProtocoloDocById:e=>{const t=B.protocoloDocs.find(n=>n.id===e);return t?le(t):Ae("Documento no encontrado.")}},dp=f.createContext({}),ie=()=>f.useContext(dp),Nx=({children:e})=>{const[t,n]=f.useState(()=>{try{const p=window.localStorage.getItem("currentUser");return p?JSON.parse(p):null}catch(p){return console.error("Falha ao carregar usurio do localStorage",p),null}});f.useEffect(()=>{t?window.localStorage.setItem("currentUser",JSON.stringify(t)):window.localStorage.removeItem("currentUser")},[t]);const s=(t==null?void 0:t.role)??null,o=!!t,a=f.useCallback(async(p,u)=>{const v=(p||"").replace(/\D/g,"");if(v.length<3)return{ok:!1,error:"RE invlido"};if(!u||u.trim().length<3)return{ok:!1,error:"Senha invlida"};try{const y=await ce.login(v,u);return n(y),{ok:!0}}catch(y){return{ok:!1,error:y.message}}},[]),l=f.useCallback(()=>{n(null)},[]),i=f.useCallback(async(p,u,v="SUBORDINADO",y)=>{if(!t||t.role!=="ADMIN")return{ok:!1,error:"Apenas ADMIN pode conceder acesso"};try{return await ce.grantAccess(p,u,v,y,t),{ok:!0}}catch(j){return{ok:!1,error:j.message}}},[t]),c=f.useCallback(async(p,u)=>{if(!t||t.role!=="ADMIN")return{ok:!1,error:"Apenas ADMIN pode resetar senha"};try{return await ce.resetPassword(p,u),{ok:!0}}catch(v){return{ok:!1,error:v.message}}},[t]),d=f.useCallback(async p=>{if(!t||t.role!=="ADMIN")return{ok:!1,error:"Apenas ADMIN pode revogar acesso"};try{return await ce.revokeAccess(p),{ok:!0}}catch(u){return{ok:!1,error:u.message}}},[t]),x=f.useMemo(()=>({isAuthenticated:o,currentUser:t,role:s,loginByRE:a,logout:l,grantAccess:i,resetPassword:c,revokeAccess:d}),[o,t,s,a,l,i,c,d]);return r.jsx(dp.Provider,{value:x,children:e})},up=f.createContext(void 0),me=()=>{const e=f.useContext(up);if(e===void 0)throw new Error("useData must be used within a DataProvider");return e},Sx=({children:e})=>{const[t,n]=f.useState(!0),[s,o]=f.useState({policiais:[],folgas:[],historico:[],users:[],leaveLedger:[],ferias:[],agendaEventos:[],notificacoes:[],comentarios:[],grupos:[],protocoloDocs:[]}),a=f.useCallback(async()=>{const b=await ce.getAllData();o(b)},[]);f.useEffect(()=>{(async()=>{try{n(!0),await a()}catch(C){console.error("Failed to fetch initial data",C)}finally{n(!1)}})()},[a]);const l=f.useCallback(async b=>{if(!b||b.length===0||(await ce.addNotificacoes(b),a(),!("Notification"in window)||!("serviceWorker"in navigator))||await Notification.requestPermission()!=="granted")return;const R=await navigator.serviceWorker.getRegistration();R&&b.forEach(G=>{R.showNotification("Atualizao SIGMA-E",{body:G.mensagem,icon:"/vite.svg",data:{url:G.link||"/dashboard"},tag:`sigma-notif-${G.id}`})})},[a]),i=b=>Number(b.slice(0,4)),c=b=>b.aprovacao===H.VALIDADA_ADMIN&&b.status===J.ATIVA?b.motivo==="Folga Cmt Geral":!1,d=f.useCallback((b,C)=>s.leaveLedger.filter(R=>R.policialId===b&&R.year===C).reduce((R,G)=>R+G.delta,0),[s.leaveLedger]),x=f.useCallback((b,C)=>s.folgas.filter(R=>R.policialld===b&&i(R.data)===C&&c(R)).length,[s.folgas]),p=f.useCallback((b,C)=>d(b,C)-x(b,C),[d,x]),u=f.useCallback(b=>{const C=i(b.dateISO),R=p(b.policialId,C);return R>0?{ok:!0,balance:R}:b.allowOverride?{ok:!0,balance:R,warn:"Sem saldo, mas a criao foi permitida pelo perfil do usurio."}:{ok:!1,error:`Sem saldo de folgas para o ano de ${C}.`,balance:R}},[p]),v=f.useCallback(async(b,C)=>{var Z;if(b.motivo==="Folga Cmt Geral"){const te=new Date(b.data+"T12:00:00");if(s.folgas.find(oe=>{if(oe.policialld!==b.policialld||oe.motivo!=="Folga Cmt Geral"||!(oe.status!==J.EXCLUIDA&&oe.status!==J.CANCELADA&&oe.aprovacao!==H.NEGADA_SARGENTO&&oe.aprovacao!==H.REPROVADA_ADMIN))return!1;const O=new Date(oe.data+"T12:00:00");return O.getFullYear()===te.getFullYear()&&O.getMonth()===te.getMonth()}))throw new Error("Este policial j possui uma Folga Cmt Geral neste ms.")}const R=s.policiais.find(te=>te.id===b.policialld);if(!R)throw new Error("Policial no encontrado.");const{role:G}=C;let X,L;G==="SUBORDINADO"?(X=H.ENVIADA_SARGENTO,L=(Z=s.users.find(te=>te.role==="SARGENTO"&&te.pelotao===R.pelotao&&te.ativo))==null?void 0:Z.id):G==="SARGENTO"?X=H.APROVADA_SARGENTO:X=H.VALIDADA_ADMIN;const U={policialld:R.id,nome:R.nome,re:R.re,pelotao:R.pelotao,data:b.data,motivo:b.motivo,status:J.ATIVA,aprovacao:X,criadaPorld:C.id,atualizadoEm:new Date().toISOString(),trocadaPara:null,sargentoResponsavelld:L};await ce.createFolga(U,C),await a();const Y=s.users.find(te=>te.id===L);Y&&await l([{id:Date.now(),policialId:Y.id,mensagem:`${R.postoGrad} ${R.nome} solicitou uma folga.`,lida:!1,link:`/folgas?aprovacao=${H.ENVIADA_SARGENTO}`,criadoEm:new Date().toISOString()}])},[s,a,l]),y=f.useCallback(async(b,C,R)=>{await ce.updateFolga(b,C,R);const G={...s.folgas.find(Y=>Y.folgald===b),...C};await a();const X=[],L=s.users.find(Y=>Y.policialId===G.policialld),U=s.users.find(Y=>Y.role==="SARGENTO"&&Y.pelotao===G.pelotao&&Y.ativo);C.aprovacao&&L&&X.push({id:Date.now(),policialId:L.id,mensagem:`Sua folga teve o status alterado para ${G.aprovacao}`,lida:!1,link:"/folgas",criadoEm:new Date().toISOString()}),C.aprovacao===H.APROVADA_SARGENTO&&s.users.filter(Y=>Y.role==="ADMIN").forEach(Y=>X.push({id:Date.now()+Y.id,policialId:Y.id,mensagem:`Folga de ${G.nome} aguardando sua validao.`,lida:!1,link:`/folgas?aprovacao=${H.APROVADA_SARGENTO}`,criadoEm:new Date().toISOString()})),C.aprovacao===H.VALIDADA_ADMIN&&U&&X.push({id:Date.now()+1,policialId:U.id,mensagem:`Folga de ${G.nome} foi validada.`,lida:!1,link:"/folgas",criadoEm:new Date().toISOString()}),X.length>0&&await l(X)},[s,a,l]),j=f.useCallback(async(b,C)=>{await ce.createPolicial(b,C),await a()},[a]),S=f.useCallback(async(b,C)=>{await ce.updatePolicial(b,C),await a()},[a]),m=f.useCallback(async(b,C)=>{await ce.deletePolicial(b,C),await a()},[a]),h=f.useCallback(async(b,C)=>{await ce.bulkUpsertPoliciais(b,C),await a()},[a]),g=f.useCallback(async(b,C)=>{await ce.addLeaveCredit(b,C),await a()},[a]),N=f.useCallback(async(b,C)=>{await ce.createFerias(b,C),await a()},[a]),D=f.useCallback(async(b,C,R)=>{await ce.updateFerias(b,C,R),await a()},[a]),E=f.useCallback(async(b,C)=>{const R=await ce.createAgendaEvento(b,C);await a();const G=new Map(s.users.map(L=>[L.policialId,L])),X=R.policiaisIds.map((L,U)=>{const Y=G.get(L);return Y?{id:Date.now()+U,policialId:Y.id,mensagem:`Voc foi escalado para: "${R.titulo}" em ${new Date(R.data+"T12:00:00").toLocaleDateString()}.`,lida:!1,link:"/calendario",criadoEm:new Date().toISOString()}:null}).filter(Boolean);await l(X)},[a,l,s.users]),I=f.useCallback(async(b,C,R)=>{const G=s.agendaEventos.find(Y=>Y.id===b),X=await ce.updateAgendaEvento(b,C,R);await a();const L=new Set(G.policiaisIds),U=(X.policiaisIds||[]).filter(Y=>!L.has(Y));if(U.length>0){const Y=new Map(s.users.map(te=>[te.policialId,te])),Z=U.map((te,xe)=>{const oe=Y.get(te);return oe?{id:Date.now()+xe,policialId:oe.id,mensagem:`Voc foi escalado para: "${X.titulo}" em ${new Date(X.data+"T12:00:00").toLocaleDateString()}.`,lida:!1,link:"/calendario",criadoEm:new Date().toISOString()}:null}).filter(Boolean);await l(Z)}},[a,l,s.agendaEventos,s.users]),_=f.useCallback(async(b,C)=>{await ce.deleteAgendaEvento(b,C),await a()},[a]),A=f.useCallback(async b=>{await ce.markNotificacoesAsRead(b),await a()},[a]),T=f.useCallback(async(b,C,R)=>{if(!C.trim())return;const G=s.folgas.find(Z=>Z.folgald===b);if(!G)return;await ce.createComentario({folgald:b,mensagem:C},R),await a();const X=s.users.find(Z=>Z.role==="SARGENTO"&&Z.pelotao===G.pelotao&&Z.ativo),L=s.users.find(Z=>Z.policialId===G.policialld);let U,Y="";R.role==="SUBORDINADO"&&X?(U=X,Y=`${R.nome} comentou na folga de ${G.nome}.`):R.role==="SARGENTO"&&L&&(U=L,Y="Seu sargento comentou em sua folga."),U&&await l([{id:Date.now(),policialId:U.id,mensagem:Y,lida:!1,link:"/folgas",criadoEm:new Date().toISOString()}])},[a,s.folgas,s.users,l]),V=f.useCallback(async(b,C)=>{await ce.createGrupo(b,C),await a()},[a]),k=f.useCallback(async(b,C)=>{await ce.updateGrupo(b,C),await a()},[a]),M=f.useCallback(async(b,C)=>{await ce.deleteGrupo(b,C),await a()},[a]),z=f.useCallback(async(b,C)=>{const R=await ce.createProtocoloDoc(b,C);return await a(),R},[a]),w=f.useCallback(async b=>{await ce.resetProtocoloCounter(b),await a()},[a]),$={...s,loading:t,addFolga:v,updateFolga:y,addPolicial:j,updatePolicial:S,deletePolicial:m,bulkUpsertPoliciais:h,adminAddLeaveCredits:g,getBalanceFor:p,getCreditsFor:d,countUsedFolgasFor:x,canRequestFolga:u,addFerias:N,updateFerias:D,addAgendaEvento:E,updateAgendaEvento:I,deleteAgendaEvento:_,markNotificacoesAsRead:A,addComentario:T,addGrupo:V,updateGrupo:k,deleteGrupo:M,addProtocoloDoc:z,adminResetProtocoloCounter:w};return r.jsx(up.Provider,{value:$,children:e})};function Tc(e){return(e||"").replace(/\D/g,"")}const Cx=({className:e})=>r.jsx("div",{className:`flex items-center justify-center ${e}`,children:r.jsx("svg",{viewBox:"0 0 80 88",className:"h-20 w-auto",children:r.jsxs("g",{children:[r.jsx("path",{d:"M40 0 L80 16 V56 C80 78 40 88 40 88 C40 88 0 78 0 56 V16 Z",fill:"#19398A"}),r.jsx("path",{d:"M40 4 L76 18.4 V54.8 C76 74.8 40 84 40 84 C40 84 4 74.8 4 54.8 V18.4 Z",strokeWidth:"3",stroke:"white",fill:"none"}),r.jsx("text",{x:"32",y:"62",fontFamily:"Verdana, sans-serif",fontSize:"42",fontWeight:"bold",fill:"white",textAnchor:"middle",children:""}),r.jsx("text",{x:"55",y:"48",fontFamily:"Verdana, sans-serif",fontSize:"22",fontWeight:"bold",fill:"white",children:"E"})]})})}),bx=()=>{const e=hn(),{loginByRE:t}=ie(),[n,s]=f.useState(""),[o,a]=f.useState(""),[l,i]=f.useState(null),[c,d]=f.useState(null),[x,p]=f.useState(!1),u=y=>{const j=y.target.value;/\D/.test(j)?d("O RE deve conter apenas nmeros."):d(null),s(Tc(j))},v=async y=>{if(y.preventDefault(),i(null),c)return;const j=Tc(n);if(j.length<3){i("Informe seu RE sem o dgito");return}if(!o||o.trim().length<3){i("Informe uma senha vlida");return}p(!0);const{ok:S,error:m}=await t(j,o);if(p(!1),!S){i(m||"Falha no login");return}e("/dashboard")};return r.jsx("div",{className:"min-h-screen bg-pm-gray-50 flex items-center justify-center p-6",children:r.jsxs("div",{className:"w-full max-w-md bg-white shadow rounded-xl p-6",children:[r.jsxs("div",{className:"flex flex-col items-center mb-6",children:[r.jsx(Cx,{}),r.jsx("h1",{className:"text-3xl font-bold text-pm-blue mt-4",children:"SIGMA-E"}),r.jsx("p",{className:"text-pm-gray-600 text-center text-base -mt-1",children:"Sistema Integrado de Gesto, Monitoramento e Administrao do Efetivo"})]}),r.jsx("p",{className:"text-pm-gray-500 mb-6 text-center",children:"Acesse com seu RE (sem dgito) e senha."}),l&&r.jsx("div",{className:"mb-4 text-sm text-red-700 bg-red-50 border border-red-200 rounded p-2 text-center",children:l}),r.jsxs("form",{onSubmit:v,className:"space-y-4",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-pm-gray-700 mb-1 text-left",children:"RE (sem dgito)"}),r.jsx("input",{inputMode:"numeric",pattern:"[0-9]*",autoComplete:"username",className:`w-full border ${c?"border-red-500 focus:ring-red-500":"border-pm-gray-300 focus:ring-pm-blue"} rounded-lg px-3 py-2 focus:outline-none focus:ring-2`,placeholder:"Ex.: 123456",value:n,onChange:u,"aria-invalid":!!c,"aria-describedby":"re-error-message"}),c?r.jsx("p",{id:"re-error-message",className:"text-xs text-red-600 mt-1 text-left",children:c}):r.jsx("p",{className:"text-xs text-pm-gray-500 mt-1 text-left",children:"Digite apenas os nmeros antes do trao. Ex.: se seu RE  123456-7, digite 123456."})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-pm-gray-700 mb-1 text-left",children:"Senha"}),r.jsx("input",{type:"password",autoComplete:"current-password",className:"w-full border border-pm-gray-300 rounded-lg px-3 py-2 focus:outline-none focus:ring-2 focus:ring-pm-blue",placeholder:"Sua senha",value:o,onChange:y=>a(y.target.value)})]}),r.jsx("button",{type:"submit",disabled:x,className:"w-full bg-pm-blue hover:bg-pm-blue-dark text-white rounded-lg py-2 font-semibold transition disabled:opacity-50",children:x?"Entrando...":"Entrar"})]}),r.jsx("div",{className:"mt-6 text-xs text-center text-pm-gray-500",children:"Acesso ao sistema  concedido pelo Administrador na rea interna (Gerenciar Policiais)."}),r.jsx("div",{className:"mt-8 border-t pt-4 text-center text-xs text-pm-gray-400",children:"Desenvolvido por Cb PM 143468-3 Samuel Henrique Alves"})]})})},Ct=({title:e,value:t,icon:n,color:s,onClick:o})=>{const a=r.jsxs(r.Fragment,{children:[r.jsx("div",{className:`p-4 rounded-full ${s} mr-4`,children:n}),r.jsxs("div",{children:[r.jsx("p",{className:"text-sm text-pm-gray-500 font-medium",children:e}),r.jsx("p",{className:"text-3xl font-bold text-pm-gray-800",children:t})]})]});return o?r.jsx("button",{onClick:o,className:"bg-white p-6 rounded-lg shadow-md flex items-center w-full text-left transition-transform transform hover:scale-105 hover:shadow-lg focus:outline-none focus:ring-2 focus:ring-pm-blue focus:ring-offset-2","aria-label":`${e}: ${t}`,children:a}):r.jsx("div",{className:"bg-white p-6 rounded-lg shadow-md flex items-center",children:a})},Ex=e=>{const{folgas:t}=me(),{currentUser:n,role:s}=ie();return f.useMemo(()=>t.filter(o=>s==="SUBORDINADO"?o.policialld===(n==null?void 0:n.policialId):s==="SARGENTO"?o.pelotao===(n==null?void 0:n.pelotao)||o.sargentoResponsavelld===(n==null?void 0:n.id):!0).filter(o=>{const a=e.nomeRe.toLowerCase(),l=!e.nomeRe||o.nome.toLowerCase().includes(a)||o.re.toLowerCase().includes(a),i=!e.pelotao||o.pelotao===e.pelotao,c=!e.aprovacao||o.aprovacao===e.aprovacao,d=!e.status||o.status===e.status;return l&&i&&c&&d}).sort((o,a)=>new Date(a.criadoEm).getTime()-new Date(o.criadoEm).getTime()),[t,e,s,n])},Ax=e=>{const{folgas:t,policiais:n}=me(),{currentUser:s,role:o}=ie(),a=f.useMemo(()=>t.filter(d=>o==="SUBORDINADO"?d.policialld===(s==null?void 0:s.policialId):o==="SARGENTO"?d.pelotao===(s==null?void 0:s.pelotao):!0).filter(d=>{const x=n.find(j=>j.id===d.policialld),p=d.data.substring(0,7),u=!e.mes||p===e.mes,v=!e.pelotao||d.pelotao===e.pelotao,y=!e.postoGrad||x&&x.postoGrad===e.postoGrad;return u&&v&&y}),[t,n,e,o,s]),l=f.useMemo(()=>{const d=a.filter(j=>j.aprovacao===H.VALIDADA_ADMIN),x=d.filter(j=>j.status===J.ATIVA).length,p=d.filter(j=>j.status===J.TROCADA).length,u=d.filter(j=>j.status===J.EXCLUIDA).length,v=a.filter(j=>j.aprovacao===H.ENVIADA_SARGENTO).length,y=a.filter(j=>j.aprovacao===H.APROVADA_SARGENTO).length;return{ativas:x,trocadas:p,excluidas:u,total:x+p+u,pendenteSgt:v,pendenteAdmin:y}},[a]),i=f.useMemo(()=>{const d=a.map(p=>p.motivo).filter(p=>!!p&&p.trim()!=="");if(d.length===0)return[];const x={"Folga Cmt Geral":0,"Folga Cmt Cia":0,"Folga Compensao":0,"Folga Outros":0,"Motivos Antigos/Outros":0};return d.forEach(p=>{p.startsWith("Folga Cmt Geral")?x["Folga Cmt Geral"]++:p.startsWith("Folga Cmt Cia")?x["Folga Cmt Cia"]++:p.startsWith("Folga Compensao")?x["Folga Compensao"]++:p.startsWith("Folga Outros")?x["Folga Outros"]++:x["Motivos Antigos/Outros"]++}),Object.entries(x).map(([p,u])=>({category:p,count:u})).filter(p=>p.count>0).sort((p,u)=>u.count-p.count)},[a]),c=f.useMemo(()=>{const d=new Set(t.map(x=>x.data.substring(0,7)));return Array.from(d).sort().reverse()},[t]);return{stats:l,reasonChartData:i,mesesDisponiveis:c}},kx=()=>{const{folgas:e,ferias:t,agendaEventos:n,policiais:s}=me(),{currentUser:o,role:a}=ie(),l=f.useMemo(()=>new Map(s.map(p=>[p.id,p])),[s]),i=p=>p.toISOString().split("T")[0],c=f.useMemo(()=>{const p=new Map;return e.filter(u=>u.status===J.ATIVA).filter(u=>a==="SUBORDINADO"?u.policialld===(o==null?void 0:o.policialId):a==="SARGENTO"?u.pelotao===(o==null?void 0:o.pelotao):!0).forEach(u=>{const v=u.data;p.has(v)||p.set(v,[]),p.get(v).push(u)}),p},[e,a,o]),d=f.useMemo(()=>{const p=new Map;return t.filter(u=>u.status===be.AGENDADA).filter(u=>{const v=l.get(u.policialId);return a==="SUBORDINADO"?u.policialId===(o==null?void 0:o.policialId):a==="SARGENTO"?(v==null?void 0:v.pelotao)===(o==null?void 0:o.pelotao):!0}).forEach(u=>{const v=l.get(u.policialId),y={...u};v&&(y.nome=v.nome,y.re=v.re,y.pelotao=v.pelotao);let j=new Date(u.dataInicio+"T12:00:00");const S=new Date(u.dataFim+"T12:00:00");for(;j<=S;){const m=i(j);p.has(m)||p.set(m,[]),p.get(m).push(y),j.setDate(j.getDate()+1)}}),p},[t,a,o,l]),x=f.useMemo(()=>{const p=new Map;return n.filter(v=>a==="ADMIN"?!0:a==="SARGENTO"?v.policiaisIds.some(y=>{var j;return((j=l.get(y))==null?void 0:j.pelotao)===(o==null?void 0:o.pelotao)}):a==="SUBORDINADO"?v.policiaisIds.includes((o==null?void 0:o.policialId)??-1):!1).forEach(v=>{const y=v.data;p.has(y)||p.set(y,[]),p.get(y).push(v)}),p},[n,a,o,l]);return{folgasAtivasPorDia:c,feriasPorDia:d,eventosAgendaPorDia:x}},Dx=e=>{const{historico:t}=me();return f.useMemo(()=>t.filter(n=>{const s=new Date(n.timestamp).getTime(),o=!e.userId||n.actorId===parseInt(e.userId),a=!e.dataInicio||s>=new Date(e.dataInicio).getTime(),l=!e.dataFim||s<=new Date(e.dataFim+"T23:59:59").getTime();return o&&a&&l}),[t,e])},Ox=e=>{const{policiais:t}=me();return f.useMemo(()=>{const n=e.toLowerCase();return t.filter(s=>s.nome.toLowerCase().includes(n)||s.re.toLowerCase().includes(n)).sort((s,o)=>s.nome.localeCompare(o.nome))},[t,e])},Ix=e=>{const{policiais:t,getCreditsFor:n,countUsedFolgasFor:s}=me(),{yearFilter:o,pelotaoFilter:a,searchFilter:l}=e;return f.useMemo(()=>{const i=l.toLowerCase();return t.filter(c=>c.ativo).map(c=>{const d=n(c.id,o),x=s(c.id,o),p=d-x;return{...c,creditos:d,usadas:x,saldo:p}}).filter(c=>{const d=!l||c.nome.toLowerCase().includes(i)||c.re.includes(i),x=!a||c.pelotao===a;return d&&x}).sort((c,d)=>c.nome.localeCompare(d.nome))},[t,o,a,l,n,s])},Rx=e=>{const{ferias:t,policiais:n}=me(),{currentUser:s,role:o}=ie(),a=f.useMemo(()=>new Map(n.map(l=>[l.id,l])),[n]);return f.useMemo(()=>t.map(l=>{const i=a.get(l.policialId);if(i){const{id:c,...d}=i;return{...l,...d}}return l}).filter(l=>{const i=o==="ADMIN"||o==="SARGENTO"&&l.pelotao===(s==null?void 0:s.pelotao)||l.policialId===(s==null?void 0:s.policialId),c=!e.ano||l.anoReferencia.toString()===e.ano,d=!e.pelotao||l.pelotao===e.pelotao,x=!e.status||l.status===e.status;return i&&c&&d&&x}).sort((l,i)=>new Date(i.criadoEm).getTime()-new Date(l.criadoEm).getTime()),[t,e,o,s,a])},Px=()=>{const{agendaEventos:e}=me();return f.useMemo(()=>[...e].sort((t,n)=>new Date(n.data).getTime()-new Date(t.data).getTime()),[e])},Lx=e=>{const{policiais:t,agendaEventos:n}=me(),{tipoFiltro:s,pelotaoFiltro:o}=e,{role:a,currentUser:l}=ie(),i=f.useMemo(()=>a==="SARGENTO"?t.filter(c=>c.pelotao===(l==null?void 0:l.pelotao)):t,[t,a,l]);return f.useMemo(()=>{const c=n.filter(v=>v.tipo===s),d=new Map;c.forEach(v=>{v.policiaisIds.forEach(y=>{const j=i.find(S=>S.id===y);if(j){const S=d.get(y);(!S||new Date(v.data)>new Date(S.evento.data))&&d.set(y,{policial:j,evento:v})}})});const x=i.filter(v=>v.ativo);let p=x.filter(v=>!d.has(v.id)),u=Array.from(d.values()).sort((v,y)=>v.policial.nome.localeCompare(y.policial.nome));return o&&(u=u.filter(v=>v.policial.pelotao===o),p=x.filter(v=>v.pelotao===o&&!d.has(v.id))),{participantes:u,pendentes:p.sort((v,y)=>v.nome.localeCompare(y.nome))}},[s,o,n,i])},Tx=({className:e})=>r.jsxs("svg",{className:e,xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[r.jsx("rect",{x:"3",y:"4",width:"18",height:"18",rx:"2",ry:"2"}),r.jsx("line",{x1:"16",y1:"2",x2:"16",y2:"6"}),r.jsx("line",{x1:"8",y1:"2",x2:"8",y2:"6"}),r.jsx("line",{x1:"3",y1:"10",x2:"21",y2:"10"})]}),pp=({className:e})=>r.jsx("svg",{className:e,xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:r.jsx("polyline",{points:"20 6 9 17 4 12"})}),_x=({className:e})=>r.jsxs("svg",{className:e,xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[r.jsx("polyline",{points:"16 3 21 3 21 8"}),r.jsx("line",{x1:"4",y1:"20",x2:"21",y2:"3"}),r.jsx("polyline",{points:"8 21 3 21 3 16"}),r.jsx("line",{x1:"20",y1:"4",x2:"3",y2:"21"})]}),Mx=({className:e})=>r.jsxs("svg",{className:e,xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[r.jsx("circle",{cx:"12",cy:"12",r:"10"}),r.jsx("line",{x1:"15",y1:"9",x2:"9",y2:"15"}),r.jsx("line",{x1:"9",y1:"9",x2:"15",y2:"15"})]}),ho=({className:e})=>r.jsxs("svg",{className:e,xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[r.jsx("circle",{cx:"12",cy:"12",r:"10"}),r.jsx("polyline",{points:"12 6 12 12 16 14"})]}),mp=e=>r.jsxs("svg",{...e,xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[r.jsx("rect",{x:"2",y:"7",width:"20",height:"14",rx:"2",ry:"2"}),r.jsx("path",{d:"M16 21V5a2 2 0 0 0-2-2h-4a2 2 0 0 0-2 2v16"})]}),Fx=e=>r.jsxs("svg",{...e,xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[r.jsx("path",{d:"M16 4h2a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h2"}),r.jsx("rect",{x:"8",y:"2",width:"8",height:"4",rx:"1",ry:"1"}),r.jsx("path",{d:"m9 14 2 2 4-4"})]}),hp=e=>r.jsxs("svg",{...e,xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[r.jsx("rect",{x:"3",y:"4",width:"18",height:"18",rx:"2",ry:"2"}),r.jsx("line",{x1:"16",y1:"2",x2:"16",y2:"6"}),r.jsx("line",{x1:"8",y1:"2",x2:"8",y2:"6"}),r.jsx("line",{x1:"3",y1:"10",x2:"21",y2:"10"}),r.jsx("path",{d:"m9 16 2 2 4-4"})]}),fp=e=>r.jsx("svg",{...e,xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:r.jsx("path",{d:"M17.8 19.2 16 11l3.5-3.5C21 6 21.5 4 21 3c-1-.5-3 0-4.5 1.5L13 8 4.8 6.2c-.5-.1-.9.1-1.1.5l-.3.5c-.2.5-.1 1 .3 1.3L9 12l-2 3H4l-1 1 3 2 2 3 1-1v-3l3-2 3.5 5.3c.3.4.8.5 1.3.3l.5-.2c.4-.3.6-.7.5-1.2z"})}),$x=e=>r.jsxs("svg",{...e,xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[r.jsx("polyline",{points:"22 12 16 12 14 15 10 15 8 12 2 12"}),r.jsx("path",{d:"M5.45 5.11 2 12v6a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2v-6l-3.45-6.89A2 2 0 0 0 16.76 4H7.24a2 2 0 0 0-1.79 1.11z"})]}),zx=({className:e="h-5 w-5"})=>r.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24",fill:"none",stroke:"currentColor",strokeWidth:"2.5",strokeLinecap:"round",strokeLinejoin:"round",className:e,children:r.jsx("path",{d:"M4 19.5A2.5 2.5 0 0 1 6.5 17H20v2H6.5A2.5 2.5 0 0 1 4 19.5v-15A2.5 2.5 0 0 1 6.5 2H20v15H6.5A2.5 2.5 0 0 1 4 4.5z"})}),xp=({className:e="h-5 w-5"})=>r.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24",fill:"none",stroke:"currentColor",strokeWidth:"2.5",strokeLinecap:"round",strokeLinejoin:"round",className:e,children:[r.jsx("circle",{cx:"12",cy:"12",r:"10"}),r.jsx("circle",{cx:"12",cy:"12",r:"6"}),r.jsx("circle",{cx:"12",cy:"12",r:"2"})]}),Gx=e=>r.jsxs("svg",{...e,xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[r.jsx("circle",{cx:"12",cy:"8",r:"7"}),r.jsx("polyline",{points:"8.21 13.89 7 23 12 17 17 23 15.79 13.88"})]}),Bx=({icon:e,title:t,date:n,details:s,link:o,colorClass:a})=>{const l=r.jsxs("div",{className:"flex items-start space-x-4 p-3 hover:bg-pm-gray-50 rounded-lg transition-colors duration-150",children:[r.jsx("div",{className:`flex-shrink-0 w-10 h-10 rounded-full flex items-center justify-center ${a}`,children:e}),r.jsxs("div",{className:"flex-1",children:[r.jsx("p",{className:"font-semibold text-pm-gray-800",children:t}),r.jsx("p",{className:"text-sm text-pm-gray-600",children:n}),s&&r.jsx("p",{className:"text-xs text-pm-gray-500 mt-1",children:s})]})]});return o?r.jsx(hi,{to:o,children:l}):r.jsx("div",{children:l})},Vx=()=>{const{currentUser:e}=ie(),{agendaEventos:t,folgas:n,ferias:s}=me(),o=f.useMemo(()=>{if(!(e!=null&&e.policialId))return[];const l=new Date;l.setHours(0,0,0,0);const i=new Date(l);i.setDate(l.getDate()+7);const c=[];return t.forEach(d=>{const x=new Date(d.data+"T12:00:00");d.policiaisIds.includes(e.policialId)&&x>=l&&x<=i&&c.push({icon:d.tipo==="OPERACAO"?r.jsx(mp,{className:"h-5 w-5 text-white"}):r.jsx(Fx,{className:"h-5 w-5 text-white"}),title:d.titulo,date:`${x.toLocaleDateString("pt-BR")} das ${d.horaInicio} s ${d.horaFim}`,details:`Tipo: ${Sn[d.tipo]}`,link:"/calendario",colorClass:"bg-pm-blue"})}),n.forEach(d=>{const x=new Date(d.data+"T12:00:00");d.policialld===e.policialId&&d.status===J.ATIVA&&d.aprovacao===H.VALIDADA_ADMIN&&x>=l&&x<=i&&c.push({icon:r.jsx(hp,{className:"h-5 w-5 text-white"}),title:"Folga Programada",date:x.toLocaleDateString("pt-BR"),link:"/folgas",colorClass:"bg-green-500"})}),s.forEach(d=>{const x=new Date(d.dataInicio+"T12:00:00"),p=new Date(d.dataFim+"T12:00:00");d.policialId===e.policialId&&x<=i&&p>=l&&c.push({icon:r.jsx(fp,{className:"h-5 w-5 text-white"}),title:"Frias",date:`${x.toLocaleDateString("pt-BR")} a ${p.toLocaleDateString("pt-BR")}`,link:"/ferias",colorClass:"bg-teal-500"})}),n.forEach(d=>{d.policialld===e.policialId&&d.aprovacao===H.ENVIADA_SARGENTO&&c.push({icon:r.jsx(ho,{className:"h-5 w-5 text-white"}),title:"Folga Aguardando Aprovao",date:`Solicitada para ${new Date(d.data+"T12:00:00").toLocaleDateString("pt-BR")}`,link:`/folgas?aprovacao=${H.ENVIADA_SARGENTO}`,colorClass:"bg-yellow-500"})}),c.sort((d,x)=>new Date(d.date.split(" ")[0].split("/").reverse().join("-")).getTime()-new Date(x.date.split(" ")[0].split("/").reverse().join("-")).getTime())},[e,t,n,s]),a=f.useMemo(()=>{if(!(e!=null&&e.policialId))return null;const l=t.filter(i=>i.tipo===ne.EAP&&i.policiaisIds.includes(e.policialId)).sort((i,c)=>new Date(c.data).getTime()-new Date(i.data).getTime());if(l.length>0){const i=l[0];return{status:"Concludo",date:new Date(i.data+"T12:00:00").toLocaleDateString("pt-BR"),details:i.titulo}}else return{status:"Pendente",date:null,details:"Aguardando escalonamento para o prximo EAP."}},[e,t]);return r.jsxs(r.Fragment,{children:[r.jsxs("div",{className:"bg-white p-6 rounded-lg shadow-md mb-8",children:[r.jsx("h2",{className:"text-xl font-bold text-pm-gray-800 mb-4",children:"Prximos 7 Dias: Suas Atividades e Ausncias"}),o.length>0?r.jsx("div",{className:"space-y-2",children:o.map((l,i)=>r.jsx(Bx,{...l},i))}):r.jsx("p",{className:"text-pm-gray-600",children:"Nenhuma atividade agendada para os prximos 7 dias."})]}),a&&r.jsxs("div",{className:"bg-white p-6 rounded-lg shadow-md mb-8",children:[r.jsxs("h2",{className:"text-xl font-bold text-pm-gray-800 mb-4 flex items-center gap-2",children:[r.jsx(xp,{className:"h-6 w-6 text-purple-600"}),"Status do seu EAP (Estgio de Aperfeioamento Profissional)"]}),r.jsxs("div",{className:`flex items-center p-4 rounded-lg ${a.status==="Concludo"?"bg-green-50 border-green-200":"bg-yellow-50 border-yellow-200"} border`,children:[r.jsx("div",{className:`flex-shrink-0 w-12 h-12 rounded-full flex items-center justify-center ${a.status==="Concludo"?"bg-green-100":"bg-yellow-100"}`,children:a.status==="Concludo"?r.jsx(pp,{className:"h-6 w-6 text-green-600"}):r.jsx(ho,{className:"h-6 w-6 text-yellow-600"})}),r.jsxs("div",{className:"ml-4",children:[r.jsx("p",{className:`font-bold text-lg ${a.status==="Concludo"?"text-green-800":"text-yellow-800"}`,children:a.status}),r.jsx("p",{className:"text-sm text-pm-gray-600",children:a.status==="Concludo"?`ltima participao em ${a.date} (${a.details})`:a.details})]})]})]})]})},Ux=()=>{const{currentUser:e}=ie(),{folgas:t,ferias:n,agendaEventos:s,policiais:o}=me();hn();const a=f.useMemo(()=>{if(!(e!=null&&e.pelotao))return{pendentes:[],proximosEventos:[],proximasAusencias:[]};const l=new Date;l.setHours(0,0,0,0);const i=new Date(l);i.setDate(l.getDate()+7);const c=new Set(o.filter(u=>u.pelotao===e.pelotao).map(u=>u.id)),d=t.filter(u=>u.aprovacao===H.ENVIADA_SARGENTO&&u.pelotao===e.pelotao),x=s.filter(u=>{const v=new Date(u.data+"T12:00:00");return v>=l&&v<=i&&u.policiaisIds.some(y=>c.has(y))}).flatMap(u=>u.policiaisIds.filter(v=>c.has(v)).map(v=>({policial:o.find(y=>y.id===v),evento:u}))).filter(u=>u.policial),p=[];return t.forEach(u=>{const v=new Date(u.data+"T12:00:00");u.status===J.ATIVA&&u.aprovacao===H.VALIDADA_ADMIN&&c.has(u.policialld)&&v>=l&&v<=i&&p.push({policial:o.find(y=>y.id===u.policialld),tipo:"Folga",data:v.toLocaleDateString("pt-BR")})}),n.forEach(u=>{const v=new Date(u.dataInicio+"T12:00:00"),y=new Date(u.dataFim+"T12:00:00");c.has(u.policialId)&&v<=i&&y>=l&&p.push({policial:o.find(j=>j.id===u.policialId),tipo:"Frias",data:`${v.toLocaleDateString("pt-BR")} a ${y.toLocaleDateString("pt-BR")}`})}),{pendentes:d,proximosEventos:x,proximasAusencias:p.sort((u,v)=>new Date(u.data.split(" ")[0].split("/").reverse().join("-")).getTime()-new Date(v.data.split(" ")[0].split("/").reverse().join("-")).getTime())}},[e,t,n,s,o]);return r.jsxs("div",{className:"bg-white p-6 rounded-lg shadow-md mb-8",children:[r.jsxs("h2",{className:"text-xl font-bold text-pm-gray-800 mb-4",children:["Painel do Sargento (",e==null?void 0:e.pelotao,")"]}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[r.jsxs("div",{children:[r.jsxs("h3",{className:"font-semibold text-pm-gray-700 border-b pb-2 mb-3 flex items-center",children:[r.jsx($x,{className:"h-5 w-5 mr-2 text-pm-red-dark"})," Aprovaes Pendentes (",a.pendentes.length,")"]}),r.jsx("div",{className:"space-y-3",children:a.pendentes.length>0?a.pendentes.map(l=>r.jsxs(hi,{to:`/folgas?aprovacao=${H.ENVIADA_SARGENTO}`,className:"block p-2 bg-pm-red-100/50 hover:bg-pm-red-100 rounded-lg border border-pm-red-200",children:[r.jsx("p",{className:"font-semibold text-sm text-pm-red-800",children:l.nome}),r.jsxs("p",{className:"text-xs text-pm-gray-600",children:["Para ",new Date(l.data+"T12:00:00").toLocaleDateString("pt-BR")]})]},l.folgald)):r.jsx("p",{className:"text-sm text-pm-gray-500",children:"Nenhuma pendncia."})})]}),r.jsxs("div",{children:[r.jsxs("h3",{className:"font-semibold text-pm-gray-700 border-b pb-2 mb-3 flex items-center",children:[r.jsx(mp,{className:"h-5 w-5 mr-2 text-pm-blue"})," Efetivo em Eventos (Prx. 7 dias)"]}),r.jsx("div",{className:"space-y-2 max-h-60 overflow-y-auto",children:a.proximosEventos.length>0?a.proximosEventos.map((l,i)=>r.jsxs("div",{className:"p-2 border-b",children:[r.jsx("p",{className:"font-semibold text-sm",children:l.policial.nome}),r.jsxs("p",{className:"text-xs text-pm-gray-600",children:[l.evento.titulo," em ",new Date(l.evento.data+"T12:00:00").toLocaleDateString("pt-BR")]})]},i)):r.jsx("p",{className:"text-sm text-pm-gray-500",children:"Nenhum policial em eventos."})})]}),r.jsxs("div",{children:[r.jsxs("h3",{className:"font-semibold text-pm-gray-700 border-b pb-2 mb-3 flex items-center",children:[r.jsx(hp,{className:"h-5 w-5 mr-2 text-green-600"})," Prximas Folgas e Frias"]}),r.jsx("div",{className:"space-y-2 max-h-60 overflow-y-auto",children:a.proximasAusencias.length>0?a.proximasAusencias.map((l,i)=>r.jsxs("div",{className:"p-2 border-b",children:[r.jsx("p",{className:"font-semibold text-sm",children:l.policial.nome}),r.jsxs("p",{className:"text-xs text-pm-gray-600",children:[l.tipo," em ",l.data]})]},i)):r.jsx("p",{className:"text-sm text-pm-gray-500",children:"Nenhuma ausncia programada."})})]})]})]})},Wx=()=>{const{role:e,currentUser:t}=ie(),{ferias:n,agendaEventos:s,getBalanceFor:o,grupos:a}=me(),[l,i]=ip(),c=hn(),[d,x]=f.useState({mes:l.get("mes")||"",pelotao:l.get("pelotao")||"",postoGrad:l.get("postoGrad")||""}),{stats:p,reasonChartData:u,mesesDisponiveis:v}=Ax(d);f.useEffect(()=>{const D=new URLSearchParams;d.mes&&D.set("mes",d.mes),d.pelotao&&D.set("pelotao",d.pelotao),d.postoGrad&&D.set("postoGrad",d.postoGrad),i(D)},[d,i]);const y=f.useMemo(()=>[...a].sort((D,E)=>D.nome.localeCompare(E.nome)),[a]),j=new Date().getFullYear(),S=t!=null&&t.policialId?o(t.policialId,j):null,m=f.useMemo(()=>{const D=new Date,E=D.getFullYear(),I=D.getMonth(),_=new Date(E,I,1),A=new Date(E,I+1,0),T=new Set;n.forEach(M=>{if(M.status===be.AGENDADA){const z=new Date(M.dataInicio+"T12:00:00"),w=new Date(M.dataFim+"T12:00:00");z<=A&&w>=_&&T.add(M.policialId)}});const V=new Set,k=new Set;return s.forEach(M=>{const z=new Date(M.data+"T12:00:00");z.getFullYear()===E&&z.getMonth()===I&&(M.tipo===ne.EAP?M.policiaisIds.forEach(w=>V.add(w)):M.tipo===ne.CURSO&&M.policiaisIds.forEach(w=>k.add(w)))}),{feriasMesCorrente:T.size,eapMesCorrente:V.size,cursoMesCorrente:k.size}},[n,s]),h=D=>{const{name:E,value:I}=D.target;x(_=>({..._,[E]:I}))},N={ADMIN:{color:"bg-pm-blue-light bg-opacity-20",icon:"text-pm-blue"},SARGENTO:{color:"bg-red-100",icon:"text-pm-red-dark"},SUBORDINADO:{color:"bg-pm-gray-200",icon:"text-pm-gray-800"}}[e||"SUBORDINADO"];return r.jsxs("div",{children:[r.jsx("h1",{className:"text-3xl font-bold text-pm-gray-800",children:"Pgina Inicial"}),r.jsxs("p",{className:"text-lg text-pm-gray-600 mb-6",children:["Bem-vindo, ",t==null?void 0:t.nome,"!"]}),(t==null?void 0:t.policialId)&&S!==null&&r.jsx("div",{className:"mb-8 max-w-sm",children:r.jsx(Ct,{title:`MEU SALDO DE FOLGAS (${j})`,value:S,icon:r.jsx(Gx,{className:S>0?"text-green-600":"text-red-600"}),color:S>0?"bg-green-100":"bg-red-100",onClick:()=>c("/folgas")})}),e==="SUBORDINADO"&&r.jsx(Vx,{}),e==="SARGENTO"&&r.jsx(Ux,{}),r.jsx("div",{className:"bg-white p-4 rounded-lg shadow-md mb-6",children:r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[r.jsxs("div",{children:[r.jsx("label",{htmlFor:"mes",className:"block text-sm font-medium text-pm-gray-700",children:"Ms"}),r.jsxs("select",{id:"mes",name:"mes",value:d.mes,onChange:h,className:"mt-1 block w-full pl-3 pr-10 py-2 text-base border-pm-gray-300 focus:outline-none focus:ring-pm-blue focus:border-pm-blue sm:text-sm rounded-md",children:[r.jsx("option",{value:"",children:"Todos os Meses"}),v.map(D=>r.jsx("option",{value:D,children:new Date(D+"-02").toLocaleString("pt-BR",{month:"long",year:"numeric"})},D))]})]}),r.jsxs("div",{children:[r.jsx("label",{htmlFor:"pelotao",className:"block text-sm font-medium text-pm-gray-700",children:"Grupo/Peloto"}),r.jsxs("select",{id:"pelotao",name:"pelotao",value:d.pelotao,onChange:h,className:"mt-1 block w-full pl-3 pr-10 py-2 text-base border-pm-gray-300 focus:outline-none focus:ring-pm-blue focus:border-pm-blue sm:text-sm rounded-md",children:[r.jsx("option",{value:"",children:"Todos os Grupos"}),y.map(D=>r.jsx("option",{value:D.nome,children:D.nome},D.id))]})]}),r.jsxs("div",{children:[r.jsx("label",{htmlFor:"postoGrad",className:"block text-sm font-medium text-pm-gray-700",children:"Posto/Grad."}),r.jsxs("select",{id:"postoGrad",name:"postoGrad",value:d.postoGrad,onChange:h,className:"mt-1 block w-full pl-3 pr-10 py-2 text-base border-pm-gray-300 focus:outline-none focus:ring-pm-blue focus:border-pm-blue sm:text-sm rounded-md",children:[r.jsx("option",{value:"",children:"Todos os Postos/Grads"}),cp.map(D=>r.jsx("option",{value:D,children:D},D))]})]})]})}),e==="ADMIN"&&r.jsxs(r.Fragment,{children:[r.jsx("h2",{className:"text-xl font-semibold text-pm-gray-700 mb-4",children:"Resumo do Ms Corrente"}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6 mb-8",children:[r.jsx(Ct,{title:"POLICIAIS DE FRIAS",value:m.feriasMesCorrente,icon:r.jsx(fp,{className:"text-teal-600"}),color:"bg-teal-100",onClick:()=>c("/ferias")}),r.jsx(Ct,{title:"EM EAP",value:m.eapMesCorrente,icon:r.jsx(xp,{className:"text-purple-600"}),color:"bg-purple-100",onClick:()=>c("/agenda")}),r.jsx(Ct,{title:"EM CURSO",value:m.cursoMesCorrente,icon:r.jsx(zx,{className:"text-indigo-600"}),color:"bg-indigo-100",onClick:()=>c("/agenda")})]})]}),r.jsx("h2",{className:"text-xl font-semibold text-pm-gray-700 mb-4",children:"Resumo Oficial (Folgas Validadas)"}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-8",children:[r.jsx(Ct,{title:"TOTAL DE FOLGAS",value:p.total,icon:r.jsx(Tx,{className:N.icon}),color:N.color,onClick:()=>c(`/folgas?aprovacao=${H.VALIDADA_ADMIN}`)}),r.jsx(Ct,{title:"ATIVAS",value:p.ativas,icon:r.jsx(pp,{className:"text-green-600"}),color:"bg-green-100",onClick:()=>c(`/folgas?aprovacao=${H.VALIDADA_ADMIN}&status=${J.ATIVA}`)}),r.jsx(Ct,{title:"TROCADAS",value:p.trocadas,icon:r.jsx(_x,{className:"text-yellow-600"}),color:"bg-yellow-100",onClick:()=>c(`/folgas?aprovacao=${H.VALIDADA_ADMIN}&status=${J.TROCADA}`)}),r.jsx(Ct,{title:"EXCLUDAS",value:p.excluidas,icon:r.jsx(Mx,{className:"text-red-600"}),color:"bg-red-100",onClick:()=>c(`/folgas?aprovacao=${H.VALIDADA_ADMIN}&status=${J.EXCLUIDA}`)})]}),r.jsx("h2",{className:"text-xl font-semibold text-pm-gray-700 mb-4",children:"Pendncias"}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[r.jsx(Ct,{title:"PENDENTES SARGENTO",value:p.pendenteSgt,icon:r.jsx(ho,{className:"text-orange-600"}),color:"bg-orange-100",onClick:()=>c(`/folgas?aprovacao=${H.ENVIADA_SARGENTO}`)}),r.jsx(Ct,{title:"PENDENTES ADMIN",value:p.pendenteAdmin,icon:r.jsx(ho,{className:"text-cyan-600"}),color:"bg-cyan-100",onClick:()=>c(`/folgas?aprovacao=${H.APROVADA_SARGENTO}`)})]}),r.jsxs("div",{className:"mt-8",children:[r.jsx("h2",{className:"text-xl font-semibold text-pm-gray-700 mb-4",children:"Anlise de Motivos de Folga"}),r.jsx("div",{className:"bg-white p-6 rounded-lg shadow-md",children:u.length>0?r.jsxs("div",{children:[r.jsx("h3",{className:"font-semibold text-pm-gray-800 mb-4",children:"Principais Motivos de Folga"}),r.jsx("div",{className:"space-y-3",children:u.map(({category:D,count:E},I)=>{const _=u[0].count,A=_>0?E/_*100:0;return r.jsxs("div",{className:"grid grid-cols-12 gap-4 items-center text-sm",children:[r.jsx("div",{className:"col-span-3 text-pm-gray-600 font-medium truncate",children:D}),r.jsx("div",{className:"col-span-9",children:r.jsx("div",{className:"w-full bg-pm-gray-200 rounded-full h-6 relative",children:r.jsx("div",{className:"bg-pm-blue h-6 rounded-full flex items-center",style:{width:`${A}%`,minWidth:"35px"},role:"progressbar","aria-valuenow":E,"aria-valuemin":0,"aria-valuemax":_,"aria-label":`${D}: ${E}`,children:r.jsx("span",{className:"font-bold text-white pl-2",children:E})})})})]},I)})})]}):r.jsx("div",{className:"text-center py-8 border-2 border-dashed border-pm-gray-200 rounded-lg",children:r.jsx("p",{className:"text-pm-gray-600",children:"No h motivos de folga para exibir no perodo selecionado."})})})]})]})},Qe=({isOpen:e,onClose:t,title:n,children:s})=>e?r.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 z-50 flex justify-center items-center p-4",onClick:t,children:r.jsxs("div",{className:"bg-white rounded-lg shadow-xl w-full max-w-md flex flex-col max-h-full",onClick:o=>o.stopPropagation(),children:[r.jsxs("div",{className:"p-4 border-b flex-shrink-0 flex justify-between items-center",children:[r.jsx("h2",{className:"text-xl font-semibold text-pm-gray-800",children:n}),r.jsx("button",{onClick:t,className:"text-pm-gray-400 hover:text-pm-gray-600",children:r.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[r.jsx("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),r.jsx("line",{x1:"6",y1:"6",x2:"18",y2:"18"})]})})]}),r.jsx("div",{className:"p-6 overflow-y-auto",children:s})]})}):null,Hx=({message:e,type:t="success"})=>{const n={success:"bg-green-600",error:"bg-red-600",warning:"bg-yellow-500"}[t];return r.jsxs("div",{className:`fixed top-20 right-8 text-white py-3 px-5 rounded-lg shadow-xl z-50 flex items-center ${n}`,role:"alert","aria-live":"assertive",children:[r.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:"mr-2",children:[r.jsx("circle",{cx:"12",cy:"12",r:"10"}),r.jsx("path",{d:"M12 16v-4"}),r.jsx("path",{d:"M12 8h.01"})]}),r.jsx("span",{children:e})]})},Qx=({className:e})=>r.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:e,children:[r.jsx("path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14"}),r.jsx("polyline",{points:"22 4 12 14.01 9 11.01"})]}),Xx=()=>{const{policiais:e,users:t,addFolga:n,updateFolga:s,getBalanceFor:o,canRequestFolga:a,comentarios:l,addComentario:i,grupos:c}=me(),{currentUser:d,role:x}=ie(),[p]=ip(),[u,v]=f.useState(!1),[y,j]=f.useState(null),[S,m]=f.useState("add"),[h,g]=f.useState(""),[N,D]=f.useState(),[E,I]=f.useState(null),[_,A]=f.useState(""),[T,V]=f.useState(new Set),[k,M]=f.useState(new Set),[z,w]=f.useState(!1),[$,b]=f.useState(""),C=f.useRef(null),[R,G]=f.useState(""),[X,L]=f.useState(""),[U,Y]=f.useState(""),[Z,te]=f.useState(""),[xe,oe]=f.useState(""),[tt,O]=f.useState(""),[Q,he]=f.useState("integral"),[nt,Gt]=f.useState("08-13"),[Se,Lo]=f.useState({nomeRe:"",pelotao:"",aprovacao:p.get("aprovacao")||"",status:p.get("status")||""}),[To,fn]=f.useState(!1),[Oe,vp]=f.useState(null),[_o,Mo]=f.useState(""),fi=new Date().getFullYear(),Fo=d!=null&&d.policialId?o(d.policialId,fi):null,as=Ex(Se),yp=f.useMemo(()=>[...c].sort((P,K)=>P.nome.localeCompare(K.nome)),[c]),$o=P=>{V(new Set(P));const K=setTimeout(()=>{V(new Set)},2e3);return()=>clearTimeout(K)};f.useEffect(()=>{if(E){const P=setTimeout(()=>I(null),4e3);return()=>clearTimeout(P)}},[E]);const ls=P=>{const{name:K,value:ae}=P.target;Lo(Nt=>({...Nt,[K]:ae})),M(new Set)},wp=f.useMemo(()=>t.filter(P=>P.role==="SARGENTO"&&P.ativo),[t]),is=f.useMemo(()=>{if(!_.trim())return e.filter(K=>K.ativo).sort((K,ae)=>K.nome.localeCompare(ae.nome));const P=_.toLowerCase();return e.filter(K=>K.ativo&&(K.re.toLowerCase().includes(P)||K.nome.toLowerCase().includes(P)||K.pelotao.toLowerCase().includes(P)))},[e,_]),ur=(P,K=null)=>{m(P),P==="add"?(j({policialld:x==="SUBORDINADO"?(d==null?void 0:d.policialId)??void 0:void 0,data:"",motivo:""}),G(""),L(""),Y(""),te(""),oe(""),O(""),he("integral"),Gt("08-13"),A("")):j(K),g(""),D(void 0),v(!0)},pr=P=>{vp(P),Mo(""),fn(!0)},mr=async()=>{if(!(!y||!d))try{if(S==="add"){const P=new Date;P.setHours(0,0,0,0);const K=y.data?new Date(y.data+"T00:00:00"):null;if(!y.policialld)throw new Error("Policial  obrigatrio.");if(!y.data||!K||K<P)throw new Error("Data invlida. Selecione uma data de hoje ou futura.");if(R==="Folga Cmt Geral"){const{ok:Nt,error:Ce,warn:q}=a({policialId:y.policialld,dateISO:y.data,allowOverride:x==="ADMIN"||x==="SARGENTO"});if(!Nt)throw new Error(Ce||"Falha ao verificar saldo.");q&&I({message:q,type:"warning"})}let ae="";switch(R){case"Folga Cmt Geral":ae="Folga Cmt Geral";break;case"Folga Cmt Cia":if(X.trim().length<5)throw new Error("O motivo para a Folga Cmt Cia  obrigatrio (mn. 5 caracteres).");ae=`Folga Cmt Cia: ${X.trim()}`;break;case"Folga Compensao":if(!U||!Z||!xe)throw new Error("Para Folga Compensao, a data, incio e fim do servio extra so obrigatrios.");ae=`Folga Compensao - Dia: ${new Date(U+"T00:00:00").toLocaleDateString("pt-BR")} | Incio: ${Z} | Fim: ${xe}${tt?` | BOPM: ${tt}`:""}`;break;case"Folga Semanal":ae=Q==="integral"?"Folga Semanal (Integral)":`Folga Semanal (Meio Expediente - ${nt==="08-13"?"08h00 s 13h00":"13h00 s 18h00"})`;break;case"Folga Outros":if(X.trim().length<10)throw new Error("O motivo para 'Outros'  obrigatrio (mn. 10 caracteres).");ae=`Folga Outros: ${X.trim()}`;break;default:throw new Error("Selecione um tipo de motivo para a folga.")}await n({policialld:y.policialld,data:y.data,motivo:ae},d),I(x==="SUBORDINADO"?{message:"Folga enviada para aprovao do sargento.",type:"success"}:x==="SARGENTO"?{message:"Folga aprovada e enviada para validao do admin.",type:"success"}:{message:"Folga validada com sucesso.",type:"success"})}else{let P={};if(S==="trocar"){if(!y.trocadaPara)throw new Error("A nova data  obrigatria.");P={status:J.TROCADA,trocadaPara:y.trocadaPara,motivo:h}}else if(S==="excluir"){if(!h)throw new Error("O motivo da excluso  obrigatrio.");P={status:J.EXCLUIDA,motivo:h}}else if(S==="sargento"){if(!N)throw new Error("Selecione um sargento responsvel.");P={aprovacao:H.ENVIADA_SARGENTO,sargentoResponsavelld:N}}else if(S==="parecer"){if(!h)throw new Error("O parecer  obrigatrio para esta ao.");if(y.aprovacao===H.ENVIADA_SARGENTO)P={aprovacao:y.actionType==="aprovar"?H.APROVADA_SARGENTO:H.NEGADA_SARGENTO,sargentold:d.id,sargentoParecer:h};else if(y.aprovacao===H.APROVADA_SARGENTO){const K=y.actionType==="aprovar";P={aprovacao:K?H.VALIDADA_ADMIN:H.REPROVADA_ADMIN,adminld:d.id,adminParecer:h,status:K?J.ATIVA:J.CANCELADA}}}await s(y.folgald,P,d),$o([y.folgald]),I({message:"Operao realizada com sucesso!",type:"success"})}v(!1)}catch(P){I({message:P.message,type:"error"})}},jp=async P=>{d&&(await s(P.folgald,{status:J.ATIVA,trocadaPara:null,motivo:null},d),$o([P.folgald]),I({message:"Folga restaurada com sucesso!",type:"success"}))},cs=(P,K)=>{ur("parecer",{...P,actionType:K})},xi=P=>x==="SARGENTO"&&P.aprovacao===H.ENVIADA_SARGENTO||x==="ADMIN"&&P.aprovacao===H.APROVADA_SARGENTO,Rn=f.useMemo(()=>as.filter(xi).map(P=>P.folgald),[as,x]);f.useEffect(()=>{if(C.current){const P=k.size>0&&k.size<Rn.length;C.current.indeterminate=P}},[k,Rn]);const Np=P=>{M(K=>{const ae=new Set(K);return ae.has(P)?ae.delete(P):ae.add(P),ae})},Sp=P=>{M(P.target.checked?new Set(Rn):new Set)},Cp=()=>{b(""),w(!0)},bp=async()=>{if(!d)return;if($.trim()===""){I({message:"O parecer  obrigatrio para aprovao em massa.",type:"error"});return}let P={};if(x==="SARGENTO")P={aprovacao:H.APROVADA_SARGENTO,sargentold:d.id,sargentoParecer:$};else if(x==="ADMIN")P={aprovacao:H.VALIDADA_ADMIN,adminld:d.id,adminParecer:$,status:J.ATIVA};else return;try{const K=[...k];await Promise.all(K.map(ae=>s(ae,P,d))),$o(K),I({message:`${k.size} folgas aprovadas com sucesso!`,type:"success"}),M(new Set),w(!1)}catch(K){I({message:K.message||"Ocorreu um erro ao aprovar as folgas.",type:"error"})}},Ep=()=>{const P=new Date().toISOString().split("T")[0],K=e.find(Nt=>Nt.id===(y==null?void 0:y.policialld)),ae={ADMIN:"bg-pm-blue hover:bg-pm-blue-dark",SARGENTO:"bg-pm-red-700 hover:bg-pm-red-800",SUBORDINADO:"bg-pm-gray-800 hover:bg-pm-gray-900"}[x||"SUBORDINADO"];switch(S){case"add":return r.jsxs("form",{onSubmit:q=>{q.preventDefault(),mr()},className:"space-y-4",children:[(x==="ADMIN"||x==="SARGENTO")&&r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium",children:"Policial"}),r.jsx("input",{type:"text",placeholder:"Buscar por nome, RE ou peloto...",value:_,onChange:q=>A(q.target.value),className:"mb-2 mt-1 w-full border border-gray-300 rounded-md p-2"}),r.jsxs("select",{value:(y==null?void 0:y.policialld)||"",onChange:q=>j({...y,policialld:Number(q.target.value)}),className:"mt-1 w-full border border-gray-300 rounded-md p-2",required:!0,size:is.length>5?5:Math.max(2,is.length+1),children:[r.jsx("option",{value:"",children:"Selecione o policial..."}),is.map(q=>r.jsxs("option",{value:q.id,children:[q.postoGrad," ",q.re," ",q.nome," (",q.pelotao,")"]},q.id))]}),is.length===0&&r.jsx("p",{className:"text-xs text-red-500 mt-1",children:"Nenhum policial encontrado."})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium",children:"Data da Folga"}),r.jsx("input",{type:"date",min:P,value:(y==null?void 0:y.data)||"",onChange:q=>j({...y,data:q.target.value}),className:"mt-1 w-full border border-gray-300 rounded-md p-2",required:!0})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium",children:"Peloto"}),r.jsx("select",{value:x==="SUBORDINADO"?d==null?void 0:d.pelotao:(K==null?void 0:K.pelotao)||"",disabled:!0,className:"mt-1 w-full border border-gray-300 rounded-md p-2 bg-gray-100 text-pm-gray-700 cursor-not-allowed",children:r.jsx("option",{value:"",children:x==="SUBORDINADO"?d==null?void 0:d.pelotao:(K==null?void 0:K.pelotao)||"Selecione um policial"})})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium",children:"Motivo da Folga"}),r.jsxs("select",{value:R,onChange:q=>{G(q.target.value),L("")},className:"mt-1 w-full border border-gray-300 rounded-md p-2",required:!0,children:[r.jsx("option",{value:"",children:"Selecione o tipo..."}),r.jsx("option",{value:"Folga Cmt Geral",children:"Folga Cmt Geral"}),r.jsx("option",{value:"Folga Cmt Cia",children:"Folga Cmt Cia"}),r.jsx("option",{value:"Folga Compensao",children:"Folga Compensao"}),(K==null?void 0:K.pelotao)==="ADM"&&r.jsx("option",{value:"Folga Semanal",children:"Folga Semanal (ADM)"}),r.jsx("option",{value:"Folga Outros",children:"Folga Outros"})]})]}),R==="Folga Cmt Cia"&&r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium",children:"Motivo da Folga Cmt Cia"}),r.jsx("textarea",{placeholder:"Descreva o motivo...",value:X,onChange:q=>L(q.target.value),rows:3,className:"mt-1 w-full border border-gray-300 rounded-md p-2",required:!0,minLength:5})]}),R==="Folga Outros"&&r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium",children:"Motivo (Outros)"}),r.jsx("textarea",{placeholder:"Descreva o motivo detalhadamente...",value:X,onChange:q=>L(q.target.value),rows:3,className:"mt-1 w-full border border-gray-300 rounded-md p-2",required:!0,minLength:10})]}),R==="Folga Compensao"&&r.jsxs("div",{className:"space-y-4 p-4 border border-pm-gray-200 rounded-md bg-pm-gray-50",children:[r.jsx("h4",{className:"font-semibold text-pm-gray-700",children:"Detalhes da Compensao"}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium",children:"Data do Servio Extra"}),r.jsx("input",{type:"date",value:U,onChange:q=>Y(q.target.value),className:"mt-1 w-full border border-gray-300 rounded-md p-2",required:!0})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium",children:"BOPM (Opcional)"}),r.jsx("input",{type:"text",placeholder:"N do BOPM",value:tt,onChange:q=>O(q.target.value),className:"mt-1 w-full border border-gray-300 rounded-md p-2"})]})]}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium",children:"Incio do Servio"}),r.jsx("input",{type:"time",value:Z,onChange:q=>te(q.target.value),className:"mt-1 w-full border border-gray-300 rounded-md p-2",required:!0})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium",children:"Trmino do Servio"}),r.jsx("input",{type:"time",value:xe,onChange:q=>oe(q.target.value),className:"mt-1 w-full border border-gray-300 rounded-md p-2",required:!0})]})]})]}),R==="Folga Semanal"&&r.jsxs("div",{className:"space-y-4 p-4 border border-pm-gray-200 rounded-md bg-pm-gray-50",children:[r.jsx("h4",{className:"font-semibold text-pm-gray-700",children:"Detalhes da Folga Semanal"}),r.jsxs("div",{role:"radiogroup",className:"flex items-center space-x-6",children:[r.jsxs("label",{className:"flex items-center cursor-pointer",children:[r.jsx("input",{type:"radio",name:"folgaSemanalTipo",value:"integral",checked:Q==="integral",onChange:()=>he("integral"),className:"h-4 w-4 text-pm-blue focus:ring-pm-blue border-gray-300"}),r.jsx("span",{className:"ml-2 text-sm",children:"Integral"})]}),r.jsxs("label",{className:"flex items-center cursor-pointer",children:[r.jsx("input",{type:"radio",name:"folgaSemanalTipo",value:"meio",checked:Q==="meio",onChange:()=>he("meio"),className:"h-4 w-4 text-pm-blue focus:ring-pm-blue border-gray-300"}),r.jsx("span",{className:"ml-2 text-sm",children:"Meio Expediente"})]})]}),Q==="meio"&&r.jsxs("div",{role:"radiogroup",className:"pt-2 flex items-center space-x-6",children:[r.jsxs("label",{className:"flex items-center cursor-pointer",children:[r.jsx("input",{type:"radio",name:"meioExpedienteHorario",value:"08-13",checked:nt==="08-13",onChange:()=>Gt("08-13"),className:"h-4 w-4"}),r.jsx("span",{className:"ml-2 text-sm",children:"08h00-13h00"})]}),r.jsxs("label",{className:"flex items-center cursor-pointer",children:[r.jsx("input",{type:"radio",name:"meioExpedienteHorario",value:"13-18",checked:nt==="13-18",onChange:()=>Gt("13-18"),className:"h-4 w-4"}),r.jsx("span",{className:"ml-2 text-sm",children:"13h00-18h00"})]})]})]}),r.jsxs("div",{className:"flex justify-end pt-4 space-x-2",children:[r.jsx("button",{type:"button",onClick:()=>v(!1),className:"bg-pm-gray-200 hover:bg-pm-gray-300 text-pm-gray-800 font-bold py-2 px-4 rounded-md",children:"Cancelar"}),r.jsx("button",{type:"submit",className:`${ae} text-white font-bold py-2 px-4 rounded-md`,children:"Enviar"})]})]});case"trocar":return r.jsxs("form",{onSubmit:q=>{q.preventDefault(),mr()},className:"space-y-4",children:[r.jsxs("p",{children:["Trocando folga de ",r.jsx("strong",{children:y==null?void 0:y.nome})," do dia ",r.jsx("strong",{children:y&&new Date(y.data+"T00:00:00").toLocaleDateString()})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium",children:"Nova Data da Folga"}),r.jsx("input",{type:"date",value:(y==null?void 0:y.trocadaPara)||"",onChange:q=>j({...y,trocadaPara:q.target.value}),className:"mt-1 w-full border border-gray-300 rounded-md p-2",required:!0})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium",children:"Motivo/Observao (Opcional)"}),r.jsx("textarea",{value:h,onChange:q=>g(q.target.value),rows:3,className:"mt-1 w-full border border-gray-300 rounded-md p-2"})]}),r.jsx("div",{className:"flex justify-end pt-4",children:r.jsx("button",{type:"submit",className:"bg-yellow-500 hover:bg-yellow-600 text-white font-bold py-2 px-4 rounded-md",children:"Confirmar Troca"})})]});case"excluir":return r.jsxs("form",{onSubmit:q=>{q.preventDefault(),mr()},className:"space-y-4",children:[r.jsxs("p",{children:["Voc tem certeza que deseja excluir a folga de ",r.jsx("strong",{children:y==null?void 0:y.nome})," do dia ",r.jsx("strong",{children:y&&new Date(y.data+"T00:00:00").toLocaleDateString()}),"?"]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium",children:"Motivo da Excluso"}),r.jsx("textarea",{value:h,onChange:q=>g(q.target.value),rows:3,className:"mt-1 w-full border border-gray-300 rounded-md p-2",required:!0})]}),r.jsx("div",{className:"flex justify-end pt-4",children:r.jsx("button",{type:"submit",className:"bg-red-600 hover:bg-red-700 text-white font-bold py-2 px-4 rounded-md",children:"Confirmar Excluso"})})]});case"sargento":return r.jsxs("form",{onSubmit:q=>{q.preventDefault(),mr()},className:"space-y-4",children:[r.jsxs("p",{children:["Enviar folga de ",r.jsx("strong",{children:y==null?void 0:y.nome})," para aprovao."]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium",children:"Sargento Responsvel"}),r.jsxs("select",{value:N||"",onChange:q=>D(Number(q.target.value)),className:"mt-1 w-full border border-gray-300 rounded-md p-2",required:!0,children:[r.jsx("option",{value:"",children:"Selecione um sargento..."}),wp.map(q=>r.jsxs("option",{value:q.id,children:[q.postoGrad," ",q.nome]},q.id))]})]}),r.jsx("div",{className:"flex justify-end pt-4",children:r.jsx("button",{type:"submit",className:"bg-blue-600 hover:bg-blue-700 text-white font-bold py-2 px-4 rounded-md",children:"Enviar"})})]});case"parecer":const Nt=(y==null?void 0:y.actionType)==="aprovar"?"Aprovar":"Negar",Ce=(y==null?void 0:y.actionType)==="aprovar"?"bg-green-600 hover:bg-green-700":"bg-red-600 hover:bg-red-700";return r.jsxs("form",{onSubmit:q=>{q.preventDefault(),mr()},className:"space-y-4",children:[r.jsx("p",{children:`${Nt} folga de ${y==null?void 0:y.nome}`}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium",children:"Parecer / Justificativa"}),r.jsx("textarea",{value:h,onChange:q=>g(q.target.value),rows:3,className:"mt-1 w-full border border-gray-300 rounded-md p-2",required:!0})]}),r.jsx("div",{className:"flex justify-end pt-4",children:r.jsx("button",{type:"submit",className:`${Ce} text-white font-bold py-2 px-4 rounded-md`,children:"Confirmar"})})]});default:return null}},Ap=P=>{if(!P)return"N/D";const K=t.find(ae=>ae.id===P);return K?`${K.postoGrad} ${K.nome}`:"Desconhecido"},kp={ADMIN:"bg-pm-blue hover:bg-pm-blue-dark",SARGENTO:"bg-pm-red-700 hover:bg-pm-red-800",SUBORDINADO:"bg-pm-gray-800 hover:bg-pm-gray-900"}[x||"SUBORDINADO"];return r.jsxs("div",{className:"container mx-auto",children:[E&&r.jsx(Hx,{message:E.message,type:E.type}),r.jsxs("div",{className:"flex justify-between items-center mb-6 flex-wrap gap-4",children:[r.jsx("h1",{className:"text-3xl font-bold text-pm-gray-800",children:"Gerenciar Folgas"}),r.jsxs("div",{className:"flex items-center gap-4",children:[Fo!==null&&r.jsxs("div",{className:"bg-white p-2 px-4 rounded-lg shadow-sm text-center",children:[r.jsxs("span",{className:"text-xs text-pm-gray-500 font-medium block",children:["SALDO ",fi]}),r.jsx("span",{className:`text-2xl font-bold ${Fo>0?"text-green-600":"text-red-600"}`,children:Fo})]}),(x==="ADMIN"||x==="SARGENTO")&&k.size>0&&r.jsxs("button",{onClick:Cp,className:"bg-green-600 hover:bg-green-700 text-white font-bold py-2 px-4 rounded-md flex items-center shadow-sm h-full transition-all",children:[r.jsx(Qx,{className:"mr-2 h-5 w-5"}),"Aprovar Selecionadas (",k.size,")"]}),r.jsxs("button",{onClick:()=>ur("add"),className:`${kp} text-white font-bold py-2 px-4 rounded-md flex items-center shadow-sm h-full`,children:[r.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:"mr-2",children:[r.jsx("line",{x1:"12",y1:"5",x2:"12",y2:"19"}),r.jsx("line",{x1:"5",y1:"12",x2:"19",y2:"12"})]}),"Acionar Folga"]})]})]}),r.jsx("div",{className:"bg-white p-4 rounded-lg shadow-md mb-6",children:r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[r.jsx("input",{type:"text",name:"nomeRe",placeholder:"Buscar por Nome ou RE...",value:Se.nomeRe,onChange:ls,className:"w-full px-3 py-2 border border-pm-gray-300 rounded-md"}),r.jsxs("select",{name:"pelotao",value:Se.pelotao,onChange:ls,className:"w-full px-3 py-2 border border-pm-gray-300 rounded-md",children:[r.jsx("option",{value:"",children:"Todos os Grupos"}),yp.map(P=>r.jsx("option",{value:P.nome,children:P.nome},P.id))]}),r.jsxs("select",{name:"aprovacao",value:Se.aprovacao,onChange:ls,className:"w-full px-3 py-2 border border-pm-gray-300 rounded-md",children:[r.jsx("option",{value:"",children:"Todos os Status de Aprovao"}),Object.entries(ma).map(([P,K])=>r.jsx("option",{value:P,children:K},P))]}),r.jsxs("select",{name:"status",value:Se.status,onChange:ls,className:"w-full px-3 py-2 border border-pm-gray-300 rounded-md",children:[r.jsx("option",{value:"",children:"Todos os Status"}),px.map(P=>r.jsx("option",{value:P.value,children:P.label},P.value))]})]})}),r.jsxs("div",{className:"bg-white rounded-lg shadow-md overflow-x-auto",children:[r.jsxs("table",{className:"w-full text-sm text-left text-pm-gray-600",children:[r.jsx("thead",{className:"text-xs text-pm-gray-700 uppercase bg-pm-gray-50",children:r.jsxs("tr",{children:[r.jsx("th",{scope:"col",className:"px-6 py-3",children:Rn.length>0&&r.jsx("input",{ref:C,type:"checkbox",onChange:Sp,checked:Rn.length>0&&k.size===Rn.length,className:"h-4 w-4 text-pm-blue focus:ring-pm-blue border-gray-300 rounded"})}),r.jsx("th",{scope:"col",className:"px-6 py-3",children:"Policial"}),r.jsx("th",{scope:"col",className:"px-6 py-3",children:"Data"}),r.jsx("th",{scope:"col",className:"px-6 py-3",children:"Peloto"}),r.jsx("th",{scope:"col",className:"px-6 py-3",children:"Status Aprovao"}),r.jsx("th",{scope:"col",className:"px-6 py-3",children:"Sargento Responsvel"}),r.jsx("th",{scope:"col",className:"px-6 py-3 text-right",children:"Aes"})]})}),r.jsx("tbody",{children:as.map(P=>{const K=P.aprovacao===H.ENVIADA_SARGENTO||P.aprovacao===H.APROVADA_SARGENTO;return r.jsxs("tr",{className:`bg-white border-b hover:bg-pm-gray-50 transition-colors duration-200 ${T.has(P.folgald)?"highlight-success":""} ${K?"border-l-4 border-yellow-300":""}`,children:[r.jsx("td",{className:"px-6 py-4",children:xi(P)&&r.jsx("input",{type:"checkbox",checked:k.has(P.folgald),onChange:()=>Np(P.folgald),onClick:ae=>ae.stopPropagation(),className:"h-4 w-4 text-pm-blue focus:ring-pm-blue border-gray-300 rounded"})}),r.jsxs("td",{className:"px-6 py-4 font-medium text-pm-gray-900 cursor-pointer",onClick:()=>pr(P),children:[P.nome,r.jsx("br",{}),r.jsxs("span",{className:"text-xs text-pm-gray-500",children:["RE: ",P.re]})]}),r.jsx("td",{className:"px-6 py-4 cursor-pointer",onClick:()=>pr(P),children:new Date(P.data+"T00:00:00").toLocaleDateString("pt-BR")}),r.jsx("td",{className:"px-6 py-4 cursor-pointer",onClick:()=>pr(P),children:P.pelotao}),r.jsx("td",{className:"px-6 py-4 cursor-pointer",onClick:()=>pr(P),children:r.jsx("span",{className:`px-2 py-1 text-xs font-medium rounded-full ${Pc[P.aprovacao]}`,children:ma[P.aprovacao]})}),r.jsx("td",{className:"px-6 py-4 cursor-pointer",onClick:()=>pr(P),children:Ap(P.sargentoResponsavelld)}),r.jsxs("td",{className:"px-6 py-4 text-right space-x-2 whitespace-nowrap",children:[P.aprovacao===H.RASCUNHO&&P.policialld===(d==null?void 0:d.policialId)&&r.jsx("button",{onClick:()=>ur("sargento",P),className:"font-medium text-blue-600 hover:underline",children:"Enviar"}),P.aprovacao===H.ENVIADA_SARGENTO&&x==="SARGENTO"&&r.jsxs(r.Fragment,{children:[r.jsx("button",{onClick:()=>cs(P,"aprovar"),className:"font-medium text-green-600 hover:underline",children:"Aprovar"}),r.jsx("button",{onClick:()=>cs(P,"negar"),className:"font-medium text-red-600 hover:underline",children:"Negar"})]}),P.aprovacao===H.APROVADA_SARGENTO&&x==="ADMIN"&&r.jsxs(r.Fragment,{children:[r.jsx("button",{onClick:()=>cs(P,"aprovar"),className:"font-medium text-green-600 hover:underline",children:"Validar"}),r.jsx("button",{onClick:()=>cs(P,"negar"),className:"font-medium text-red-600 hover:underline",children:"Reprovar"})]}),P.aprovacao===H.VALIDADA_ADMIN&&P.status===J.ATIVA&&r.jsxs(r.Fragment,{children:[r.jsx("button",{onClick:()=>ur("trocar",P),className:"font-medium text-yellow-600 hover:underline",children:"Trocar"}),r.jsx("button",{onClick:()=>ur("excluir",P),className:"font-medium text-red-600 hover:underline",children:"Excluir"})]}),x==="ADMIN"&&(P.status===J.TROCADA||P.status===J.EXCLUIDA)&&r.jsx("button",{onClick:ae=>{ae.stopPropagation(),jp(P)},className:"font-medium text-pm-blue hover:underline",children:"Restaurar"})]})]},P.folgald)})})]}),as.length===0&&r.jsx("p",{className:"text-center p-4 text-pm-gray-500",children:"Nenhuma folga encontrada."})]}),r.jsx(Qe,{isOpen:u,onClose:()=>v(!1),title:S==="add"?"Acionar Folga":S==="trocar"?"Trocar Folga":S==="excluir"?"Excluir Folga":S==="sargento"?"Enviar para Aprovao":"Adicionar Parecer",children:Ep()}),r.jsx(Qe,{isOpen:z,onClose:()=>w(!1),title:`Aprovar ${k.size} Folgas`,children:r.jsxs("div",{className:"space-y-4",children:[r.jsxs("p",{children:["Voc est prestes a aprovar ",k.size," solicitaes de folga. Por favor, fornea um parecer que ser aplicado a todas elas."]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium",children:"Parecer / Justificativa"}),r.jsx("textarea",{value:$,onChange:P=>b(P.target.value),rows:3,className:"mt-1 w-full border border-gray-300 rounded-md p-2",required:!0})]}),r.jsxs("div",{className:"flex justify-end pt-4 space-x-2",children:[r.jsx("button",{type:"button",onClick:()=>w(!1),className:"bg-pm-gray-200 hover:bg-pm-gray-300 text-pm-gray-800 font-bold py-2 px-4 rounded-md",children:"Cancelar"}),r.jsx("button",{type:"button",onClick:bp,className:"bg-green-600 hover:bg-green-700 text-white font-bold py-2 px-4 rounded-md",children:"Confirmar Aprovao"})]})]})}),r.jsx(Qe,{isOpen:To,onClose:()=>fn(!1),title:"Detalhes da Folga",children:Oe&&(()=>{const P=t.find(Ce=>Ce.id===Oe.sargentold),K=t.find(Ce=>Ce.id===Oe.adminld),ae=l.filter(Ce=>Ce.folgald===Oe.folgald).sort((Ce,q)=>new Date(Ce.timestamp).getTime()-new Date(q.timestamp).getTime()),Nt=async()=>{d&&_o.trim()&&(await i(Oe.folgald,_o,d),Mo(""))};return r.jsxs("div",{className:"space-y-4 text-sm text-pm-gray-700",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-lg font-semibold text-pm-gray-900",children:Oe.nome}),r.jsxs("p",{className:"text-pm-gray-500",children:["RE: ",Oe.re,"  Peloto: ",Oe.pelotao]})]}),r.jsxs("div",{className:"border-t pt-4 grid grid-cols-2 gap-4",children:[r.jsxs("div",{children:[r.jsx("p",{className:"font-medium text-pm-gray-500",children:"Data"}),r.jsx("p",{children:new Date(Oe.data+"T00:00:00").toLocaleDateString("pt-BR")})]}),r.jsxs("div",{children:[r.jsx("p",{className:"font-medium text-pm-gray-500",children:"Status"}),r.jsx("p",{children:r.jsx("span",{className:`px-2 py-1 text-xs rounded-full ${Pc[Oe.aprovacao]}`,children:ma[Oe.aprovacao]})})]})]}),Oe.motivo&&r.jsxs("div",{className:"border-t pt-4",children:[r.jsx("p",{className:"font-medium text-pm-gray-500",children:"Motivo"}),r.jsx("p",{className:"p-3 bg-pm-gray-50 rounded-md mt-1 whitespace-pre-wrap",children:Oe.motivo})]}),Oe.sargentoParecer&&r.jsxs("div",{className:"border-t pt-4",children:[r.jsxs("p",{className:"font-medium text-pm-gray-500",children:["Parecer Sargento (",P?`${P.postoGrad} ${P.nome}`:"N/D",")"]}),r.jsx("p",{className:"p-3 bg-pm-gray-50 rounded-md mt-1",children:Oe.sargentoParecer})]}),Oe.adminParecer&&r.jsxs("div",{className:"border-t pt-4",children:[r.jsxs("p",{className:"font-medium text-pm-gray-500",children:["Parecer Admin (",K?`${K.postoGrad} ${K.nome}`:"N/D",")"]}),r.jsx("p",{className:"p-3 bg-pm-gray-50 rounded-md mt-1",children:Oe.adminParecer})]}),r.jsxs("div",{className:"border-t pt-4",children:[r.jsx("h3",{className:"font-medium text-pm-gray-500 mb-2",children:"Comentrios"}),r.jsx("div",{className:"max-h-40 overflow-y-auto space-y-3 p-2 bg-pm-gray-50 rounded-md border",children:ae.length>0?ae.map(Ce=>r.jsxs("div",{className:`flex flex-col ${Ce.actorId===(d==null?void 0:d.id)?"items-end":"items-start"}`,children:[r.jsxs("div",{className:`max-w-xs p-2 rounded-lg ${Ce.actorId===(d==null?void 0:d.id)?"bg-pm-blue text-white":"bg-pm-gray-200"}`,children:[r.jsxs("p",{className:"text-xs font-bold",children:[Ce.actorPostoGrad," ",Ce.actorNome]}),r.jsx("p",{children:Ce.mensagem})]}),r.jsx("p",{className:"text-xs text-pm-gray-400 mt-1 px-1",children:new Date(Ce.timestamp).toLocaleString("pt-BR",{day:"2-digit",hour:"2-digit",minute:"2-digit"})})]},Ce.id)):r.jsx("p",{className:"text-center text-xs text-pm-gray-500 py-2",children:"Nenhum comentrio."})}),r.jsxs("div",{className:"mt-2 flex items-start space-x-2",children:[r.jsx("textarea",{value:_o,onChange:Ce=>Mo(Ce.target.value),placeholder:"Adicionar comentrio...",rows:2,className:"flex-1 border-gray-300 rounded-md p-2"}),r.jsx("button",{onClick:Nt,className:"bg-pm-blue hover:bg-pm-blue-dark text-white font-bold p-2 rounded-md h-full",children:"Enviar"})]})]}),r.jsx("div",{className:"flex justify-end pt-4",children:r.jsx("button",{type:"button",onClick:()=>fn(!1),className:"bg-pm-gray-200 hover:bg-pm-gray-300 text-pm-gray-800 font-bold py-2 px-4 rounded-md",children:"Fechar"})})]})})()})]})},qx=({message:e,type:t="success"})=>{const n=t==="success"?"bg-green-600":"bg-red-600";return r.jsxs("div",{className:`fixed top-20 right-8 text-white py-3 px-5 rounded-lg shadow-xl z-50 flex items-center ${n}`,role:"alert","aria-live":"assertive",children:[r.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:"mr-2",children:[r.jsx("circle",{cx:"12",cy:"12",r:"10"}),r.jsx("path",{d:"M12 16v-4"}),r.jsx("path",{d:"M12 8h.01"})]}),r.jsx("span",{children:e})]})},Yx=({isOpen:e,onClose:t,policial:n,mode:s})=>{const{grantAccess:o,resetPassword:a}=ie(),[l,i]=f.useState(""),[c,d]=f.useState(""),[x,p]=f.useState("SUBORDINADO"),[u,v]=f.useState(""),[y,j]=f.useState("");f.useEffect(()=>{e||(i(""),d(""),p("SUBORDINADO"),v(""),j(""))},[e]);const S=async()=>{if(j(""),l.length<3){j("A senha deve ter pelo menos 3 caracteres.");return}if(l!==c){j("As senhas no coincidem.");return}if(!n)return;const m=s==="grant"?await o(n,l,x,u):await a(n.id,l);m.ok?t(!0):j(m.error||"Ocorreu um erro.")};return n?r.jsx(Qe,{isOpen:e,onClose:()=>t(),title:s==="grant"?"Conceder Acesso":"Resetar Senha",children:r.jsxs("div",{className:"space-y-4",children:[r.jsxs("p",{className:"text-sm",children:["Policial: ",r.jsx("strong",{children:n.nome})]}),y&&r.jsx("p",{className:"text-red-500 text-sm",children:y}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium",children:"Nova Senha"}),r.jsx("input",{type:"password",value:l,onChange:m=>i(m.target.value),className:"mt-1 w-full border border-gray-300 rounded-md p-2"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium",children:"Confirmar Senha"}),r.jsx("input",{type:"password",value:c,onChange:m=>d(m.target.value),className:"mt-1 w-full border border-gray-300 rounded-md p-2"})]}),s==="grant"&&r.jsxs(r.Fragment,{children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium",children:"Perfil"}),r.jsxs("select",{value:x,onChange:m=>p(m.target.value),className:"mt-1 w-full border border-gray-300 rounded-md p-2",children:[r.jsx("option",{value:"SUBORDINADO",children:"Subordinado"}),r.jsx("option",{value:"SARGENTO",children:"Sargento"}),r.jsx("option",{value:"ADMIN",children:"Administrador"})]})]}),x==="ADMIN"&&r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-red-700",children:"Sua Senha de Admin (Confirmao)"}),r.jsx("input",{type:"password",value:u,onChange:m=>v(m.target.value),className:"mt-1 w-full border border-gray-300 rounded-md p-2",required:!0}),r.jsx("p",{className:"text-xs text-pm-gray-500 mt-1",children:"Para conceder privilgios de administrador, confirme com sua prpria senha."})]})]}),r.jsx("div",{className:"flex justify-end pt-4",children:r.jsx("button",{onClick:S,className:"bg-pm-blue hover:bg-pm-blue-dark text-white font-bold py-2 px-4 rounded-md",children:"Salvar"})})]})}):null},Kx=()=>{const{users:e,addPolicial:t,updatePolicial:n,deletePolicial:s,bulkUpsertPoliciais:o,grupos:a}=me(),{role:l,revokeAccess:i,currentUser:c}=ie(),[d,x]=f.useState(""),[p,u]=f.useState(!1),[v,y]=f.useState(null),[j,S]=f.useState(!1),[m,h]=f.useState([]),[g,N]=f.useState(null),[D,E]=f.useState(null),[I,_]=f.useState({isOpen:!1,policial:null,mode:"grant"}),A=f.useMemo(()=>[...a].sort((L,U)=>L.nome.localeCompare(U.nome)),[a]),T=Ox(d);f.useEffect(()=>{if(D){const L=setTimeout(()=>E(null),3e3);return()=>clearTimeout(L)}},[D]);const V=f.useMemo(()=>{const L=new Map;return e.forEach(U=>{U.policialId&&L.set(U.policialId,U)}),L},[e]),k=(L=null)=>{y(L?{...L}:{nome:"",re:"",postoGrad:"",pelotao:"",ativo:!0}),u(!0)},M=async()=>{if(!(v!=null&&v.nome)||!(v!=null&&v.re)||!(v!=null&&v.postoGrad)||!(v!=null&&v.pelotao)){E({message:"Todos os campos so obrigatrios!",type:"error"});return}if(c)try{v.id?await n(v,c):await t(v,c),E({message:"Policial salvo com sucesso!",type:"success"}),u(!1)}catch(L){E({message:L.message||"Erro ao salvar policial",type:"error"})}},z=L=>{const{name:U,value:Y,type:Z}=L.target,te=L.target.checked;v&&y({...v,[U]:Z==="checkbox"?te:Y})},w=()=>{if(T.length===0){E({message:"Nenhum policial para exportar na viso atual.",type:"error"});return}const L=T.map(Z=>({ID:Z.id,Nome:Z.nome,RE:Z.re,"Posto/Grad":Z.postoGrad,Peloto:Z.pelotao,Status:Z.ativo?"ATIVO":"INATIVO"})),U=XLSX.utils.json_to_sheet(L),Y=XLSX.utils.book_new();XLSX.utils.book_append_sheet(Y,U,"Policiais"),XLSX.writeFile(Y,"policiais.xlsx"),E({message:"Exportao Excel iniciada!",type:"success"})},$=()=>{if(T.length===0){E({message:"Nenhum policial para exportar na viso atual.",type:"error"});return}const L=["ID","Nome","RE","Posto/Grad","Peloto","Status"],U=oe=>{const tt=String(oe);return tt.includes(",")||tt.includes('"')||tt.includes(`
`)?`"${tt.replace(/"/g,'""')}"`:tt},Z=[L.join(","),...T.map(oe=>[U(oe.id),U(oe.nome),U(oe.re),U(oe.postoGrad),U(oe.pelotao),U(oe.ativo?"ATIVO":"INATIVO")].join(","))].join(`
`),te=new Blob(["\uFEFF"+Z],{type:"text/csv;charset=utf-8;"}),xe=document.createElement("a");if(xe.download!==void 0){const oe=URL.createObjectURL(te);xe.setAttribute("href",oe),xe.setAttribute("download","policiais.csv"),xe.style.visibility="hidden",document.body.appendChild(xe),xe.click(),document.body.removeChild(xe)}E({message:"Exportao CSV iniciada!",type:"success"})},b=async L=>{if(window.confirm(`Tem certeza que deseja revogar o acesso de ${L.nome}?`)){const{ok:U,error:Y}=await i(L.id);E(U?{message:"Acesso revogado!",type:"success"}:{message:Y||"Falha ao revogar acesso.",type:"error"})}},C=async L=>{c&&window.confirm(`Tem certeza que deseja EXCLUIR PERMANENTEMENTE o policial ${L.nome} (RE: ${L.re})? Esta ao no pode ser desfeita.`)&&(await s(L.id,c),E({message:"Policial excludo com sucesso!",type:"success"}))},R=async L=>{var Y;const U=(Y=L.target.files)==null?void 0:Y[0];if(U){h([]),N(null);try{const Z=await U.arrayBuffer(),te=XLSX.read(Z),xe=te.SheetNames[0],oe=te.Sheets[xe],O=XLSX.utils.sheet_to_json(oe,{header:["NOME","RE","POSTO_GRAD","PELOTAO"],defval:"",range:1}).map((Q,he)=>{if(!Q.NOME||!Q.RE||!Q.POSTO_GRAD||!Q.PELOTAO)throw new Error(`Dados ausentes na linha ${he+2}.`);return{nome:String(Q.NOME).trim(),re:String(Q.RE).trim(),postoGrad:String(Q.POSTO_GRAD).trim(),pelotao:String(Q.PELOTAO).trim(),ativo:!0}});h(O)}catch(Z){N(Z.message||"Falha ao ler o arquivo.")}}},G=async()=>{!c||m.length===0||(await o(m,c),E({message:`${m.length} policiais importados/atualizados!`,type:"success"}),S(!1))},X={ADMIN:"bg-pm-blue hover:bg-pm-blue-dark",SARGENTO:"bg-pm-red-700 hover:bg-pm-red-800",SUBORDINADO:"bg-pm-gray-800 hover:bg-pm-gray-900"}[l||"ADMIN"];return r.jsxs("div",{className:"container mx-auto",children:[D&&r.jsx(qx,{message:D.message,type:D.type}),r.jsxs("div",{className:"flex justify-between items-center mb-6 flex-wrap gap-2",children:[r.jsx("h1",{className:"text-3xl font-bold text-pm-gray-800",children:"Gerenciar Policiais"}),r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx("button",{onClick:()=>k(),className:`${X} text-white font-bold py-2 px-4 rounded-md`,children:"Adicionar"}),r.jsx("button",{onClick:()=>S(!0),className:"bg-teal-600 hover:bg-teal-700 text-white font-bold py-2 px-4 rounded-md",children:"Importar"}),r.jsx("button",{onClick:w,className:"bg-green-600 hover:bg-green-700 text-white font-bold py-2 px-4 rounded-md",children:"Exportar Excel"}),r.jsx("button",{onClick:$,className:"bg-cyan-600 hover:bg-cyan-700 text-white font-bold py-2 px-4 rounded-md",children:"Exportar CSV"})]})]}),r.jsx("div",{className:"bg-white p-4 rounded-lg shadow-md mb-6",children:r.jsx("input",{type:"text",placeholder:"Buscar por Nome ou RE...",value:d,onChange:L=>x(L.target.value),className:"w-full px-3 py-2 border border-pm-gray-300 rounded-md"})}),r.jsx("div",{className:"bg-white rounded-lg shadow-md overflow-x-auto",children:r.jsxs("table",{className:"w-full text-sm text-left text-pm-gray-600",children:[r.jsx("thead",{className:"text-xs text-pm-gray-700 uppercase bg-pm-gray-50",children:r.jsxs("tr",{children:[r.jsx("th",{scope:"col",className:"px-6 py-3",children:"Nome"}),r.jsx("th",{scope:"col",className:"px-6 py-3",children:"RE"}),r.jsx("th",{scope:"col",className:"px-6 py-3",children:"Status"}),r.jsx("th",{scope:"col",className:"px-6 py-3",children:"Acesso"}),r.jsx("th",{scope:"col",className:"px-6 py-3 text-right",children:"Aes"})]})}),r.jsx("tbody",{children:T.map(L=>{const U=V.get(L.id);return r.jsxs("tr",{className:"bg-white border-b hover:bg-pm-gray-50",children:[r.jsxs("td",{className:"px-6 py-4 font-medium text-pm-gray-900",children:[L.nome,r.jsx("br",{}),r.jsxs("span",{className:"text-xs text-pm-gray-500",children:[L.postoGrad," - ",L.pelotao]})]}),r.jsx("td",{className:"px-6 py-4",children:L.re}),r.jsx("td",{className:"px-6 py-4",children:r.jsx("span",{className:`px-2 py-1 text-xs font-medium rounded-full ${L.ativo?"bg-green-100 text-green-800":"bg-red-100 text-red-800"}`,children:L.ativo?"ATIVO":"INATIVO"})}),r.jsx("td",{className:"px-6 py-4",children:r.jsx("span",{className:`px-2 py-1 text-xs font-medium rounded-full ${U?U.acessoLiberado?"bg-green-100 text-green-800":"bg-gray-200 text-gray-800":"bg-yellow-100 text-yellow-800"}`,children:U?U.acessoLiberado?"Liberado":"Revogado":"No Concedido"})}),r.jsxs("td",{className:"px-6 py-4 text-right space-x-2 whitespace-rap",children:[!U||!U.acessoLiberado?r.jsx("button",{onClick:()=>_({isOpen:!0,policial:L,mode:"grant"}),className:"font-medium text-green-600 hover:underline",children:"Conceder"}):null,U?r.jsx("button",{onClick:()=>_({isOpen:!0,policial:L,mode:"reset"}),className:"font-medium text-blue-600 hover:underline",children:"Resetar Senha"}):null,U&&U.acessoLiberado?r.jsx("button",{onClick:()=>b(L),className:"font-medium text-orange-600 hover:underline",children:"Revogar"}):null,r.jsx("button",{onClick:()=>k(L),className:"font-medium text-pm-blue hover:underline",children:"Editar"}),r.jsx("button",{onClick:()=>C(L),className:"font-medium text-red-600 hover:underline",children:"Excluir"})]})]},L.id)})})]})}),r.jsx(Qe,{isOpen:p,onClose:()=>u(!1),title:v!=null&&v.id?"Editar Policial":"Adicionar Policial",children:v&&r.jsxs("form",{onSubmit:L=>{L.preventDefault(),M()},className:"space-y-4",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium",children:"Nome"}),r.jsx("input",{type:"text",name:"nome",value:v.nome||"",onChange:z,className:"mt-1 w-full border border-gray-300 rounded-md p-2",required:!0})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium",children:"RE"}),r.jsx("input",{type:"text",name:"re",value:v.re||"",onChange:z,className:"mt-1 w-full border border-gray-300 rounded-md p-2",required:!0})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium",children:"Posto/Grad."}),r.jsxs("select",{name:"postoGrad",value:v.postoGrad||"",onChange:z,className:"mt-1 w-full border border-gray-300 rounded-md p-2",required:!0,children:[r.jsx("option",{value:"",children:"Selecione..."}),cp.map(L=>r.jsx("option",{value:L,children:L},L))]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium",children:"Peloto"}),r.jsxs("select",{name:"pelotao",value:v.pelotao||"",onChange:z,className:"mt-1 w-full border border-gray-300 rounded-md p-2",required:!0,children:[r.jsx("option",{value:"",children:"Selecione..."}),A.map(L=>r.jsx("option",{value:L.nome,children:L.nome},L.id))]})]}),r.jsxs("div",{className:"flex items-center",children:[r.jsx("input",{type:"checkbox",id:"ativo",name:"ativo",checked:v.ativo,onChange:z,className:"h-4 w-4"}),r.jsx("label",{htmlFor:"ativo",className:"ml-2 block text-sm",children:"Ativo"})]}),r.jsx("div",{className:"flex justify-end pt-4",children:r.jsx("button",{type:"submit",className:"bg-pm-blue hover:bg-pm-blue-dark text-white font-bold py-2 px-4 rounded-md",children:"Salvar"})})]})}),I.isOpen&&r.jsx(Yx,{isOpen:I.isOpen,onClose:()=>_({isOpen:!1,policial:null,mode:"grant"}),policial:I.policial,mode:I.mode}),r.jsx(Qe,{isOpen:j,onClose:()=>S(!1),title:"Importar Efetivo",children:r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{children:[r.jsxs("p",{className:"text-sm text-pm-gray-600 mb-2",children:["Selecione um arquivo .xlsx. Colunas: ",r.jsx("strong",{children:"NOME, RE, POSTO_GRAD, PELOTAO"}),"."]}),r.jsx("input",{type:"file",accept:".xlsx, .xls",onChange:R,className:"block w-full text-sm text-pm-gray-500 file:mr-4 file:py-2 file:px-4 file:rounded-full file:border-0 file:font-semibold file:bg-pm-blue-light file:text-white hover:file:bg-pm-blue"})]}),g&&r.jsx("p",{className:"text-red-500 text-sm p-2 bg-red-50 rounded-md",children:g}),m.length>0&&r.jsxs(r.Fragment,{children:[r.jsxs("h3",{className:"text-md font-semibold",children:["Pr-visualizao (",m.length," registros)"]}),r.jsx("div",{className:"max-h-60 overflow-y-auto border rounded-lg",children:r.jsxs("table",{className:"w-full text-xs",children:[r.jsx("thead",{className:"bg-pm-gray-50 sticky top-0",children:r.jsxs("tr",{children:[r.jsx("th",{className:"p-2",children:"Nome"}),r.jsx("th",{className:"p-2",children:"RE"}),r.jsx("th",{className:"p-2",children:"Posto/Grad"}),r.jsx("th",{className:"p-2",children:"Peloto"})]})}),r.jsx("tbody",{children:m.map((L,U)=>r.jsxs("tr",{className:"border-b",children:[r.jsx("td",{className:"p-2",children:L.nome}),r.jsx("td",{className:"p-2",children:L.re}),r.jsx("td",{className:"p-2",children:L.postoGrad}),r.jsx("td",{className:"p-2",children:L.pelotao})]},U))})]})}),r.jsxs("div",{className:"flex justify-end pt-4 space-x-2",children:[r.jsx("button",{type:"button",onClick:()=>S(!1),className:"bg-pm-gray-200 hover:bg-pm-gray-300 text-pm-gray-800 font-bold py-2 px-4 rounded-md",children:"Cancelar"}),r.jsx("button",{onClick:G,className:"bg-green-600 hover:bg-green-700 text-white font-bold py-2 px-4 rounded-md",children:"Confirmar Importao"})]})]})]})})]})},Jx=({className:e})=>r.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:e,width:"16",height:"16",viewBox:"0 0 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:r.jsx("polyline",{points:"6 9 12 15 18 9"})}),_c=e=>{if(typeof e=="boolean")return e?"Sim":"No";if(e==null)return"N/A";if(typeof e=="string"&&/^\d{4}-\d{2}-\d{2}/.test(e)){const t=new Date(e+"T00:00:00");if(!isNaN(t.getTime()))return t.toLocaleDateString("pt-BR")}return String(e)},Zx=e=>e.replace(/([A-Z])/g," $1").replace(/^./,t=>t.toUpperCase()),eg=({antesDepois:e})=>{if(!e||typeof e.antes!="object"||typeof e.depois!="object")return e&&(e.depois||e.antes)?r.jsxs("div",{className:"pt-2",children:[r.jsx("p",{className:"font-semibold mb-1 text-pm-gray-800",children:"Dados do Registro:"}),r.jsx("pre",{className:"p-2 bg-white rounded-md overflow-x-auto text-xs border border-pm-gray-200",children:JSON.stringify(e.depois||e.antes,null,2)})]}):null;const{antes:t,depois:n}=e,o=Array.from(new Set([...Object.keys(t||{}),...Object.keys(n||{})])).map(a=>({key:a,antes:t?t[a]:void 0,depois:n?n[a]:void 0})).filter(a=>JSON.stringify(a.antes)!==JSON.stringify(a.depois));return o.length===0?null:r.jsxs("div",{className:"pt-2",children:[r.jsx("p",{className:"font-semibold mb-2 text-pm-gray-800",children:"Dados da Alterao:"}),r.jsx("div",{className:"overflow-x-auto border border-pm-gray-200 rounded-md",children:r.jsxs("table",{className:"min-w-full bg-white text-sm",children:[r.jsx("thead",{className:"bg-pm-gray-100",children:r.jsxs("tr",{children:[r.jsx("th",{className:"px-4 py-2 text-left text-xs font-semibold text-pm-gray-600 uppercase tracking-wider",children:"Campo Alterado"}),r.jsx("th",{className:"px-4 py-2 text-left text-xs font-semibold text-pm-gray-600 uppercase tracking-wider",children:"Valor Anterior"}),r.jsx("th",{className:"px-4 py-2 text-left text-xs font-semibold text-pm-gray-600 uppercase tracking-wider",children:"Novo Valor"})]})}),r.jsx("tbody",{className:"divide-y divide-pm-gray-200",children:o.map(({key:a,antes:l,depois:i})=>r.jsxs("tr",{children:[r.jsx("td",{className:"px-4 py-2 whitespace-nowrap font-medium text-pm-gray-800",children:Zx(a)}),r.jsx("td",{className:"px-4 py-2 whitespace-nowrap",children:r.jsx("span",{className:"bg-red-100 text-red-800 p-1 rounded text-xs font-mono",children:_c(l)})}),r.jsx("td",{className:"px-4 py-2 whitespace-nowrap",children:r.jsx("span",{className:"bg-green-100 text-green-800 p-1 rounded text-xs font-mono",children:_c(i)})})]},a))})]})})]})},tg=()=>{const{users:e}=me(),[t,n]=f.useState({userId:"",dataInicio:"",dataFim:""}),[s,o]=f.useState(new Set),a=Dx(t),[l,i]=f.useState(1),c=15;f.useEffect(()=>{i(1)},[t]);const d=Math.ceil(a.length/c),x=(l-1)*c,p=x+c,u=a.slice(x,p),v=m=>{n({...t,[m.target.name]:m.target.value})},y=m=>{o(h=>{const g=new Set(h);return g.has(m)?g.delete(m):g.add(m),g})},j=m=>{m>=1&&m<=d&&(i(m),o(new Set))},S=()=>r.jsxs("div",{className:"flex justify-center items-center space-x-4 p-4 border-t",children:[r.jsx("button",{onClick:()=>j(l-1),disabled:l===1,className:"px-4 py-2 text-sm font-medium text-pm-gray-700 bg-white border border-pm-gray-300 rounded-md hover:bg-pm-gray-50 disabled:opacity-50 disabled:cursor-not-allowed",children:"Anterior"}),r.jsxs("span",{className:"text-sm text-pm-gray-700",children:["Pgina ",l," de ",d||1]}),r.jsx("button",{onClick:()=>j(l+1),disabled:l===d||d===0,className:"px-4 py-2 text-sm font-medium text-pm-gray-700 bg-white border border-pm-gray-300 rounded-md hover:bg-pm-gray-50 disabled:opacity-50 disabled:cursor-not-allowed",children:"Prxima"})]});return r.jsxs("div",{className:"container mx-auto",children:[r.jsx("h1",{className:"text-3xl font-bold text-pm-gray-800 mb-6",children:"Histrico de Alteraes"}),r.jsx("div",{className:"bg-white p-4 rounded-lg shadow-md mb-6",children:r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[r.jsxs("select",{name:"userId",value:t.userId,onChange:v,className:"w-full px-3 py-2 border border-pm-gray-300 rounded-md",children:[r.jsx("option",{value:"",children:"Todos os Usurios"}),e.map(m=>r.jsx("option",{value:m.id,children:m.nome},m.id))]}),r.jsx("input",{type:"date",name:"dataInicio",value:t.dataInicio,onChange:v,className:"w-full px-3 py-2 border border-pm-gray-300 rounded-md"}),r.jsx("input",{type:"date",name:"dataFim",value:t.dataFim,onChange:v,className:"w-full px-3 py-2 border border-pm-gray-300 rounded-md"})]})}),r.jsxs("div",{className:"bg-white rounded-lg shadow-md",children:[r.jsx("ul",{role:"list",className:"divide-y divide-gray-200",children:u.map(m=>{const h=s.has(m.id);return r.jsxs("li",{className:"p-4 sm:p-6",children:[r.jsxs("div",{className:"flex items-start justify-between",children:[r.jsxs("div",{className:"flex-1",children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsx("p",{className:"text-sm font-medium text-pm-blue truncate capitalize",children:m.evento.replace(/_/g," ").toLowerCase()}),r.jsx("p",{className:"hidden sm:block text-xs text-pm-gray-500",children:new Date(m.timestamp).toLocaleString("pt-BR")})]}),r.jsxs("div",{className:"mt-2 sm:flex sm:items-center",children:[r.jsxs("p",{className:"flex items-center text-sm text-pm-gray-500",children:[r.jsx("strong",{children:"Executor: "}),r.jsx("span",{className:"ml-1",children:m.actorNome})]}),m.nome&&r.jsxs("p",{className:"mt-1 flex items-center text-sm text-pm-gray-500 sm:mt-0 sm:ml-4",children:[r.jsx("strong",{children:"Policial: "}),r.jsxs("span",{className:"ml-1",children:[m.nome," (RE: ",m.re,")"]})]})]})]}),r.jsx("div",{className:"ml-4 flex-shrink-0",children:r.jsxs("button",{onClick:()=>y(m.id),className:"flex items-center text-sm font-medium text-pm-blue hover:text-pm-blue-dark",children:[r.jsxs("span",{children:[h?"Ocultar":"Ver"," Detalhes"]}),r.jsx(Jx,{className:`ml-1 transform transition-transform duration-200 ${h?"rotate-180":""}`})]})})]}),h&&r.jsx("div",{className:"mt-4 p-4 bg-pm-gray-50 rounded-md border border-pm-gray-200",children:r.jsxs("div",{className:"text-sm text-pm-gray-800 space-y-2",children:[m.dataOriginal&&r.jsxs("p",{children:[r.jsx("strong",{children:"Data Original:"})," ",new Date(m.dataOriginal+"T00:00:00").toLocaleDateString("pt-BR")]}),m.dataNova&&r.jsxs("p",{children:[r.jsx("strong",{children:"Data Nova:"})," ",new Date(m.dataNova+"T00:00:00").toLocaleDateString("pt-BR")]}),m.motivo&&r.jsxs("p",{children:[r.jsx("strong",{children:"Motivo/Parecer:"})," ",m.motivo]}),r.jsx(eg,{antesDepois:m.antesDepois})]})})]},m.id)})}),a.length===0&&r.jsx("p",{className:"text-center p-4 text-pm-gray-500",children:"Nenhum registro de histrico encontrado."}),d>1&&r.jsx(S,{})]})]})},Vt=({title:e,children:t,defaultOpen:n=!1})=>{const[s,o]=wl.useState(n);return r.jsxs("div",{className:"mb-4 border-b border-pm-gray-200 last:border-b-0",children:[r.jsxs("button",{className:"w-full text-left py-4 flex justify-between items-center",onClick:()=>o(!s),"aria-expanded":s,children:[r.jsx("h2",{className:"text-xl font-semibold text-pm-gray-800",children:e}),r.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:`transform transition-transform duration-300 ${s?"rotate-180":""}`,children:r.jsx("polyline",{points:"6 9 12 15 18 9"})})]}),s&&r.jsx("div",{className:"pb-4 text-pm-gray-600 space-y-3",children:t})]})},ng=()=>r.jsxs("div",{className:"container mx-auto",children:[r.jsx("h1",{className:"text-3xl font-bold text-pm-gray-800 mb-6",children:"SIGMA-E - Manual do Sistema"}),r.jsxs("div",{className:"bg-white p-8 rounded-lg shadow-md",children:[r.jsx(Vt,{title:"Viso Geral",defaultOpen:!0,children:r.jsx("p",{children:"Bem-vindo ao SIGMA-E, o Sistema Integrado de Gesto, Monitoramento e Administrao do Efetivo. Este manual foi criado para guiar voc por todas as funcionalidades do sistema, garantindo que todos possam utiliz-lo de forma eficiente e correta."})}),r.jsxs(Vt,{title:"Perfis de Acesso",children:[r.jsx("p",{children:"O sistema possui trs nveis de acesso com diferentes permisses:"}),r.jsxs("ul",{className:"list-disc list-inside space-y-2 pl-4",children:[r.jsxs("li",{children:[r.jsx("strong",{children:"ADMIN (Administrador):"})," Possui acesso total. Pode gerenciar policiais, usurios, crditos de folga, validar/reprovar todas as solicitaes, agendar frias, criar eventos na agenda e gerar relatrios completos."]}),r.jsxs("li",{children:[r.jsx("strong",{children:"SARGENTO (Sargento de Peloto):"})," Gerencia as folgas do seu peloto. Pode aprovar ou negar solicitaes dos seus subordinados, que so ento encaminhadas para o Admin. Tambm pode gerar relatrios do seu peloto."]}),r.jsxs("li",{children:[r.jsx("strong",{children:"SUBORDINADO (Policial):"})," Acesso focado em suas prprias informaes. Pode solicitar (acionar) folgas, visualizar o status de suas solicitaes, seu saldo de folgas e o calendrio geral."]})]})]}),r.jsxs(Vt,{title:"Gerenciamento de Folgas (Passo a Passo)",children:[r.jsx("h3",{className:"text-lg font-semibold text-pm-gray-700 mb-2",children:"1. Como Acionar uma Nova Folga"}),r.jsxs("p",{children:["Na pgina ",r.jsx("strong",{children:'"Gerenciar Folgas"'}),", clique no boto ",r.jsx("strong",{children:'"Acionar Folga"'}),"."]}),r.jsxs("ul",{className:"list-decimal list-inside space-y-2 pl-4",children:[r.jsx("li",{children:"Se for Admin ou Sargento, selecione o policial para quem a folga ser lanada. Se for Subordinado, seu nome j estar selecionado."}),r.jsx("li",{children:"Escolha a data desejada para a folga. O sistema no permite selecionar datas passadas."}),r.jsx("li",{children:"Seu saldo de folgas para o ano corrente  exibido no canto superior direito como referncia."})]}),r.jsx("h3",{className:"text-lg font-semibold text-pm-gray-700 mt-4 mb-2",children:"2. Preenchendo o Motivo (Importante!)"}),r.jsx("p",{children:" obrigatrio selecionar um tipo de motivo para a folga. Cada tipo requer informaes especficas:"}),r.jsxs("ul",{className:"list-disc list-inside space-y-2 pl-4 mt-2",children:[r.jsxs("li",{children:[r.jsx("strong",{children:"Folga Cmt Geral:"})," Utilizada para folgas concedidas diretamente pelo Comandante Geral. No requer detalhes adicionais."]}),r.jsxs("li",{children:[r.jsx("strong",{children:"Folga Cmt Cia:"})," Para folgas concedidas pelo Comando de Cia.  obrigatrio descrever o motivo da concesso no campo de texto que aparecer."]}),r.jsxs("li",{children:[r.jsx("strong",{children:"Folga Compensao:"})," Usada para compensar um servio extra. Voc deve preencher a ",r.jsx("strong",{children:"data"}),", ",r.jsx("strong",{children:"hora de incio"})," e ",r.jsx("strong",{children:"hora de fim"})," do servio que est sendo compensado. O nmero do BOPM  opcional, mas recomendado."]}),r.jsxs("li",{children:[r.jsx("strong",{children:"Folga Outros:"})," Para situaes no cobertas pelas opes acima.  obrigatrio fornecer uma justificativa detalhada."]})]}),r.jsx("h3",{className:"text-lg font-semibold text-pm-gray-700 mt-4 mb-2",children:"3. O Fluxo de Aprovao"}),r.jsx("p",{children:"Toda folga solicitada passa por um fluxo at ser validada e se tornar ativa:"}),r.jsxs("ul",{className:"list-decimal list-inside space-y-2 pl-4",children:[r.jsxs("li",{children:[r.jsx("strong",{children:"Subordinado solicita:"})," A folga  criada com o status ",r.jsx("strong",{children:'"Pendente Sgt."'})," e uma notificao  enviada ao Sargento do peloto."]}),r.jsxs("li",{children:[r.jsx("strong",{children:"Sargento analisa:"})," O Sargento pode ",r.jsx("strong",{children:"Aprovar"})," ou ",r.jsx("strong",{children:"Negar"})," a solicitao. Se aprovada, o status muda para ",r.jsx("strong",{children:'"Aprovada Sgt."'})," e uma notificao  enviada aos Admins. Se negada, o processo termina."]}),r.jsxs("li",{children:[r.jsx("strong",{children:"Admin valida:"})," O Admin analisa a folga aprovada pelo Sargento. Se ele ",r.jsx("strong",{children:"Validar"}),", o status muda para ",r.jsx("strong",{children:'"Validada Adm."'}),", a folga se torna ",r.jsx("strong",{children:"ATIVA"})," e consome 1 crdito do saldo do policial. Se ele ",r.jsx("strong",{children:"Reprovar"}),", o processo termina."]})]}),r.jsx("h3",{className:"text-lg font-semibold text-pm-gray-700 mt-4 mb-2",children:"4. Trocando ou Excluindo uma Folga"}),r.jsxs("p",{children:["Apenas folgas com status ",r.jsx("strong",{children:'"ATIVA"'})," podem ser trocadas ou excludas."]}),r.jsxs("ul",{className:"list-disc list-inside space-y-2 pl-4 mt-2",children:[r.jsxs("li",{children:[r.jsx("strong",{children:"Trocar:"})," Altera a data de uma folga j validada. A data original  liberada."]}),r.jsxs("li",{children:[r.jsx("strong",{children:"Excluir:"})," Remove a folga do calendrio.  necessrio informar um motivo para a excluso."]}),r.jsxs("li",{children:[r.jsx("strong",{children:"Restaurar (Apenas Admin):"})," O Admin tem a permisso de restaurar uma folga que foi trocada ou excluda, tornando-a ativa novamente."]})]})]}),r.jsxs(Vt,{title:"Controle de Frias (Admin)",children:[r.jsx("p",{children:"Nesta pgina, o Administrador pode agendar os perodos de frias para todo o efetivo."}),r.jsxs("ul",{className:"list-disc list-inside space-y-2 pl-4",children:[r.jsx("li",{children:"O sistema controla automaticamente o saldo de dias (15 ou 30) por ano de referncia para cada policial."}),r.jsx("li",{children:"Ao agendar, o sistema verifica se h conflitos com folgas j ativas para o mesmo policial no perodo solicitado, evitando agendamentos sobrepostos."})]})]}),r.jsxs(Vt,{title:"Calendrio e Agenda",children:[r.jsxs("p",{children:[r.jsx("strong",{children:"Calendrio Geral:"})," Oferece uma viso mensal de todos os eventos: folgas ativas, frias agendadas e eventos da agenda (cursos, operaes, etc.).  uma ferramenta visual para planejamento e consulta rpida."]}),r.jsxs("p",{children:[r.jsx("strong",{children:"Agenda (Admin):"})," Permite ao Admin criar eventos especficos, como Cursos, EAP, Operaes, e escalar o efetivo necessrio. Ao escalar um policial para um evento, ele recebe uma notificao. O sistema tambm impede que um policial seja escalado para um EAP ou Curso que j tenha participado, garantindo o rodzio do efetivo."]})]}),r.jsxs(Vt,{title:"Funes de Administrador (Admin)",children:[r.jsx("p",{children:"O perfil de Admin possui acesso a reas estratgicas do sistema:"}),r.jsxs("ul",{className:"list-disc list-inside space-y-2 pl-4",children:[r.jsxs("li",{children:[r.jsx("strong",{children:"Gerenciar Policiais:"})," Permite cadastrar, editar, inativar e excluir policiais do efetivo. Tambm  aqui que o Admin concede, reseta ou revoga o acesso de um usurio ao sistema. A importao em massa via planilha Excel tambm  feita nesta tela."]}),r.jsxs("li",{children:[r.jsx("strong",{children:"Crditos de Folga:"})," O Admin gerencia o saldo de folgas de todos os policiais, podendo adicionar ou remover crditos com justificativa (ex: concesso anual). A pgina tambm mostra um balano completo do saldo de todo o efetivo."]})]})]}),r.jsxs(Vt,{title:"Relatrios (Sargento e Admin)",children:[r.jsx("p",{children:"O sistema oferece ferramentas poderosas para extrao de dados:"}),r.jsxs("ul",{className:"list-disc list-inside space-y-2 pl-4",children:[r.jsxs("li",{children:[r.jsx("strong",{children:"Relatrio de Folgas:"})," Permite gerar uma planilha Excel (.xlsx) com todas as solicitaes de folga dentro de um perodo, com filtros por peloto. O arquivo inclui detalhes completos, como datas, status e pareceres."]}),r.jsxs("li",{children:[r.jsx("strong",{children:"Relatrio EAP/Cursos:"})," Uma ferramenta crucial para o planejamento de cursos. Permite filtrar por tipo (EAP ou Curso) e peloto, e exibe duas listas claras: quem j participou e quem est pendente. Esses dados tambm podem ser exportados para Excel."]})]})]}),r.jsxs(Vt,{title:"Notificaes",children:[r.jsx("p",{children:"O cone de sino no canto superior do menu lateral exibe notificaes em tempo real sobre eventos importantes relacionados a voc. Por exemplo:"}),r.jsxs("ul",{className:"list-disc list-inside space-y-2 pl-4",children:[r.jsxs("li",{children:[r.jsx("strong",{children:"Sargentos"})," so notificados quando um subordinado solicita uma folga."]}),r.jsxs("li",{children:[r.jsx("strong",{children:"Admins"})," so notificados quando um sargento aprova uma folga."]}),r.jsxs("li",{children:[r.jsx("strong",{children:"Subordinados"})," so notificados sobre mudanas no status de suas folgas (aprovada, negada, etc.)."]}),r.jsxs("li",{children:[r.jsx("strong",{children:"Qualquer policial"}),"  notificado ao ser escalado para um evento na Agenda."]})]})]})]})]}),rg=({className:e})=>r.jsxs("svg",{className:e,xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24",fill:"none",stroke:"currentColor",strokeWidth:"1.8",strokeLinecap:"round",strokeLinejoin:"round",children:[r.jsx("path",{d:"M3 9l9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z"}),r.jsx("polyline",{points:"9 22 9 12 15 12 15 22"})]}),sg=({className:e})=>r.jsxs("svg",{className:e,xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24",fill:"none",stroke:"currentColor",strokeWidth:"1.8",strokeLinecap:"round",strokeLinejoin:"round",children:[r.jsx("rect",{x:"3",y:"4",width:"18",height:"18",rx:"2",ry:"2"}),r.jsx("line",{x1:"16",y1:"2",x2:"16",y2:"6"}),r.jsx("line",{x1:"8",y1:"2",x2:"8",y2:"6"}),r.jsx("line",{x1:"3",y1:"10",x2:"21",y2:"10"})]}),og=({className:e})=>r.jsxs("svg",{className:e,xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24",fill:"none",stroke:"currentColor",strokeWidth:"1.8",strokeLinecap:"round",strokeLinejoin:"round",children:[r.jsx("rect",{x:"3",y:"4",width:"18",height:"18",rx:"2",ry:"2"}),r.jsx("line",{x1:"16",y1:"2",x2:"16",y2:"6"}),r.jsx("line",{x1:"8",y1:"2",x2:"8",y2:"6"}),r.jsx("line",{x1:"3",y1:"10",x2:"21",y2:"10"}),r.jsx("path",{d:"M8 14h.01"}),r.jsx("path",{d:"M12 14h.01"}),r.jsx("path",{d:"M16 14h.01"}),r.jsx("path",{d:"M8 18h.01"}),r.jsx("path",{d:"M12 18h.01"}),r.jsx("path",{d:"M16 18h.01"})]}),ag=({className:e})=>r.jsxs("svg",{className:e,xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24",fill:"none",stroke:"currentColor",strokeWidth:"1.8",strokeLinecap:"round",strokeLinejoin:"round",children:[r.jsx("path",{d:"M17 21v-2a4 4 0 0 0-4-4H5a4 4 0 0 0-4 4v2"}),r.jsx("circle",{cx:"9",cy:"7",r:"4"}),r.jsx("path",{d:"M23 21v-2a4 4 0 0 0-3-3.87"}),r.jsx("path",{d:"M16 3.13a4 4 0 0 1 0 7.75"})]}),lg=({className:e})=>r.jsxs("svg",{className:e,xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24",fill:"none",stroke:"currentColor",strokeWidth:"1.8",strokeLinecap:"round",strokeLinejoin:"round",children:[r.jsx("path",{d:"M1 4v6h6"}),r.jsx("path",{d:"M3.51 15a9 9 0 1 0 2.13-9.36L1 10"})]}),ig=({className:e})=>r.jsxs("svg",{className:e,xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24",fill:"none",stroke:"currentColor",strokeWidth:"1.8",strokeLinecap:"round",strokeLinejoin:"round",children:[r.jsx("path",{d:"M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"}),r.jsx("polyline",{points:"14 2 14 8 20 8"}),r.jsx("line",{x1:"16",y1:"13",x2:"8",y2:"13"}),r.jsx("line",{x1:"16",y1:"17",x2:"8",y2:"17"}),r.jsx("polyline",{points:"10 9 9 9 8 9"})]}),cg=({className:e})=>r.jsxs("svg",{className:e,xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24",fill:"none",stroke:"currentColor",strokeWidth:"1.8",strokeLinecap:"round",strokeLinejoin:"round",children:[r.jsx("circle",{cx:"12",cy:"12",r:"10"}),r.jsx("path",{d:"M9.09 9a3 3 0 0 1 5.83 1c0 2-3 3-3 3"}),r.jsx("line",{x1:"12",y1:"17",x2:"12.01",y2:"17"})]}),dg=({className:e})=>r.jsxs("svg",{className:e,xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24",fill:"none",stroke:"currentColor",strokeWidth:"1.8",strokeLinecap:"round",strokeLinejoin:"round",children:[r.jsx("path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4"}),r.jsx("polyline",{points:"16 17 21 12 16 7"}),r.jsx("line",{x1:"21",y1:"12",x2:"9",y2:"12"})]}),ug=({className:e})=>r.jsxs("svg",{className:e,xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24",fill:"none",stroke:"currentColor",strokeWidth:"1.8",strokeLinecap:"round",strokeLinejoin:"round",children:[r.jsx("circle",{cx:"12",cy:"8",r:"7"}),r.jsx("polyline",{points:"8.21 13.89 7 23 12 17 17 23 15.79 13.88"})]}),pg=({className:e})=>r.jsx("svg",{className:e,xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24",fill:"none",stroke:"currentColor",strokeWidth:"1.8",strokeLinecap:"round",strokeLinejoin:"round",children:r.jsx("path",{d:"M17.8 19.2 16 11l3.5-3.5C21 6 21.5 4 21 3c-1-.5-3 0-4.5 1.5L13 8 4.8 6.2c-.5-.1-.9.1-1.1.5l-.3.5c-.2.5-.1 1 .3 1.3L9 12l-2 3H4l-1 1 3 2 2 3 1-1v-3l3-2 3.5 5.3c.3.4.8.5 1.3.3l.5-.2c.4-.3.6-.7.5-1.2z"})}),mg=({className:e})=>r.jsxs("svg",{className:e,xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24",fill:"none",stroke:"currentColor",strokeWidth:"1.8",strokeLinecap:"round",strokeLinejoin:"round",children:[r.jsx("rect",{x:"8",y:"2",width:"8",height:"4",rx:"1",ry:"1"}),r.jsx("path",{d:"M16 4h2a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h2"}),r.jsx("path",{d:"M12 11h4"}),r.jsx("path",{d:"M12 16h4"}),r.jsx("path",{d:"M8 11h.01"}),r.jsx("path",{d:"M8 16h.01"})]}),hg=({className:e})=>r.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24",fill:"none",stroke:"currentColor",strokeWidth:"1.8",strokeLinecap:"round",strokeLinejoin:"round",className:e,children:[r.jsx("path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2"}),r.jsx("circle",{cx:"9",cy:"7",r:"4"}),r.jsx("polyline",{points:"16 11 18 13 22 9"})]}),fg=({className:e})=>r.jsxs("svg",{className:e,xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24",fill:"none",stroke:"currentColor",strokeWidth:"1.8",strokeLinecap:"round",strokeLinejoin:"round",children:[r.jsx("rect",{x:"2",y:"7",width:"20",height:"14",rx:"2",ry:"2"}),r.jsx("path",{d:"M16 21V5a2 2 0 0 0-2-2h-4a2 2 0 0 0-2 2v16"})]}),xg=({className:e})=>r.jsxs("svg",{className:e,xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24",fill:"none",stroke:"currentColor",strokeWidth:"1.8",strokeLinecap:"round",strokeLinejoin:"round",children:[r.jsx("line",{x1:"12",y1:"20",x2:"12",y2:"10"}),r.jsx("line",{x1:"18",y1:"20",x2:"18",y2:"4"}),r.jsx("line",{x1:"6",y1:"20",x2:"6",y2:"16"})]}),Mc=({className:e})=>r.jsx("svg",{className:e,xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24",fill:"none",stroke:"currentColor",strokeWidth:"1.8",strokeLinecap:"round",strokeLinejoin:"round",children:r.jsx("polyline",{points:"6 9 12 15 18 9"})}),gg=({className:e})=>r.jsxs("svg",{className:e,xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24",fill:"none",stroke:"currentColor",strokeWidth:"1.8",strokeLinecap:"round",strokeLinejoin:"round",children:[r.jsx("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),r.jsx("line",{x1:"6",y1:"6",x2:"18",y2:"18"})]}),vg=({className:e})=>r.jsxs("svg",{className:e,xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24",fill:"none",stroke:"currentColor",strokeWidth:"1.8",strokeLinecap:"round",strokeLinejoin:"round",children:[r.jsx("path",{d:"M20.59 13.41l-7.17 7.17a2 2 0 0 1-2.83 0L2 12V2h10l8.59 8.59a2 2 0 0 1 0 2.82z"}),r.jsx("line",{x1:"7",y1:"7",x2:"7.01",y2:"7"})]}),yg=({className:e})=>r.jsxs("svg",{className:e,xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24",fill:"none",stroke:"currentColor",strokeWidth:"1.8",strokeLinecap:"round",strokeLinejoin:"round",children:[r.jsx("path",{d:"M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"}),r.jsx("polyline",{points:"14 2 14 8 20 8"}),r.jsx("path",{d:"M10 18.5v-4.5a1.5 1.5 0 0 1 3 0v4.5"}),r.jsx("path",{d:"M8 16h1.5a1.5 1.5 0 0 1 0 3H8l2 3"})]}),wg=({className:e})=>r.jsx("div",{className:`flex items-center justify-center ${e}`,children:r.jsx("svg",{viewBox:"0 0 80 88",className:"h-8 w-auto",children:r.jsxs("g",{children:[r.jsx("path",{d:"M40 0 L80 16 V56 C80 78 40 88 40 88 C40 88 0 78 0 56 V16 Z",fill:"#19398A"}),r.jsx("path",{d:"M40 4 L76 18.4 V54.8 C76 74.8 40 84 40 84 C40 84 4 74.8 4 54.8 V18.4 Z",strokeWidth:"3",stroke:"white",fill:"none"}),r.jsx("text",{x:"32",y:"62",fontFamily:"Verdana, sans-serif",fontSize:"42",fontWeight:"bold",fill:"white",textAnchor:"middle",children:""}),r.jsx("text",{x:"55",y:"48",fontFamily:"Verdana, sans-serif",fontSize:"22",fontWeight:"bold",fill:"white",children:"E"})]})})}),jg=({isOpen:e,onClose:t})=>{const{logout:n,role:s,currentUser:o}=ie(),a=hn(),l=mn(),i=()=>{n(),a("/login")},c=[{to:"/dashboard",label:"Pgina Inicial",icon:rg,roles:["ADMIN","SARGENTO","SUBORDINADO"]},{to:"/calendario",label:"Calendrio Geral",icon:sg,roles:["ADMIN","SARGENTO","SUBORDINADO"]}],d=[{to:"/folgas",label:"Gerenciar Folgas",icon:og,roles:["ADMIN","SARGENTO","SUBORDINADO"]},{to:"/ferias",label:"Controle de Frias",icon:pg,roles:["ADMIN","SARGENTO","SUBORDINADO"]},{to:"/protocolo",label:"Protocolo de Docs",icon:yg,roles:["ADMIN","SARGENTO","SUBORDINADO"]},{to:"/policiais",label:"Gerenciar Policiais",icon:ag,roles:["ADMIN"]},{to:"/grupos",label:"Gerenciar Grupos",icon:vg,roles:["ADMIN"]},{to:"/creditos",label:"Crditos de Folga",icon:ug,roles:["ADMIN"]},{to:"/historico",label:"Histrico",icon:lg,roles:["ADMIN","SARGENTO"]},{to:"/relatorio",label:"Relatrio de Folgas",icon:ig,roles:["ADMIN","SARGENTO"]}],x=[{to:"/relatorio-eap",label:"Relatrio EAP/Cursos",icon:hg,roles:["ADMIN","SARGENTO"]}],p=[{to:"/agenda",label:"Agenda",icon:mg,roles:["ADMIN"]},{to:"/ajuda",label:"Ajuda",icon:cg,roles:["ADMIN","SARGENTO","SUBORDINADO"]}],u=c.filter(A=>s&&A.roles.includes(s)),v=d.filter(A=>s&&A.roles.includes(s)),y=x.filter(A=>s&&A.roles.includes(s)),j=p.filter(A=>s&&A.roles.includes(s)),S=f.useMemo(()=>d.some(A=>l.pathname.startsWith(A.to)),[l.pathname]),[m,h]=f.useState(S),g=f.useMemo(()=>x.some(A=>l.pathname.startsWith(A.to)),[l.pathname]),[N,D]=f.useState(g),E=f.useMemo(()=>{switch(s){case"ADMIN":return{aside:"bg-pm-blue-dark",headerText:"text-white",headerBorder:"border-pm-blue-light",userText:"text-white",pelotaoText:"text-pm-gray-300",navLinkInactive:"text-pm-gray-100 hover:bg-pm-blue hover:text-white",navLinkActive:"bg-white text-pm-blue-dark font-semibold",logoutButton:"text-pm-gray-200 hover:bg-pm-blue hover:text-white"};case"SARGENTO":return{aside:"bg-pm-red-800",headerText:"text-white",headerBorder:"border-pm-red-600",userText:"text-white",pelotaoText:"text-pm-gray-300",navLinkInactive:"text-red-100 hover:bg-pm-red-700 hover:text-white",navLinkActive:"bg-white text-pm-red-800 font-semibold",logoutButton:"text-pm-gray-200 hover:bg-pm-red-700 hover:text-white"};case"SUBORDINADO":default:return{aside:"bg-pm-gray-900",headerText:"text-white",headerBorder:"border-b border-pm-gray-700",userText:"text-white",pelotaoText:"text-pm-gray-400",navLinkInactive:"text-pm-gray-200 hover:bg-pm-gray-700 hover:text-white",navLinkActive:"bg-white text-pm-gray-900 font-semibold",logoutButton:"text-pm-gray-300 hover:bg-pm-gray-700 hover:text-white"}}},[s]),I=({isActive:A})=>`flex items-center px-4 py-3 rounded-lg transition-colors duration-200 ${A?E.navLinkActive:E.navLinkInactive}`,_=({isActive:A})=>`flex items-center px-4 py-2.5 rounded-lg transition-colors duration-200 text-sm ${A?E.navLinkActive:E.navLinkInactive}`;return r.jsxs("aside",{className:`fixed inset-y-0 left-0 z-40 w-64 ${E.aside} shadow-lg flex flex-col transform transition-transform duration-300 ease-in-out md:relative md:translate-x-0 ${e?"translate-x-0":"-translate-x-full"}`,children:[r.jsxs("div",{className:`p-6 border-b ${E.headerBorder} relative`,children:[r.jsx("button",{onClick:t,className:`absolute top-4 right-4 p-1 rounded-full ${E.userText} md:hidden`,"aria-label":"Fechar menu",children:r.jsx(gg,{className:"h-6 w-6"})}),r.jsxs("div",{className:"flex items-center justify-center gap-2 mb-4",children:[r.jsx(wg,{}),r.jsx("h1",{className:`text-2xl font-bold ${E.headerText}`,children:"SIGMA-E"})]}),o&&r.jsxs("div",{className:"text-center overflow-hidden",children:[r.jsxs("p",{className:`text-sm font-semibold ${E.userText} truncate`,children:[o.postoGrad&&`${o.postoGrad} `,o.nome]}),o.pelotao&&r.jsx("p",{className:`text-xs ${E.pelotaoText}`,children:o.pelotao})]})]}),r.jsxs("nav",{className:"flex-1 px-4 py-6 space-y-2 overflow-y-auto",children:[u.map(({to:A,label:T,icon:V})=>r.jsxs(As,{to:A,className:I,onClick:t,children:[r.jsx(V,{className:"h-6 w-6"}),r.jsx("span",{className:"ml-3",children:T})]},A)),v.length>0&&r.jsxs("div",{children:[r.jsxs("button",{onClick:()=>h(!m),className:`w-full flex items-center justify-between px-4 py-3 rounded-lg transition-colors duration-200 ${S?E.navLinkActive:E.navLinkInactive}`,"aria-expanded":m,children:[r.jsxs("div",{className:"flex items-center",children:[r.jsx(fg,{className:"h-6 w-6"}),r.jsx("span",{className:"ml-3 font-medium",children:"P-1"})]}),r.jsx(Mc,{className:`h-5 w-5 transform transition-transform duration-200 ${m?"rotate-180":""}`})]}),m&&r.jsx("div",{className:"pl-4 mt-2 space-y-1",children:v.map(({to:A,label:T,icon:V})=>r.jsxs(As,{to:A,className:_,onClick:t,children:[r.jsx(V,{className:"h-5 w-5"}),r.jsx("span",{className:"ml-3",children:T})]},A))})]}),y.length>0&&r.jsxs("div",{children:[r.jsxs("button",{onClick:()=>D(!N),className:`w-full flex items-center justify-between px-4 py-3 rounded-lg transition-colors duration-200 ${g?E.navLinkActive:E.navLinkInactive}`,"aria-expanded":N,children:[r.jsxs("div",{className:"flex items-center",children:[r.jsx(xg,{className:"h-6 w-6"}),r.jsx("span",{className:"ml-3 font-medium",children:"P-3"})]}),r.jsx(Mc,{className:`h-5 w-5 transform transition-transform duration-200 ${N?"rotate-180":""}`})]}),N&&r.jsx("div",{className:"pl-4 mt-2 space-y-1",children:y.map(({to:A,label:T,icon:V})=>r.jsxs(As,{to:A,className:_,onClick:t,children:[r.jsx(V,{className:"h-5 w-5"}),r.jsx("span",{className:"ml-3",children:T})]},A))})]}),j.map(({to:A,label:T,icon:V})=>r.jsxs(As,{to:A,className:I,onClick:t,children:[r.jsx(V,{className:"h-6 w-6"}),r.jsx("span",{className:"ml-3",children:T})]},A))]}),r.jsx("div",{className:`p-4 border-t ${E.headerBorder}`,children:r.jsxs("button",{onClick:i,className:`w-full flex items-center px-4 py-3 rounded-lg ${E.logoutButton} transition-colors duration-200`,children:[r.jsx(dg,{className:"h-6 w-6"}),r.jsx("span",{className:"ml-3 font-medium",children:"Sair"})]})})]})},fa=({className:e})=>r.jsxs("svg",{className:e,xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[r.jsx("path",{d:"M18 8A6 6 0 0 0 6 8c0 7-3 9-3 9h18s-3-2-3-9"}),r.jsx("path",{d:"M13.73 21a2 2 0 0 1-3.46 0"})]}),Ng=({className:e})=>r.jsxs("svg",{className:e,xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[r.jsx("line",{x1:"3",y1:"12",x2:"21",y2:"12"}),r.jsx("line",{x1:"3",y1:"6",x2:"21",y2:"6"}),r.jsx("line",{x1:"3",y1:"18",x2:"21",y2:"18"})]}),Sg=()=>{const{currentUser:e}=ie(),{notificacoes:t,markNotificacoesAsRead:n}=me(),[s,o]=f.useState(!1),a=f.useRef(null),l=hn(),i=f.useMemo(()=>e?t.filter(p=>p.policialId===e.id).sort((p,u)=>new Date(u.criadoEm).getTime()-new Date(p.criadoEm).getTime()):[],[t,e]),c=f.useMemo(()=>i.filter(p=>!p.lida).length,[i]),d=()=>{const p=!s;o(p),p&&c>0&&e&&n(e.id)},x=p=>{o(!1),p&&l(p)};return f.useEffect(()=>{function p(u){a.current&&!a.current.contains(u.target)&&o(!1)}return document.addEventListener("mousedown",p),()=>document.removeEventListener("mousedown",p)},[a]),r.jsxs("div",{className:"relative",ref:a,children:[r.jsxs("button",{onClick:d,className:"relative p-2 rounded-full text-pm-gray-600 hover:bg-white hover:text-pm-gray-800 transition-colors",children:[r.jsx(fa,{className:"h-6 w-6"}),c>0&&r.jsx("span",{className:"absolute top-0 right-0 block h-5 w-5 rounded-full bg-pm-red-dark text-white text-xs flex items-center justify-center ring-2 ring-pm-gray-100",children:c>9?"9+":c})]}),s&&r.jsxs("div",{className:"absolute right-0 mt-2 w-[420px] max-w-[90vw] bg-white rounded-xl shadow-xl z-20 border border-pm-gray-200 text-pm-gray-800",children:[r.jsxs("div",{className:"p-4 font-bold text-lg border-b border-pm-gray-200 flex items-center gap-3",children:[r.jsx(fa,{className:"h-6 w-6 text-pm-gray-500"}),"Notificaes"]}),r.jsx("div",{className:"max-h-[60vh] overflow-y-auto",children:i.length>0?r.jsx("ul",{className:"divide-y divide-pm-gray-100",children:i.map(p=>r.jsx("li",{children:r.jsx("button",{onClick:()=>x(p.link),className:`w-full text-left p-4 transition-colors duration-150 group ${p.link?"hover:bg-pm-gray-50":"cursor-default"}`,disabled:!p.link,children:r.jsxs("div",{className:"flex items-start gap-4",children:[r.jsx("div",{className:"w-3 flex-shrink-0 pt-1.5",children:!p.lida&&r.jsx("div",{className:"h-2.5 w-2.5 rounded-full bg-pm-blue ring-4 ring-pm-blue-light/20","aria-label":"No lida"})}),r.jsxs("div",{className:"flex-1",children:[r.jsx("p",{className:"text-base leading-relaxed text-pm-gray-800 group-hover:text-pm-gray-900",children:p.mensagem}),r.jsx("p",{className:"text-sm text-pm-gray-500 mt-2",children:new Date(p.criadoEm).toLocaleString("pt-BR",{day:"numeric",month:"short",hour:"2-digit",minute:"2-digit"})})]})]})})},p.id))}):r.jsxs("div",{className:"text-center p-12",children:[r.jsx(fa,{className:"mx-auto h-16 w-16 text-pm-gray-200"}),r.jsx("p",{className:"mt-5 text-lg font-semibold text-pm-gray-700",children:"Tudo em dia!"}),r.jsx("p",{className:"mt-1 text-base text-pm-gray-500",children:"Voc no tem novas notificaes."})]})})]})]})},Cg=()=>{const{currentUser:e}=ie(),[t,n]=f.useState(!1);return r.jsxs("div",{className:"flex h-screen bg-pm-gray-100",children:[t&&r.jsx("div",{onClick:()=>n(!1),className:"fixed inset-0 bg-black/50 z-30 md:hidden","aria-hidden":"true"}),r.jsx(jg,{isOpen:t,onClose:()=>n(!1)}),r.jsxs("div",{className:"flex-1 flex flex-col overflow-hidden",children:[r.jsxs("header",{className:"flex-shrink-0 w-full flex justify-between md:justify-end items-center py-4 px-4 sm:px-8 z-20",children:[r.jsx("button",{className:"text-pm-gray-600 md:hidden",onClick:()=>n(!0),"aria-label":"Abrir menu",children:r.jsx(Ng,{className:"h-6 w-6"})}),e&&r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx("span",{className:"font-semibold text-pm-gray-700 hidden sm:inline",children:"Notificaes"}),r.jsx(Sg,{})]})]}),r.jsx("main",{className:"flex-1 overflow-y-auto px-4 sm:px-8 pb-8",children:r.jsx(qf,{})})]})]})},bg=({className:e="h-5 w-5"})=>r.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24",fill:"none",stroke:"currentColor",strokeWidth:"2.5",strokeLinecap:"round",strokeLinejoin:"round",className:e,children:r.jsx("path",{d:"M4 19.5A2.5 2.5 0 0 1 6.5 17H20v2H6.5A2.5 2.5 0 0 1 4 19.5v-15A2.5 2.5 0 0 1 6.5 2H20v15H6.5A2.5 2.5 0 0 1 4 4.5z"})}),Eg=({className:e="h-5 w-5"})=>r.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24",fill:"none",stroke:"currentColor",strokeWidth:"2.5",strokeLinecap:"round",strokeLinejoin:"round",className:e,children:[r.jsx("circle",{cx:"12",cy:"12",r:"10"}),r.jsx("circle",{cx:"12",cy:"12",r:"6"}),r.jsx("circle",{cx:"12",cy:"12",r:"2"})]}),Ag=({className:e="h-5 w-5"})=>r.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24",fill:"none",stroke:"currentColor",strokeWidth:"2.5",strokeLinecap:"round",strokeLinejoin:"round",className:e,children:r.jsx("path",{d:"M12 22s8-4 8-10V5l-8-3-8 3v7c0 6 8 10 8 10z"})}),kg=({className:e="h-5 w-5"})=>r.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24",fill:"none",stroke:"currentColor",strokeWidth:"2.5",strokeLinecap:"round",strokeLinejoin:"round",className:e,children:[r.jsx("circle",{cx:"12",cy:"8",r:"7"}),r.jsx("polyline",{points:"8.21 13.89 7 23 12 17 17 23 15.79 13.88"})]}),Dg=({className:e="h-5 w-5"})=>r.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24",fill:"none",stroke:"currentColor",strokeWidth:"2.5",strokeLinecap:"round",strokeLinejoin:"round",className:e,children:[r.jsx("circle",{cx:"12",cy:"12",r:"1"}),r.jsx("circle",{cx:"19",cy:"12",r:"1"}),r.jsx("circle",{cx:"5",cy:"12",r:"1"})]}),Og=({className:e})=>r.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:e,children:[r.jsx("rect",{x:"8",y:"2",width:"8",height:"4",rx:"1",ry:"1"}),r.jsx("path",{d:"M16 4h2a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h2"}),r.jsx("path",{d:"M12 11h4"}),r.jsx("path",{d:"M12 16h4"}),r.jsx("path",{d:"M8 11h.01"}),r.jsx("path",{d:"M8 16h.01"})]}),Ig=({className:e})=>r.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:e,children:r.jsx("path",{d:"M17.8 19.2 16 11l3.5-3.5C21 6 21.5 4 21 3c-1-.5-3 0-4.5 1.5L13 8 4.8 6.2c-.5-.1-.9.1-1.1.5l-.3.5c-.2.5-.1 1 .3 1.3L9 12l-2 3H4l-1 1 3 2 2 3 1-1v-3l3-2 3.5 5.3c.3.4.8.5 1.3.3l.5-.2c.4-.3.6-.7.5-1.2z"})}),Rg=({className:e})=>r.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:e,children:[r.jsx("path",{d:"M16 21v-2a4 4 0 0 0-4-4H5a4 4 0 0 0-4 4v2"}),r.jsx("circle",{cx:"8.5",cy:"7",r:"4"}),r.jsx("polyline",{points:"17 11 19 13 23 9"})]}),Fc={[ne.CURSO]:{icon:bg,style:"bg-indigo-500 text-white"},[ne.EAP]:{icon:Eg,style:"bg-purple-500 text-white"},[ne.OPERACAO]:{icon:Ag,style:"bg-red-500 text-white"},[ne.LICENCA_PREMIO]:{icon:kg,style:"bg-teal-500 text-white"},[ne.OUTRO]:{icon:Dg,style:"bg-gray-500 text-white"}},Pg=()=>{const{policiais:e}=me(),{folgasAtivasPorDia:t,feriasPorDia:n,eventosAgendaPorDia:s}=kx(),[o,a]=f.useState(new Date),[l,i]=f.useState(null),[c,d]=f.useState(!1),x=f.useMemo(()=>({...Sn,FOLGA:"Folgas",FERIAS:"Frias"}),[]),p=f.useMemo(()=>({...Tr,FOLGA:"bg-pm-blue text-white",FERIAS:"bg-green-500 text-white"}),[]),[u,v]=f.useState(Object.keys(x).reduce((A,T)=>({...A,[T]:!0}),{})),y=A=>{v(T=>({...T,[A]:!T[A]}))},j=f.useMemo(()=>new Map(e.map(A=>[A.id,A])),[e]),S=A=>A.toISOString().split("T")[0],m=f.useMemo(()=>{const A=o.getFullYear(),T=o.getMonth(),V=new Date(A,T,1),k=new Date(A,T+1,0),M=[],z=V.getDay();for(let w=0;w<z;w++)M.push(null);for(let w=1;w<=k.getDate();w++)M.push(new Date(A,T,w));return M},[o]),h=()=>{a(new Date(o.getFullYear(),o.getMonth()-1,1))},g=()=>{a(new Date(o.getFullYear(),o.getMonth()+1,1))},N=A=>{i(A),d(!0)},D=["Dom","Seg","Ter","Qua","Qui","Sex","Sb"],E=l&&u.FOLGA?t.get(S(l))||[]:[],I=l&&u.FERIAS?n.get(S(l))||[]:[],_=l?(s.get(S(l))||[]).filter(A=>u[A.tipo]):[];return r.jsxs("div",{className:"container mx-auto",children:[r.jsx("h1",{className:"text-3xl font-bold text-pm-gray-800 mb-6",children:"Calendrio Geral"}),r.jsxs("div",{className:"bg-white p-6 rounded-lg shadow-md",children:[r.jsxs("div",{className:"flex justify-between items-center mb-4",children:[r.jsx("button",{onClick:h,className:"p-2 rounded-full hover:bg-pm-gray-100 transition-colors",children:r.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:r.jsx("polyline",{points:"15 18 9 12 15 6"})})}),r.jsx("h2",{className:"text-xl font-semibold capitalize text-pm-gray-700 text-center",children:o.toLocaleString("pt-BR",{month:"long",year:"numeric"})}),r.jsx("button",{onClick:g,className:"p-2 rounded-full hover:bg-pm-gray-100 transition-colors",children:r.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:r.jsx("polyline",{points:"9 18 15 12 9 6"})})})]}),r.jsxs("div",{className:"p-4 mb-4 bg-pm-gray-50 rounded-lg border",children:[r.jsx("h3",{className:"text-sm font-semibold text-pm-gray-600 mb-3",children:"Filtros de Exibio:"}),r.jsx("div",{className:"flex flex-wrap gap-2",children:Object.entries(x).map(([A,T])=>{const V=u[A],k=p[A]||"bg-gray-200 text-gray-800";return r.jsxs("button",{onClick:()=>y(A),className:`px-3 py-1.5 text-xs font-semibold rounded-full transition-all duration-200 flex items-center gap-2 ${V?`${k} shadow-sm`:"bg-pm-gray-200 text-pm-gray-600 hover:bg-pm-gray-300"}`,children:[r.jsx("span",{className:`w-2.5 h-2.5 rounded-full border-2 ${V?"bg-white border-white/50":"bg-transparent border-current"}`}),T]},A)})})]}),r.jsx("div",{className:"grid grid-cols-7 gap-2 text-center font-medium text-pm-gray-500 border-b pb-2 mb-2",children:D.map(A=>r.jsx("div",{className:"py-2 text-xs sm:text-base","aria-hidden":"true",children:A},A))}),r.jsx("div",{className:"grid grid-cols-7 gap-1 md:gap-2",children:m.map((A,T)=>{if(!A)return r.jsx("div",{},`empty-${T}`);const V=S(A),k=u.FOLGA?t.get(V)||[]:[],M=u.FERIAS?n.get(V)||[]:[],z=(s.get(V)||[]).filter(R=>u[R.tipo]),w=Array.from(new Set(z.map(R=>R.tipo))),$=S(new Date)===V,b=k.length>0||M.length>0||z.length>0;let C="h-24 w-full text-left p-1 md:p-2 rounded-lg relative transition-colors duration-200 flex flex-col justify-between group";return b?C+=" cursor-pointer":C+=" cursor-default",$?C+=" bg-pm-blue text-white":M.length>0?C+=" bg-green-100 hover:bg-green-200":k.length>0?C+=" bg-pm-gray-50 hover:bg-pm-blue-light hover:text-white":z.length>0?C+=" bg-pm-gray-50 hover:bg-pm-gray-100":C+=" bg-pm-gray-50 text-pm-gray-400",r.jsxs("button",{onClick:()=>b&&N(A),disabled:!b,className:C,"aria-label":b?`Ver eventos do dia ${A.getDate()}`:`Dia ${A.getDate()}, sem eventos`,children:[r.jsx("span",{className:`font-medium text-sm md:text-base ${$?"":M.length>0?"text-green-900":b?"text-pm-gray-800":""} ${k.length>0?"group-hover:text-white":""}`,children:A.getDate()}),r.jsxs("div",{className:"flex-grow flex items-end justify-end flex-wrap-reverse gap-1",children:[w.map(R=>{const{icon:G,style:X}=Fc[R],L=z.filter(Y=>Y.tipo===R).length,U=`${L} ${Sn[R]}${L>1?"s":""}`;return r.jsx("span",{className:`w-6 h-6 rounded-full flex items-center justify-center font-bold border-2 border-white ${X}`,title:U,children:r.jsx(G,{className:"h-4 w-4"})},R)}),M.length>0&&r.jsx("span",{className:"text-xs w-6 h-6 rounded-full flex items-center justify-center font-bold border-2 bg-green-500 text-white border-white",title:`${M.length} policiais de frias`,children:M.length}),k.length>0&&r.jsx("span",{className:`text-xs w-6 h-6 rounded-full flex items-center justify-center font-bold border-2 ${$?"bg-white text-pm-blue border-white":"bg-pm-blue text-white border-white group-hover:border-pm-blue-light"}`,title:`${k.length} policiais de folga`,children:k.length})]})]},V)})})]}),r.jsx(Qe,{isOpen:c,onClose:()=>d(!1),title:`Eventos de ${l==null?void 0:l.toLocaleDateString("pt-BR")}`,children:r.jsxs("div",{className:"space-y-6 max-h-[70vh] overflow-y-auto pr-2",children:[_.length>0&&r.jsxs("div",{children:[r.jsxs("h3",{className:"text-lg font-semibold text-pm-gray-800 mb-3 border-b pb-2 flex items-center gap-2",children:[r.jsx(Og,{className:"h-5 w-5 text-pm-gray-500"}),"Eventos Agendados"]}),r.jsx("ul",{className:"space-y-3",children:_.map(A=>{const T=Fc[A.tipo].icon,V=Tr[A.tipo].split(" "),k=V.find(z=>z.startsWith("bg-"))||"bg-pm-gray-100",M=V.find(z=>z.startsWith("text-"))||"text-pm-gray-800";return r.jsxs("li",{className:"p-3 bg-pm-gray-50 rounded-md border border-pm-gray-200",children:[r.jsxs("div",{className:"flex items-start space-x-3",children:[r.jsx("div",{className:`flex-shrink-0 w-8 h-8 rounded-full flex items-center justify-center ${k}`,children:r.jsx("div",{className:M,children:r.jsx(T,{className:"h-5 w-5"})})}),r.jsxs("div",{className:"flex-1",children:[r.jsxs("div",{className:"flex justify-between items-start",children:[r.jsx("p",{className:"font-semibold text-pm-gray-900",children:A.titulo}),r.jsx("span",{className:`px-2 py-1 text-xs font-medium rounded-full ${Tr[A.tipo]}`,children:Sn[A.tipo]})]}),r.jsxs("p",{className:"text-sm text-pm-gray-600",children:[r.jsx("strong",{children:"Horrio:"})," ",A.horaInicio," s ",A.horaFim]}),r.jsxs("p",{className:"text-sm text-pm-gray-600",children:[r.jsx("strong",{children:"Local:"})," ",A.local]})]})]}),A.observacoes&&r.jsxs("p",{className:"text-xs mt-2 pt-2 border-t border-pm-gray-200 text-pm-gray-600",children:[r.jsx("strong",{children:"Obs:"})," ",A.observacoes]}),A.policiaisIds.length>0&&r.jsxs("div",{className:"mt-3 pt-3 border-t border-pm-gray-200",children:[r.jsx("h4",{className:"text-sm font-semibold text-pm-gray-800 mb-2",children:"Efetivo Escalado:"}),r.jsx("ul",{className:"space-y-1",children:A.policiaisIds.map(z=>{const w=j.get(z);return w?r.jsxs("li",{className:"flex justify-between items-center text-sm text-pm-gray-900 bg-white p-1.5 rounded border",children:[r.jsxs("span",{children:[w.postoGrad," ",w.nome]}),r.jsx("span",{className:"font-mono text-xs bg-pm-gray-200 text-pm-gray-800 px-2 py-0.5 rounded-full",children:w.re})]},z):null})})]})]},A.id)})})]}),I.length>0&&r.jsxs("div",{children:[r.jsxs("h3",{className:"text-lg font-semibold text-pm-gray-800 mb-3 border-b pb-2 flex items-center gap-2",children:[r.jsx(Ig,{className:"h-5 w-5 text-pm-gray-500"}),"Frias Agendadas"]}),r.jsx("ul",{className:"space-y-2",children:I.map(A=>{const T=j.get(A.policialId);return r.jsxs("li",{className:"p-3 bg-white rounded-md border border-green-200 shadow-sm",children:[r.jsxs("p",{className:"font-semibold text-green-900",children:[T==null?void 0:T.postoGrad," ",A.nome]}),r.jsxs("p",{className:"text-sm text-green-700",children:["RE: ",A.re," - Peloto: ",A.pelotao]})]},A.id)})})]}),E.length>0&&r.jsxs("div",{children:[r.jsxs("h3",{className:"text-lg font-semibold text-pm-gray-800 mb-3 border-b pb-2 flex items-center gap-2",children:[r.jsx(Rg,{className:"h-5 w-5 text-pm-gray-500"}),"Folgas Ativas"]}),r.jsx("ul",{className:"space-y-2",children:E.map(A=>{const T=j.get(A.policialld);return r.jsxs("li",{className:"p-3 bg-white rounded-md border border-blue-200 shadow-sm",children:[r.jsxs("p",{className:"font-semibold text-pm-gray-800",children:[T==null?void 0:T.postoGrad," ",A.nome]}),r.jsxs("p",{className:"text-sm text-pm-gray-500",children:["RE: ",A.re," - Peloto: ",A.pelotao]})]},A.folgald)})})]}),I.length===0&&E.length===0&&_.length===0&&r.jsx("p",{className:"text-pm-gray-600 text-center py-4",children:"Nenhum evento para este dia."})]})})]})},Lg=({className:e})=>r.jsxs("svg",{className:e,xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[r.jsx("path",{d:"M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"}),r.jsx("polyline",{points:"14 2 14 8 20 8"}),r.jsx("line",{x1:"16",y1:"13",x2:"8",y2:"13"}),r.jsx("line",{x1:"16",y1:"17",x2:"8",y2:"17"}),r.jsx("polyline",{points:"10 9 9 9 8 9"})]}),Tg=()=>{const{folgas:e,users:t,grupos:n}=me(),{currentUser:s,role:o}=ie(),a=new Date,l=new Date(a.getFullYear(),a.getMonth(),1).toISOString().split("T")[0],i=new Date(a.getFullYear(),a.getMonth()+1,0).toISOString().split("T")[0],[c,d]=f.useState({dataInicio:l,dataFim:i,pelotao:o==="SARGENTO"&&(s==null?void 0:s.pelotao)||""}),x=m=>{const{name:h,value:g}=m.target;d(N=>({...N,[h]:g}))},p=f.useMemo(()=>[...n].sort((m,h)=>m.nome.localeCompare(h.nome)),[n]),u=f.useMemo(()=>e.filter(m=>{const h=new Date(m.data+"T00:00:00"),g=(!c.dataInicio||h>=new Date(c.dataInicio+"T00:00:00"))&&(!c.dataFim||h<=new Date(c.dataFim+"T00:00:00")),N=!c.pelotao||m.pelotao===c.pelotao,D=o!=="SARGENTO"||m.pelotao===(s==null?void 0:s.pelotao);return g&&N&&D}).sort((m,h)=>new Date(m.data).getTime()-new Date(h.data).getTime()),[e,c,o,s]),v=m=>{switch(m.status){case J.TROCADA:return{text:`Trocada para ${m.trocadaPara?new Date(m.trocadaPara+"T00:00:00").toLocaleDateString("pt-BR"):"N/D"}`,color:"bg-yellow-100 text-yellow-800"};case J.EXCLUIDA:return{text:"Excluda",color:"bg-red-100 text-red-800"};case J.CANCELADA:return{text:"Cancelada/Reprovada",color:"bg-gray-200 text-gray-800"};case J.ATIVA:if(m.aprovacao===H.VALIDADA_ADMIN)return{text:"Usufruda",color:"bg-green-100 text-green-800"};break}switch(m.aprovacao){case H.NEGADA_SARGENTO:return{text:"Negada pelo Sargento",color:"bg-orange-100 text-orange-800"};case H.REPROVADA_ADMIN:return{text:"Reprovada pelo Admin",color:"bg-red-100 text-red-800"};default:return{text:"Pendente",color:"bg-blue-100 text-blue-800"}}},y=m=>{if(!m)return"N/A";const h=t.find(g=>g.id===m);return h?h.nome:"Desconhecido"},j=()=>{if(u.length===0)return;const m=c.dataInicio?new Date(c.dataInicio+"T00:00:00").toLocaleDateString("pt-BR"):"N/A",h=c.dataFim?new Date(c.dataFim+"T00:00:00").toLocaleDateString("pt-BR"):"N/A",g=`Relatrio de Folgas - De ${m} a ${h} - Peloto: ${c.pelotao||"Todos"}`,N=["Policial","RE","Peloto","Data da Folga","Data da Solicitao","Situao Final","Motivo Solicitao","Parecer Sargento","Parecer Admin"],D=u.map(V=>{const k=v(V);return[V.nome,V.re,V.pelotao,new Date(V.data+"T00:00:00").toLocaleDateString("pt-BR"),new Date(V.criadoEm).toLocaleString("pt-BR"),k.text,V.motivo||"",V.sargentoParecer||"",V.adminParecer||""]}),E=[[g],[],N,...D],I=XLSX.utils.aoa_to_sheet(E),_=N.map((V,k)=>({wch:Math.max(...E.map(M=>M[k]?String(M[k]).length:0))+2}));I["!cols"]=_,I["!merges"]=[{s:{r:0,c:0},e:{r:0,c:N.length-1}}],I.A1&&(I.A1.s={font:{sz:14,bold:!0},alignment:{horizontal:"center"}}),N.forEach((V,k)=>{const M=XLSX.utils.encode_cell({r:2,c:k});I[M]&&(I[M].s={font:{bold:!0}})});const A=XLSX.utils.book_new();XLSX.utils.book_append_sheet(A,I,"Relatrio de Folgas");const T=`relatorio_folgas_${c.dataInicio}_a_${c.dataFim}_${c.pelotao||"todos"}.xlsx`;XLSX.writeFile(A,T)},S=f.useMemo(()=>{const m=u.filter(N=>N.status===J.ATIVA&&N.aprovacao===H.VALIDADA_ADMIN).length,h=u.filter(N=>N.status===J.TROCADA).length,g=u.filter(N=>N.status===J.EXCLUIDA).length;return{total:u.length,usufruidas:m,trocadas:h,excluidas:g}},[u]);return r.jsxs("div",{className:"container mx-auto",children:[r.jsxs("div",{className:"flex justify-between items-center mb-6 flex-wrap gap-2",children:[r.jsx("h1",{className:"text-3xl font-bold text-pm-gray-800",children:"Relatrio de Folgas"}),r.jsxs("button",{onClick:j,disabled:u.length===0,className:"bg-green-600 hover:bg-green-700 text-white font-bold py-2 px-4 rounded-md flex items-center disabled:bg-green-300 disabled:cursor-not-allowed",children:[r.jsx(Lg,{className:"mr-2 h-5 w-5"})," Exportar Excel"]})]}),r.jsx("div",{className:"bg-white p-4 rounded-lg shadow-md mb-6",children:r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[r.jsxs("div",{children:[r.jsx("label",{htmlFor:"dataInicio",className:"block text-sm font-medium text-pm-gray-700",children:"De:"}),r.jsx("input",{id:"dataInicio",name:"dataInicio",type:"date",value:c.dataInicio,onChange:x,className:"mt-1 block w-full pl-3 pr-2 py-2 text-base border-pm-gray-300 focus:outline-none focus:ring-pm-blue focus:border-pm-blue sm:text-sm rounded-md"})]}),r.jsxs("div",{children:[r.jsx("label",{htmlFor:"dataFim",className:"block text-sm font-medium text-pm-gray-700",children:"At:"}),r.jsx("input",{id:"dataFim",name:"dataFim",type:"date",value:c.dataFim,onChange:x,className:"mt-1 block w-full pl-3 pr-2 py-2 text-base border-pm-gray-300 focus:outline-none focus:ring-pm-blue focus:border-pm-blue sm:text-sm rounded-md"})]}),r.jsxs("div",{children:[r.jsx("label",{htmlFor:"pelotao",className:"block text-sm font-medium text-pm-gray-700",children:"Grupo/Peloto"}),r.jsxs("select",{id:"pelotao",name:"pelotao",value:c.pelotao,onChange:x,className:"mt-1 block w-full pl-3 pr-10 py-2 text-base border-pm-gray-300 focus:outline-none focus:ring-pm-blue focus:border-pm-blue sm:text-sm rounded-md",disabled:o==="SARGENTO",children:[r.jsx("option",{value:"",children:"Todos os Grupos"}),p.map(m=>r.jsx("option",{value:m.nome,children:m.nome},m.id))]})]})]})}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-8",children:[r.jsxs("div",{className:"bg-white p-4 rounded-lg shadow",children:[r.jsx("p",{className:"text-sm text-pm-gray-500",children:"Total de Solicitaes"}),r.jsx("p",{className:"text-2xl font-bold",children:S.total})]}),r.jsxs("div",{className:"bg-white p-4 rounded-lg shadow",children:[r.jsx("p",{className:"text-sm text-pm-gray-500",children:"Folgas Usufrudas"}),r.jsx("p",{className:"text-2xl font-bold text-green-600",children:S.usufruidas})]}),r.jsxs("div",{className:"bg-white p-4 rounded-lg shadow",children:[r.jsx("p",{className:"text-sm text-pm-gray-500",children:"Folgas Trocadas"}),r.jsx("p",{className:"text-2xl font-bold text-yellow-600",children:S.trocadas})]}),r.jsxs("div",{className:"bg-white p-4 rounded-lg shadow",children:[r.jsx("p",{className:"text-sm text-pm-gray-500",children:"Folgas Excludas"}),r.jsx("p",{className:"text-2xl font-bold text-red-600",children:S.excluidas})]})]}),r.jsxs("div",{className:"bg-white rounded-lg shadow-md overflow-x-auto",children:[r.jsxs("table",{className:"w-full text-sm text-left text-pm-gray-600",children:[r.jsx("thead",{className:"text-xs text-pm-gray-700 uppercase bg-pm-gray-50",children:r.jsxs("tr",{children:[r.jsx("th",{scope:"col",className:"px-6 py-3",children:"Policial"}),r.jsx("th",{scope:"col",className:"px-6 py-3",children:"Data Folga"}),r.jsx("th",{scope:"col",className:"px-6 py-3",children:"Data Solicitao"}),r.jsx("th",{scope:"col",className:"px-6 py-3",children:"Situao Final"}),r.jsx("th",{scope:"col",className:"px-6 py-3",children:"Detalhes"})]})}),r.jsx("tbody",{children:u.map(m=>{const h=v(m);return r.jsxs("tr",{className:"bg-white border-b hover:bg-pm-gray-50",children:[r.jsxs("td",{className:"px-6 py-4 font-medium text-pm-gray-900",children:[m.nome,r.jsx("br",{}),r.jsxs("span",{className:"text-xs text-pm-gray-500",children:["RE: ",m.re," | ",m.pelotao]})]}),r.jsx("td",{className:"px-6 py-4",children:new Date(m.data+"T00:00:00").toLocaleDateString("pt-BR")}),r.jsx("td",{className:"px-6 py-4",children:new Date(m.criadoEm).toLocaleString("pt-BR")}),r.jsx("td",{className:"px-6 py-4",children:r.jsx("span",{className:`px-2 py-1 text-xs font-medium rounded-full ${h.color}`,children:h.text})}),r.jsxs("td",{className:"px-6 py-4 text-xs",children:[m.motivo&&r.jsxs("div",{children:[r.jsx("strong",{children:"Motivo:"})," ",m.motivo]}),m.sargentoParecer&&r.jsxs("div",{children:[r.jsxs("strong",{children:["Sgt (",y(m.sargentold),"):"]})," ",m.sargentoParecer]}),m.adminParecer&&r.jsxs("div",{children:[r.jsxs("strong",{children:["Adm (",y(m.adminld),"):"]})," ",m.adminParecer]})]})]},m.folgald)})})]}),u.length===0&&r.jsx("p",{className:"text-center p-4 text-pm-gray-500",children:"Nenhum registro encontrado para os filtros selecionados."})]})]})},_g=({message:e,type:t="success"})=>{const n=t==="success"?"bg-green-600":"bg-red-600";return r.jsxs("div",{className:`fixed top-20 right-8 text-white py-3 px-5 rounded-lg shadow-xl z-50 flex items-center ${n}`,role:"alert","aria-live":"assertive",children:[r.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:"mr-2",children:[r.jsx("circle",{cx:"12",cy:"12",r:"10"}),r.jsx("path",{d:"M12 16v-4"}),r.jsx("path",{d:"M12 8h.01"})]}),r.jsx("span",{children:e})]})},Mg=()=>{const{leaveLedger:e,policiais:t,adminAddLeaveCredits:n,grupos:s}=me(),{currentUser:o}=ie(),[a,l]=f.useState(!1),[i,c]=f.useState("add"),[d,x]=f.useState({policialId:"",year:new Date().getFullYear(),delta:1,reason:""}),[p,u]=f.useState(null),[v,y]=f.useState(""),j=new Date().getFullYear(),[S,m]=f.useState(j),[h,g]=f.useState(""),[N,D]=f.useState(""),E=Ix({yearFilter:S,pelotaoFilter:h,searchFilter:N}),I=f.useMemo(()=>[...s].sort((w,$)=>w.nome.localeCompare($.nome)),[s]);f.useEffect(()=>{if(p){const w=setTimeout(()=>u(null),3e3);return()=>clearTimeout(w)}},[p]);const _=f.useMemo(()=>new Map(t.map(w=>[w.id,w])),[t]),A=f.useMemo(()=>[...e].sort((w,$)=>new Date($.createdAt).getTime()-new Date(w.createdAt).getTime()),[e]),T=f.useMemo(()=>Array.from(new Set([...e.map(w=>w.year),j])).sort((w,$)=>$-w),[e,j]),V=f.useMemo(()=>{if(!v.trim())return t.filter($=>$.ativo).sort(($,b)=>$.nome.localeCompare(b.nome));const w=v.toLowerCase();return t.filter($=>$.ativo&&($.re.toLowerCase().includes(w)||$.nome.toLowerCase().includes(w)||$.pelotao.toLowerCase().includes(w)))},[t,v]),k=w=>{c(w),x({policialId:"",year:new Date().getFullYear(),delta:w==="add"?1:-1,reason:""}),y(""),l(!0)},M=async()=>{if(!o)return;const{policialId:w,year:$,delta:b,reason:C}=d;if(!w){u({message:"Selecione um policial.",type:"error"});return}if(!Number.isFinite(b)||b===0){u({message:"Valor invlido.",type:"error"});return}if(i==="add"&&b<1){u({message:"Valor deve ser positivo.",type:"error"});return}if(i==="remove"&&b>-1){u({message:"Valor deve ser negativo.",type:"error"});return}try{await n({policialId:Number(w),year:$,delta:b,reason:C},o),u({message:"Operao realizada com sucesso!",type:"success"}),l(!1)}catch(R){u({message:R.message||"Falha ao realizar a operao.",type:"error"})}},z=w=>{const{name:$,value:b}=w.target;x(C=>({...C,[$]:$==="year"||$==="delta"?Number(b):b}))};return r.jsxs("div",{className:"container mx-auto",children:[p&&r.jsx(_g,{message:p.message,type:p.type}),r.jsxs("div",{className:"flex justify-between items-center mb-6 flex-wrap gap-2",children:[r.jsx("h1",{className:"text-3xl font-bold text-pm-gray-800",children:"Auditoria de Crditos de Folga"}),r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsxs("button",{onClick:()=>k("add"),className:"bg-green-600 hover:bg-green-700 text-white font-bold py-2 px-4 rounded-md flex items-center",children:[r.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:"mr-2",children:[r.jsx("line",{x1:"12",y1:"5",x2:"12",y2:"19"}),r.jsx("line",{x1:"5",y1:"12",x2:"19",y2:"12"})]}),"Adicionar"]}),r.jsxs("button",{onClick:()=>k("remove"),className:"bg-orange-500 hover:bg-orange-600 text-white font-bold py-2 px-4 rounded-md flex items-center",children:[r.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:"mr-2",children:r.jsx("line",{x1:"5",y1:"12",x2:"19",y2:"12"})}),"Remover"]})]})]}),r.jsxs("div",{className:"bg-white rounded-lg shadow-md overflow-x-auto",children:[r.jsxs("table",{className:"w-full text-sm text-left text-pm-gray-600",children:[r.jsx("thead",{className:"text-xs text-pm-gray-700 uppercase bg-pm-gray-50",children:r.jsxs("tr",{children:[r.jsx("th",{scope:"col",className:"px-6 py-3",children:"Data"}),r.jsx("th",{scope:"col",className:"px-6 py-3",children:"Policial"}),r.jsx("th",{scope:"col",className:"px-6 py-3",children:"Ano Ref."}),r.jsx("th",{scope:"col",className:"px-6 py-3",children:""}),r.jsx("th",{scope:"col",className:"px-6 py-3",children:"Motivo"}),r.jsx("th",{scope:"col",className:"px-6 py-3",children:"Lanado Por"})]})}),r.jsx("tbody",{children:A.map(w=>{const $=_.get(w.policialId);return r.jsxs("tr",{className:"bg-white border-b hover:bg-pm-gray-50",children:[r.jsx("td",{className:"px-6 py-4",children:new Date(w.createdAt).toLocaleString("pt-BR")}),r.jsxs("td",{className:"px-6 py-4 font-medium",children:[$?`${$.postoGrad} ${$.nome}`:`ID: ${w.policialId}`,r.jsx("br",{}),r.jsxs("span",{className:"text-xs text-pm-gray-500",children:["RE: ",($==null?void 0:$.re)||"N/A"]})]}),r.jsx("td",{className:"px-6 py-4",children:w.year}),r.jsx("td",{className:`px-6 py-4 font-bold ${w.delta>0?"text-green-600":"text-red-600"}`,children:w.delta>0?`+${w.delta}`:w.delta}),r.jsx("td",{className:"px-6 py-4",children:w.reason||"-"}),r.jsx("td",{className:"px-6 py-4",children:w.createdByNome})]},w.id)})})]}),A.length===0&&r.jsx("p",{className:"text-center p-4 text-pm-gray-500",children:"Nenhum lanamento encontrado."})]}),r.jsxs("div",{className:"mt-10",children:[r.jsx("h2",{className:"text-2xl font-bold text-pm-gray-800 mb-4",children:"Saldo de Folgas do Efetivo"}),r.jsx("div",{className:"bg-white p-4 rounded-lg shadow-md mb-6",children:r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[r.jsx("input",{type:"text",placeholder:"Buscar por Nome ou RE...",value:N,onChange:w=>D(w.target.value),className:"w-full px-3 py-2 border rounded-md"}),r.jsxs("select",{value:h,onChange:w=>g(w.target.value),className:"w-full px-3 py-2 border rounded-md",children:[r.jsx("option",{value:"",children:"Todos os Grupos"}),I.map(w=>r.jsx("option",{value:w.nome,children:w.nome},w.id))]}),r.jsx("select",{value:S,onChange:w=>m(Number(w.target.value)),className:"w-full px-3 py-2 border rounded-md",children:T.map(w=>r.jsxs("option",{value:w,children:["Ano de ",w]},w))})]})}),r.jsxs("div",{className:"bg-white rounded-lg shadow-md overflow-x-auto",children:[r.jsxs("table",{className:"w-full text-sm text-left text-pm-gray-600",children:[r.jsx("thead",{className:"text-xs uppercase bg-pm-gray-50",children:r.jsxs("tr",{children:[r.jsx("th",{className:"px-6 py-3",children:"Policial"}),r.jsx("th",{className:"px-6 py-3",children:"Grupo"}),r.jsx("th",{className:"px-6 py-3 text-center",children:"Crditos"}),r.jsx("th",{className:"px-6 py-3 text-center",children:"Usadas"}),r.jsx("th",{className:"px-6 py-3 text-center",children:"Saldo"})]})}),r.jsx("tbody",{children:E.map(w=>r.jsxs("tr",{className:"bg-white border-b hover:bg-pm-gray-50",children:[r.jsxs("td",{className:"px-6 py-4 font-medium",children:[w.postoGrad," ",w.nome,r.jsx("br",{}),r.jsxs("span",{className:"text-xs text-pm-gray-500",children:["RE: ",w.re]})]}),r.jsx("td",{className:"px-6 py-4",children:w.pelotao}),r.jsx("td",{className:"px-6 py-4 text-center font-medium text-blue-600",children:w.creditos}),r.jsx("td",{className:"px-6 py-4 text-center font-medium text-orange-600",children:w.usadas}),r.jsx("td",{className:`px-6 py-4 text-center font-bold text-lg ${w.saldo>0?"text-green-600":"text-red-600"}`,children:w.saldo})]},w.id))})]}),E.length===0&&r.jsx("p",{className:"text-center p-4 text-pm-gray-500",children:"Nenhum policial encontrado."})]})]}),r.jsx(Qe,{isOpen:a,onClose:()=>l(!1),title:i==="add"?"Adicionar Crditos":"Remover/Ajustar Crditos",children:r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium",children:"Policial"}),r.jsx("input",{type:"text",placeholder:"Buscar...",value:v,onChange:w=>y(w.target.value),className:"mb-2 mt-1 w-full border rounded-md p-2"}),r.jsxs("select",{name:"policialId",value:d.policialId,onChange:z,className:"mt-1 w-full border rounded-md p-2",required:!0,size:V.length>5?5:Math.max(2,V.length+1),children:[r.jsx("option",{value:"",children:"Selecione..."}),V.map(w=>r.jsxs("option",{value:w.id,children:[w.postoGrad," ",w.re," ",w.nome," (",w.pelotao,")"]},w.id))]}),V.length===0&&r.jsx("p",{className:"text-xs text-red-500 mt-1",children:"Nenhum policial encontrado."})]}),r.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm",children:"Ano Ref."}),r.jsx("input",{type:"number",name:"year",value:d.year,onChange:z,className:"mt-1 w-full border rounded-md p-2",required:!0})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm",children:i==="add"?"Crditos a Adicionar":"Crditos a Remover"}),r.jsx("input",{type:"number",name:"delta",value:d.delta,onChange:z,className:"mt-1 w-full border rounded-md p-2",required:!0,step:"1",min:i==="add"?1:void 0,max:i==="remove"?-1:void 0}),r.jsx("p",{className:"text-xs text-pm-gray-500 mt-1",children:i==="add"?"Use um n positivo.":"Use um n negativo."})]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm",children:"Motivo"}),r.jsx("textarea",{name:"reason",value:d.reason,onChange:z,rows:3,className:"mt-1 w-full border rounded-md p-2",placeholder:"Ex: Concesso anual"})]}),r.jsxs("div",{className:"flex justify-end pt-4 space-x-2",children:[r.jsx("button",{type:"button",onClick:()=>l(!1),className:"bg-pm-gray-200 hover:bg-pm-gray-300 font-bold py-2 px-4 rounded-md",children:"Cancelar"}),r.jsx("button",{type:"button",onClick:M,className:"bg-pm-blue hover:bg-pm-blue-dark text-white font-bold py-2 px-4 rounded-md",children:"Salvar"})]})]})})]})},Fg=({message:e,type:t="success"})=>{const n=t==="success"?"bg-green-600":"bg-red-600";return r.jsxs("div",{className:`fixed top-20 right-8 text-white py-3 px-5 rounded-lg shadow-xl z-50 flex items-center ${n}`,role:"alert","aria-live":"assertive",children:[r.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:"mr-2",children:[r.jsx("circle",{cx:"12",cy:"12",r:"10"}),r.jsx("path",{d:"M12 16v-4"}),r.jsx("path",{d:"M12 8h.01"})]}),r.jsx("span",{children:e})]})},$g=()=>{const{ferias:e,policiais:t,addFerias:n,updateFerias:s,folgas:o,grupos:a}=me(),{currentUser:l,role:i}=ie(),[c,d]=f.useState({ano:new Date().getFullYear().toString(),pelotao:"",status:""}),[x,p]=f.useState(!1),[u,v]=f.useState({}),[y,j]=f.useState(null),[S,m]=f.useState([]),[h,g]=f.useState(null),[N,D]=f.useState(new Date().toISOString().substring(0,7)),[E,I]=f.useState(""),[_,A]=f.useState(!1),T=f.useRef(null),[V,k]=f.useState(!1),[M,z]=f.useState(""),[w,$]=f.useState(null),b=f.useMemo(()=>new Map(t.map(O=>[O.id,O])),[t]),C=Rx(c),R=f.useMemo(()=>[...a].sort((O,Q)=>O.nome.localeCompare(Q.nome)),[a]);f.useEffect(()=>{if(!x||!u.policialId||!u.anoReferencia||u.id)return;const O=e.filter(he=>he.policialId===u.policialId&&he.anoReferencia===u.anoReferencia&&he.status===be.AGENDADA).reduce((he,nt)=>he+(nt.duracaoDias||0),0),Q=[];O===0?Q.push(15,30):O===15&&Q.push(15),m(Q),(Q.length>0?Q[0]:void 0)!==u.duracaoDias&&v(he=>({...he,duracaoDias:Q.length>0?Q[0]:void 0}))},[x,u.policialId,u.anoReferencia,e,u.id]),f.useEffect(()=>{if(u!=null&&u.dataInicio&&u.duracaoDias){const O=new Date(u.dataInicio+"T12:00:00"),Q=new Date(O);Q.setDate(O.getDate()+u.duracaoDias-1);const he=Q.toISOString().split("T")[0];he!==u.dataFim&&v(nt=>({...nt,dataFim:he}))}else u!=null&&u.dataFim&&v(O=>({...O,dataFim:""}))},[u==null?void 0:u.dataInicio,u==null?void 0:u.duracaoDias]),f.useEffect(()=>{const O=Q=>{T.current&&!T.current.contains(Q.target)&&A(!1)};return document.addEventListener("mousedown",O),()=>document.removeEventListener("mousedown",O)},[T]),f.useEffect(()=>{if(h){const O=setTimeout(()=>g(null),4e3);return()=>clearTimeout(O)}},[h]);const G=O=>d(Q=>({...Q,[O.target.name]:O.target.value})),X=f.useMemo(()=>{if(!E.trim())return t.filter(Q=>Q.ativo).sort((Q,he)=>Q.nome.localeCompare(he.nome));const O=E.toLowerCase();return t.filter(Q=>Q.ativo&&(Q.re.toLowerCase().includes(O)||Q.nome.toLowerCase().includes(O)||Q.pelotao.toLowerCase().includes(O)))},[t,E]),L=(O=null)=>{if(O){v({...O}),j({...O});const Q=b.get(O.policialId||0);Q&&I(`${Q.postoGrad} ${Q.nome} (${Q.re})`)}else v({policialId:void 0,anoReferencia:new Date().getFullYear(),dataInicio:"",dataFim:"",duracaoDias:void 0,status:be.AGENDADA,observacao:""}),j(null),m([]),I("");p(!0)},U=async()=>{if(!(!u||!l))try{if(!u.policialId||!u.dataInicio||!u.dataFim||!u.duracaoDias)throw new Error("Policial, data de incio e durao so obrigatrios.");if(new Date(u.dataInicio)>=new Date(u.dataFim))throw new Error("A data de fim deve ser posterior  data de incio.");const O=new Date(u.dataInicio+"T12:00:00"),Q=new Date(u.dataFim+"T12:00:00"),he=o.find(nt=>{if(nt.policialld!==u.policialId||nt.status!==J.ATIVA)return!1;const Gt=new Date(nt.data+"T12:00:00");return Gt>=O&&Gt<=Q});if(he)throw new Error(`Conflito: O policial j possui uma folga ativa em ${new Date(he.data+"T12:00:00").toLocaleDateString("pt-BR")}.`);u.id?(await s(u.id,u,l),g({message:"Frias atualizadas com sucesso!",type:"success"})):(await n(u,l),g({message:"Frias agendadas com sucesso!",type:"success"})),p(!1)}catch(O){g({message:O.message,type:"error"})}},Y=async O=>{!l||!window.confirm(`Tem certeza que deseja cancelar as frias de ${O.nome}?`)||(await s(O.id,{status:be.CANCELADA},l),g({message:"Frias canceladas.",type:"success"}))},Z=O=>{$(O),z(""),k(!0)},te=async()=>{if(!w||!l||!M.trim()){g({message:"O motivo  obrigatrio.",type:"error"});return}const O=`[SOLICITAO - ${new Date().toLocaleString("pt-BR")} por ${l.nome}]: ${M}
---
${w.observacao||""}`;await s(w.id,{status:be.SOLICITANDO_ALTERACAO,observacao:O},l),g({message:"Solicitao enviada!",type:"success"}),k(!1)},xe=()=>{y&&(v(O=>({...O,dataInicio:y.dataInicio,dataFim:y.dataFim,duracaoDias:y.duracaoDias})),g({message:"Datas restauradas.",type:"success"}))},oe=()=>{const O=e.map(Se=>({...Se,...b.get(Se.policialId)})).filter(Se=>{const Lo=new Date(Se.dataInicio+"T12:00:00"),To=new Date(Se.dataFim+"T12:00:00"),fn=new Date(N+"-01T12:00:00"),Oe=new Date(fn.getFullYear(),fn.getMonth()+1,0,12,0,0);return Lo<=Oe&&To>=fn&&(!c.pelotao||Se.pelotao===c.pelotao)});if(O.length===0){g({message:"Nenhum dado para o ms selecionado.",type:"error"});return}const Q=`Relatrio de Frias - ${new Date(N+"-02").toLocaleString("pt-BR",{month:"long",year:"numeric"})} - Peloto: ${c.pelotao||"Todos"}`,he=["Policial","RE","Peloto","Posto/Grad","Incio","Fim","Durao","Ano Ref."],nt=O.map(Se=>[Se.nome,Se.re,Se.pelotao,Se.postoGrad,new Date(Se.dataInicio+"T12:00").toLocaleDateString("pt-BR"),new Date(Se.dataFim+"T12:00").toLocaleDateString("pt-BR"),Se.duracaoDias,Se.anoReferencia]),Gt=XLSX.utils.aoa_to_sheet([[Q],[],he,...nt]);Gt["!merges"]=[{s:{r:0,c:0},e:{r:0,c:he.length-1}}],XLSX.writeFile(XLSX.utils.book_new(),"relatorio_ferias.xlsx",{bookSST:!0})},tt=f.useMemo(()=>Array.from(new Set(e.map(O=>O.anoReferencia))).sort((O,Q)=>Q-O),[e]);return r.jsxs("div",{className:"container mx-auto",children:[h&&r.jsx(Fg,{message:h.message,type:h.type}),r.jsxs("div",{className:"flex justify-between items-center mb-6 flex-wrap gap-4",children:[r.jsx("h1",{className:"text-3xl font-bold text-pm-gray-800",children:"Controle de Frias"}),i==="ADMIN"&&r.jsxs("button",{onClick:()=>L(),className:"bg-pm-blue hover:bg-pm-blue-dark text-white font-bold py-2 px-4 rounded-md flex items-center shadow-sm",children:[r.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:"mr-2",children:[r.jsx("line",{x1:"12",y1:"5",x2:"12",y2:"19"}),r.jsx("line",{x1:"5",y1:"12",x2:"19",y2:"12"})]}),"Agendar Frias"]})]}),r.jsx("div",{className:"bg-white p-4 rounded-lg shadow-md mb-6",children:r.jsxs("div",{className:`grid grid-cols-1 ${i==="ADMIN"?"md:grid-cols-3":"md:grid-cols-2"} gap-4`,children:[r.jsxs("select",{name:"ano",value:c.ano,onChange:G,className:"w-full px-3 py-2 border rounded-md",children:[r.jsx("option",{value:"",children:"Todos Anos"}),tt.map(O=>r.jsx("option",{value:O,children:O},O))]}),i==="ADMIN"&&r.jsxs("select",{name:"pelotao",value:c.pelotao,onChange:G,className:"w-full px-3 py-2 border rounded-md",children:[r.jsx("option",{value:"",children:"Todos os Grupos"}),R.map(O=>r.jsx("option",{value:O.nome,children:O.nome},O.id))]}),r.jsxs("select",{name:"status",value:c.status,onChange:G,className:"w-full px-3 py-2 border rounded-md",children:[r.jsx("option",{value:"",children:"Todos Status"}),Object.entries(ha).map(([O,Q])=>r.jsx("option",{value:O,children:Q},O))]})]})}),r.jsxs("div",{className:"bg-white rounded-lg shadow-md overflow-x-auto",children:[r.jsxs("table",{className:"w-full text-sm text-left text-pm-gray-600",children:[r.jsx("thead",{className:"text-xs uppercase bg-pm-gray-50",children:r.jsxs("tr",{children:[r.jsx("th",{className:"px-6 py-3",children:"Policial"}),r.jsx("th",{className:"px-6 py-3",children:"Perodo"}),r.jsx("th",{className:"px-6 py-3",children:"Ano Ref."}),r.jsx("th",{className:"px-6 py-3",children:"Status"}),r.jsx("th",{className:"px-6 py-3 text-right",children:"Aes"})]})}),r.jsx("tbody",{children:C.map(O=>r.jsxs("tr",{className:"bg-white border-b hover:bg-pm-gray-50",children:[r.jsxs("td",{className:"px-6 py-4 font-medium",children:[O.nome,r.jsx("br",{}),r.jsxs("span",{className:"text-xs text-pm-gray-500",children:["RE: ",O.re," - ",O.pelotao]})]}),r.jsxs("td",{className:"px-6 py-4",children:[new Date(O.dataInicio+"T12:00").toLocaleDateString()," a ",new Date(O.dataFim+"T12:00").toLocaleDateString(),r.jsx("br",{}),r.jsxs("span",{className:"text-xs text-pm-gray-500",children:["(",O.duracaoDias," dias)"]})]}),r.jsx("td",{className:"px-6 py-4",children:O.anoReferencia}),r.jsx("td",{className:"px-6 py-4",children:r.jsx("span",{className:`px-2 py-1 text-xs font-medium rounded-full ${mx[O.status]}`,children:ha[O.status]})}),r.jsxs("td",{className:"px-6 py-4 text-right space-x-2 whitespace-nowrap",children:[i==="ADMIN"&&O.status===be.AGENDADA&&r.jsxs(r.Fragment,{children:[r.jsx("button",{onClick:()=>L(O),className:"font-medium text-pm-blue hover:underline",children:"Editar"}),r.jsx("button",{onClick:()=>Y(O),className:"font-medium text-red-600 hover:underline",children:"Cancelar"})]}),i==="ADMIN"&&O.status===be.SOLICITANDO_ALTERACAO&&r.jsx("button",{onClick:()=>L(O),className:"font-medium text-pm-blue hover:underline animate-pulse",children:"Revisar"}),((l==null?void 0:l.policialId)===O.policialId||i==="SARGENTO"&&(l==null?void 0:l.pelotao)===O.pelotao)&&O.status===be.AGENDADA&&r.jsx("button",{onClick:()=>Z(O),className:"font-medium text-yellow-600 hover:underline",children:"Solicitar Alterao"})]})]},O.id))})]}),C.length===0&&r.jsx("p",{className:"text-center p-4",children:"Nenhum registro encontrado."})]}),i==="ADMIN"&&r.jsxs("div",{className:"mt-8",children:[r.jsx("h2",{className:"text-xl font-semibold mb-4",children:"Relatrio Mensal"}),r.jsx("div",{className:"bg-white p-6 rounded-lg shadow-md",children:r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 items-end",children:[r.jsxs("div",{children:[r.jsx("label",{htmlFor:"reportMonth",className:"block text-sm",children:"Ms"}),r.jsx("input",{type:"month",id:"reportMonth",value:N,onChange:O=>D(O.target.value),className:"mt-1 w-full border rounded-md p-2"})]}),r.jsx("div",{className:"md:col-span-2",children:r.jsx("button",{onClick:oe,className:"bg-green-600 hover:bg-green-700 text-white font-bold py-2 px-4 rounded-md w-full md:w-auto",children:"Gerar Relatrio"})})]})})]}),r.jsx(Qe,{isOpen:x,onClose:()=>p(!1),title:u!=null&&u.id?"Editar Frias":"Agendar Frias",children:u&&r.jsxs("form",{onSubmit:O=>{O.preventDefault(),U()},className:"space-y-4",children:[r.jsxs("div",{className:"relative",ref:T,children:[r.jsx("label",{className:"block text-sm",children:"Policial"}),r.jsx("input",{type:"text",placeholder:"Buscar...",value:E,onChange:O=>{I(O.target.value),u!=null&&u.policialId&&v(Q=>({...Q,policialId:void 0})),A(!0)},onFocus:()=>{u.id||A(!0)},className:"mt-1 w-full border rounded-md p-2",disabled:!!u.id,autoComplete:"off"}),_&&!u.id&&r.jsx("ul",{className:"absolute z-10 w-full bg-white border mt-1 max-h-60 overflow-y-auto shadow-lg",children:X.length>0?X.map(O=>r.jsxs("li",{className:"px-3 py-2 cursor-pointer hover:bg-pm-blue-light hover:text-white",onClick:()=>{v(Q=>({...Q,policialId:O.id})),I(`${O.postoGrad} ${O.nome} (${O.re})`),A(!1)},children:[O.postoGrad," ",O.nome]},O.id)):r.jsx("li",{className:"px-3 py-2 italic",children:"Nenhum policial."})})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm",children:"Ano Ref."}),r.jsx("input",{type:"number",value:u.anoReferencia,onChange:O=>v({...u,anoReferencia:Number(O.target.value)}),className:"mt-1 w-full border rounded-md p-2",required:!0})]}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm",children:"Incio"}),r.jsx("input",{type:"date",value:u.dataInicio||"",onChange:O=>v({...u,dataInicio:O.target.value}),className:`mt-1 w-full border rounded-md p-2 ${u.id?"bg-yellow-50":""}`,required:!0})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm",children:"Durao"}),r.jsxs("select",{value:u.duracaoDias||"",onChange:O=>v({...u,duracaoDias:Number(O.target.value)}),className:`mt-1 w-full border rounded-md p-2 ${u.id?"bg-yellow-50":""}`,required:!0,disabled:!!u.id||S.length===0&&!u.id,children:[r.jsx("option",{value:"",disabled:!0,children:S.length===0&&!u.id?"Sem saldo":"Selecione..."}),u.id?r.jsxs("option",{value:u.duracaoDias,children:[u.duracaoDias," dias"]}):S.map(O=>r.jsxs("option",{value:O,children:[O," dias"]},O))]})]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm",children:"Fim (Calculada)"}),r.jsx("input",{type:"date",value:u.dataFim||"",readOnly:!0,className:`mt-1 w-full border rounded-md p-2 bg-pm-gray-100 cursor-not-allowed ${u.id?"bg-yellow-50":""}`})]}),u.id&&r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm",children:"Status"}),r.jsx("select",{value:u.status||"",onChange:O=>v({...u,status:O.target.value}),className:"mt-1 w-full border rounded-md p-2",children:Object.entries(ha).map(([O,Q])=>r.jsx("option",{value:O,children:Q},O))})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm",children:"Observao"}),r.jsx("textarea",{value:u.observacao||"",onChange:O=>v({...u,observacao:O.target.value}),rows:3,className:"mt-1 w-full border rounded-md p-2"})]}),r.jsxs("div",{className:"flex items-center justify-end pt-4 space-x-2",children:[u.id&&r.jsx("button",{type:"button",onClick:xe,className:"bg-gray-500 hover:bg-gray-600 text-white font-bold py-2 px-4 rounded-md mr-auto",children:"Restaurar Datas"}),r.jsx("button",{type:"button",onClick:()=>p(!1),className:"bg-pm-gray-200 hover:bg-pm-gray-300 font-bold py-2 px-4 rounded-md",children:"Cancelar"}),r.jsx("button",{type:"submit",className:"bg-pm-blue hover:bg-pm-blue-dark text-white font-bold py-2 px-4 rounded-md",children:"Salvar"})]})]})}),r.jsx(Qe,{isOpen:V,onClose:()=>k(!1),title:"Solicitar Alterao de Frias",children:w&&r.jsxs("form",{onSubmit:O=>{O.preventDefault(),te()},className:"space-y-4",children:[r.jsxs("p",{children:["Solicitando alterao para as frias de ",r.jsx("strong",{children:w.nome})," (incio em ",new Date(w.dataInicio+"T12:00:00").toLocaleDateString(),")."]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm",children:"Motivo / Sugesto"}),r.jsx("textarea",{value:M,onChange:O=>z(O.target.value),rows:4,className:"mt-1 w-full border rounded-md p-2",required:!0,placeholder:"Ex: Adiar o incio para a segunda quinzena..."})]}),r.jsxs("div",{className:"flex justify-end pt-4 space-x-2",children:[r.jsx("button",{type:"button",onClick:()=>k(!1),className:"bg-pm-gray-200 hover:bg-pm-gray-300 font-bold py-2 px-4 rounded-md",children:"Cancelar"}),r.jsx("button",{type:"submit",className:"bg-yellow-500 hover:bg-yellow-600 text-white font-bold py-2 px-4 rounded-md",children:"Enviar Solicitao"})]})]})})]})},zg=({message:e,type:t="success"})=>{const n=t==="success"?"bg-green-600":"bg-red-600";return r.jsxs("div",{className:`fixed top-20 right-8 text-white py-3 px-5 rounded-lg shadow-xl z-50 flex items-center ${n}`,role:"alert","aria-live":"assertive",children:[r.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:"mr-2",children:[r.jsx("circle",{cx:"12",cy:"12",r:"10"}),r.jsx("path",{d:"M12 16v-4"}),r.jsx("path",{d:"M12 8h.01"})]}),r.jsx("span",{children:e})]})},Gg={[ne.CURSO]:r.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:"h-6 w-6 text-indigo-600",children:r.jsx("path",{d:"M4 19.5A2.5 2.5 0 0 1 6.5 17H20v2H6.5A2.5 2.5 0 0 1 4 19.5v-15A2.5 2.5 0 0 1 6.5 2H20v15H6.5A2.5 2.5 0 0 1 4 4.5z"})}),[ne.EAP]:r.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:"h-6 w-6 text-purple-600",children:[r.jsx("circle",{cx:"12",cy:"12",r:"10"}),r.jsx("circle",{cx:"12",cy:"12",r:"6"}),r.jsx("circle",{cx:"12",cy:"12",r:"2"})]}),[ne.OPERACAO]:r.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:"h-6 w-6 text-red-600",children:r.jsx("path",{d:"M12 22s8-4 8-10V5l-8-3-8 3v7c0 6 8 10 8 10z"})}),[ne.LICENCA_PREMIO]:r.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:"h-6 w-6 text-teal-600",children:[r.jsx("circle",{cx:"12",cy:"8",r:"7"}),r.jsx("polyline",{points:"8.21 13.89 7 23 12 17 17 23 15.79 13.88"})]}),[ne.OUTRO]:r.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:"h-6 w-6 text-gray-600",children:[r.jsx("circle",{cx:"12",cy:"12",r:"1"}),r.jsx("circle",{cx:"19",cy:"12",r:"1"}),r.jsx("circle",{cx:"5",cy:"12",r:"1"})]})},Bg=()=>{const{agendaEventos:e,policiais:t,addAgendaEvento:n,updateAgendaEvento:s,deleteAgendaEvento:o,ferias:a}=me(),{currentUser:l}=ie(),[i,c]=f.useState(!1),[d,x]=f.useState(null),[p,u]=f.useState(new Set),[v,y]=f.useState(null),[j,S]=f.useState(""),[m,h]=f.useState(!1),[g,N]=f.useState(null),D=f.useMemo(()=>new Map(t.map(w=>[w.id,w])),[t]),E=Px(),I=f.useMemo(()=>new Set(e.filter(w=>w.tipo===ne.EAP).flatMap(w=>w.policiaisIds)),[e]),_=f.useMemo(()=>new Set(e.filter(w=>w.tipo===ne.CURSO).flatMap(w=>w.policiaisIds)),[e]),A=f.useMemo(()=>{let w=t.filter($=>$.ativo);if(j.trim()){const $=j.toLowerCase();w=w.filter(b=>b.re.toLowerCase().includes($)||b.nome.toLowerCase().includes($)||b.pelotao.toLowerCase().includes($))}if(i&&d&&(d.tipo===ne.EAP||d.tipo===ne.CURSO)){const $=d.tipo===ne.EAP?I:_,b=new Set(d.policiaisIds||[]);w=w.filter(C=>!$.has(C.id)||b.has(C.id))}return w.sort(($,b)=>$.nome.localeCompare(b.nome))},[t,j,i,d,I,_]);f.useEffect(()=>{if(v){const w=setTimeout(()=>y(null),4e3);return()=>clearTimeout(w)}},[v]);const T=w=>{N(w),h(!0)},V=(w=null)=>{w?(x({...w}),u(new Set(w.policiaisIds||[]))):(x({tipo:ne.OPERACAO,titulo:"",data:new Date().toISOString().split("T")[0],horaInicio:"08:00",horaFim:"17:00",local:"",observacoes:""}),u(new Set)),S(""),c(!0)},k=w=>{u($=>{const b=new Set($);return b.has(w)?b.delete(w):b.add(w),b})},M=async w=>{!l||!window.confirm(`Excluir evento "${w.titulo}"?`)||(await o(w.id,l),y({message:"Evento excludo!",type:"success"}))},z=async()=>{var w,$;if(!(!d||!l))try{if(!((w=d.titulo)!=null&&w.trim()))throw new Error("Ttulo  obrigatrio.");if(!(($=d.local)!=null&&$.trim()))throw new Error("Local  obrigatrio.");if(p.size===0)throw new Error("Selecione ao menos um policial.");const b={...d,policiaisIds:Array.from(p)},C=new Date(b.data+"T12:00:00");for(const R of p){const G=D.get(R);if(!G)continue;if(a.find(U=>U.policialId===R&&U.status===be.AGENDADA&&C>=new Date(U.dataInicio+"T12:00")&&C<=new Date(U.dataFim+"T12:00")))throw new Error(`Conflito: ${G.postoGrad} ${G.nome} est de frias.`);if(e.filter(U=>U.data===b.data&&U.id!==b.id&&U.policiaisIds.includes(R)).length>0)throw new Error(`Conflito: ${G.postoGrad} ${G.nome} j est em outro evento no dia.`)}b.id?(await s(String(b.id),b,l),y({message:"Evento atualizado!",type:"success"})):(await n(b,l),y({message:"Evento criado!",type:"success"})),c(!1)}catch(b){y({message:b.message,type:"error"})}};return r.jsxs("div",{className:"container mx-auto",children:[v&&r.jsx(zg,{message:v.message,type:v.type}),r.jsxs("div",{className:"flex flex-wrap gap-4 justify-between items-center mb-6",children:[r.jsx("h1",{className:"text-3xl font-bold text-pm-gray-800",children:"Agenda"}),r.jsxs("button",{onClick:()=>V(),className:"bg-pm-blue hover:bg-pm-blue-dark text-white font-bold py-2 px-4 rounded-md flex items-center",children:[r.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 24",fill:"none",stroke:"currentColor",strokeWidth:"2",className:"mr-2",children:[r.jsx("line",{x1:"12",y1:"5",x2:"12",y2:"19"}),r.jsx("line",{x1:"5",y1:"12",x2:"19",y2:"12"})]}),"Adicionar Evento"]})]}),r.jsxs("div",{className:"bg-white rounded-lg shadow-md overflow-x-auto",children:[r.jsxs("table",{className:"w-full text-sm text-left",children:[r.jsx("thead",{className:"text-xs uppercase bg-pm-gray-50",children:r.jsxs("tr",{children:[r.jsx("th",{className:"px-6 py-3",children:"Evento"}),r.jsx("th",{className:"px-6 py-3",children:"Data/Hora"}),r.jsx("th",{className:"px-6 py-3",children:"Efetivo"}),r.jsx("th",{className:"px-6 py-3 text-right",children:"Aes"})]})}),r.jsx("tbody",{children:E.map(w=>r.jsxs("tr",{className:"bg-white border-b hover:bg-pm-gray-50 cursor-pointer",onClick:()=>T(w),children:[r.jsx("td",{className:"px-6 py-4 align-top",children:r.jsxs("div",{className:"flex items-start space-x-3",children:[r.jsx("div",{children:Gg[w.tipo]}),r.jsxs("div",{children:[r.jsx("p",{className:"font-semibold text-base",children:w.titulo}),r.jsxs("div",{className:"flex items-center gap-2 mt-1",children:[r.jsx("span",{className:`px-2 py-1 text-xs rounded-full ${Tr[w.tipo]}`,children:Sn[w.tipo]}),r.jsxs("span",{className:"text-xs text-pm-gray-500",children:["Local: ",w.local]})]}),w.observacoes&&r.jsxs("div",{className:"mt-2 text-xs bg-pm-gray-50 p-2 rounded border",children:[r.jsx("p",{className:"font-semibold",children:"Obs:"}),r.jsx("p",{className:"whitespace-pre-wrap",children:w.observacoes})]})]})]})}),r.jsxs("td",{className:"px-6 py-4 align-top",children:[new Date(w.data+"T12:00").toLocaleDateString(),r.jsx("br",{}),r.jsxs("span",{className:"text-xs",children:[w.horaInicio," - ",w.horaFim]})]}),r.jsx("td",{className:"px-6 py-4 align-top",children:r.jsx("ul",{className:"space-y-1",children:w.policiaisIds.map($=>{const b=D.get($);return b?r.jsxs("li",{className:"text-xs whitespace-nowrap",children:[r.jsxs("span",{className:"font-semibold",children:[b.postoGrad," ",b.nome]})," (",b.re,")"]},$):null})})}),r.jsxs("td",{className:"px-6 py-4 text-right space-x-2 align-top",onClick:$=>$.stopPropagation(),children:[r.jsx("button",{onClick:()=>V(w),className:"font-medium text-pm-blue hover:underline",children:"Editar"}),r.jsx("button",{onClick:()=>M(w),className:"font-medium text-red-600 hover:underline",children:"Excluir"})]})]},w.id))})]}),E.length===0&&r.jsx("p",{className:"text-center p-4",children:"Nenhum evento agendado."})]}),r.jsx(Qe,{isOpen:i,onClose:()=>c(!1),title:d!=null&&d.id?"Editar Evento":"Adicionar Evento",children:d&&r.jsxs("form",{onSubmit:w=>{w.preventDefault(),z()},className:"space-y-6",children:[r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm",children:"Tipo"}),r.jsx("select",{name:"tipo",value:d.tipo,onChange:w=>x({...d,tipo:w.target.value}),className:"mt-1 w-full border rounded-md p-2",required:!0,children:Object.entries(Sn).map(([w,$])=>r.jsx("option",{value:w,children:$},w))})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm",children:"Ttulo"}),r.jsx("input",{type:"text",value:d.titulo||"",onChange:w=>x({...d,titulo:w.target.value}),className:"mt-1 w-full border rounded-md p-2",required:!0})]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm mb-1",children:"Data/Hora"}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 p-4 border rounded-md bg-pm-gray-50",children:[r.jsxs("div",{children:[r.jsx("label",{className:"text-xs",children:"Data"}),r.jsx("input",{type:"date",value:d.data||"",onChange:w=>x({...d,data:w.target.value}),className:"mt-1 w-full border rounded-md p-2",required:!0})]}),r.jsxs("div",{children:[r.jsx("label",{className:"text-xs",children:"Incio"}),r.jsx("input",{type:"time",value:d.horaInicio||"",onChange:w=>x({...d,horaInicio:w.target.value}),className:"mt-1 w-full border rounded-md p-2",required:!0})]}),r.jsxs("div",{children:[r.jsx("label",{className:"text-xs",children:"Fim"}),r.jsx("input",{type:"time",value:d.horaFim||"",onChange:w=>x({...d,horaFim:w.target.value}),className:"mt-1 w-full border rounded-md p-2",required:!0})]})]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm",children:"Local"}),r.jsx("input",{type:"text",value:d.local||"",onChange:w=>x({...d,local:w.target.value}),className:"mt-1 w-full border rounded-md p-2",required:!0})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm",children:"Efetivo"}),r.jsxs("div",{className:"mt-1 p-3 border rounded-md space-y-3 bg-pm-gray-50",children:[r.jsx("input",{type:"text",placeholder:"Buscar...",value:j,onChange:w=>S(w.target.value),className:"w-full border rounded-md p-2"}),(d.tipo===ne.EAP||d.tipo===ne.CURSO)&&r.jsx("div",{className:"text-xs text-blue-700 bg-blue-100 p-2 rounded-md border",children:"Apenas policiais que ainda no participaram so listados."}),r.jsx("div",{className:"max-h-48 overflow-y-auto border rounded-md p-2 space-y-1 bg-white",children:A.length>0?A.map(w=>r.jsxs("label",{className:"flex items-center space-x-3 p-2 rounded hover:bg-pm-gray-100 cursor-pointer",children:[r.jsx("input",{type:"checkbox",checked:p.has(w.id),onChange:()=>k(w.id),className:"h-5 w-5"}),r.jsxs("span",{className:"text-base",children:[w.postoGrad," ",w.nome," (",w.re,")"]})]},w.id)):r.jsx("p",{className:"text-center text-sm p-4",children:"Nenhum policial."})}),p.size>0&&r.jsxs("div",{children:[r.jsxs("h4",{className:"text-xs font-semibold uppercase mt-2",children:["Selecionados (",p.size,")"]}),r.jsx("div",{className:"flex flex-wrap gap-2 p-2 mt-1 rounded-md bg-white border",children:Array.from(p).map(w=>{const $=D.get(w);return $?r.jsxs("span",{className:"bg-pm-blue text-white text-sm font-medium px-3 py-1 rounded-full flex items-center shadow",children:[$.nome,r.jsx("button",{type:"button",onClick:()=>k(w),className:"ml-2 font-bold opacity-75 hover:opacity-100",children:""})]},w):null})})]})]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm",children:"Observaes"}),r.jsx("textarea",{value:d.observacoes||"",onChange:w=>x({...d,observacoes:w.target.value}),rows:3,className:"mt-1 w-full border rounded-md p-2"})]}),r.jsxs("div",{className:"flex justify-end pt-4 space-x-2",children:[r.jsx("button",{type:"button",onClick:()=>c(!1),className:"bg-pm-gray-200 hover:bg-pm-gray-300 font-bold py-2 px-4 rounded-md",children:"Cancelar"}),r.jsx("button",{type:"submit",className:"bg-pm-blue hover:bg-pm-blue-dark text-white font-bold py-2 px-4 rounded-md",children:"Salvar"})]})]})}),r.jsx(Qe,{isOpen:m,onClose:()=>h(!1),title:"Detalhes do Evento",children:g&&r.jsxs("div",{className:"space-y-4 text-sm",children:[r.jsxs("div",{children:[r.jsx("span",{className:`px-2 py-1 text-xs rounded-full float-right ${Tr[g.tipo]}`,children:Sn[g.tipo]}),r.jsx("h2",{className:"text-xl font-bold",children:g.titulo}),r.jsx("p",{className:"text-pm-gray-500",children:g.local})]}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 p-3 bg-pm-gray-50 rounded-md border",children:[r.jsxs("div",{children:[r.jsx("p",{className:"font-semibold",children:"Data:"}),r.jsx("p",{children:new Date(g.data+"T12:00").toLocaleDateString()})]}),r.jsxs("div",{children:[r.jsx("p",{className:"font-semibold",children:"Horrio:"}),r.jsxs("p",{children:[g.horaInicio," s ",g.horaFim]})]})]}),g.observacoes&&r.jsxs("div",{children:[r.jsx("p",{className:"font-semibold",children:"Observaes:"}),r.jsx("p",{className:"p-3 bg-pm-gray-50 rounded-md mt-1 whitespace-pre-wrap border",children:g.observacoes})]}),r.jsxs("div",{children:[r.jsxs("h3",{className:"font-semibold mb-2",children:["Efetivo (",g.policiaisIds.length,")"]}),r.jsx("ul",{className:"space-y-2 max-h-60 overflow-y-auto p-2 bg-pm-gray-50 rounded-md border",children:g.policiaisIds.map(w=>{const $=D.get(w);return $?r.jsxs("li",{className:"flex justify-between items-center bg-white p-2 rounded-md shadow-sm",children:[r.jsxs("span",{children:[$.postoGrad," ",$.nome]}),r.jsx("span",{className:"font-mono text-xs bg-pm-gray-200 px-2 py-0.5 rounded-full",children:$.re})]},w):null})})]}),r.jsx("div",{className:"flex justify-end pt-4",children:r.jsx("button",{type:"button",onClick:()=>h(!1),className:"bg-pm-gray-200 hover:bg-pm-gray-300 font-bold py-2 px-4 rounded-md",children:"Fechar"})})]})})]})},$c=({className:e})=>r.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:e,children:[r.jsx("path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2"}),r.jsx("circle",{cx:"9",cy:"7",r:"4"}),r.jsx("polyline",{points:"16 11 18 13 22 9"})]}),Vg=()=>{const{currentUser:e,role:t}=ie(),{grupos:n}=me(),[s,o]=f.useState(ne.EAP),[a,l]=f.useState(t==="SARGENTO"&&(e==null?void 0:e.pelotao)||""),{participantes:i,pendentes:c}=Lx({tipoFiltro:s,pelotaoFiltro:a}),d=f.useMemo(()=>[...n].sort((p,u)=>p.nome.localeCompare(u.nome)),[n]),x=()=>{const p=`Relatrio de ${s} - ${a||"Todos os Pelotes"}`,u={top:{style:"thin"},bottom:{style:"thin"},left:{style:"thin"},right:{style:"thin"}},v={font:{sz:16,bold:!0,color:{rgb:"FFFFFF"}},fill:{fgColor:{rgb:"1D4ED8"}},alignment:{horizontal:"center",vertical:"center"}},y={font:{sz:12,bold:!0},fill:{fgColor:{rgb:"E5E7EB"}},alignment:{horizontal:"center"}},j={font:{bold:!0},fill:{fgColor:{rgb:"F3F4F6"}},border:u},S={border:u},m=["Policial","RE","Posto/Grad","Peloto","Data Participao","Ttulo do Evento"],h=i.map(z=>[z.policial.nome,z.policial.re,z.policial.postoGrad,z.policial.pelotao,new Date(z.evento.data+"T12:00:00").toLocaleDateString("pt-BR"),z.evento.titulo]),g=["Policial","RE","Posto/Grad","Peloto"],N=c.map(z=>[z.nome,z.re,z.postoGrad,z.pelotao]),D=[[p],[],["Participantes"],m,...h,[],["Pendentes"],g,...N],E=XLSX.utils.aoa_to_sheet(D),I=(z,w,$)=>{const b=XLSX.utils.encode_cell({r:z,c:w});E[b]||(E[b]={v:""}),E[b].s=$};E["!rows"]=[{hpt:25}],E["!merges"]=[],I(0,0,v),E["!merges"].push({s:{r:0,c:0},e:{r:0,c:m.length-1}});const _=2;I(_,0,y),E["!merges"].push({s:{r:_,c:0},e:{r:_,c:m.length-1}});const A=_+1;for(let z=0;z<m.length;z++)I(A,z,j);for(let z=0;z<h.length;z++)for(let w=0;w<m.length;w++)I(A+1+z,w,S);const T=A+1+h.length+1;I(T,0,y),E["!merges"].push({s:{r:T,c:0},e:{r:T,c:g.length-1}});const V=T+1;for(let z=0;z<g.length;z++)I(V,z,j);for(let z=0;z<N.length;z++)for(let w=0;w<g.length;w++)I(V+1+z,w,S);const k=m.map((z,w)=>{let $=0;return D.forEach(b=>{if(b[w]){const C=String(b[w]).length;C>$&&($=C)}}),{wch:$+2}});E["!cols"]=k;const M=XLSX.utils.book_new();XLSX.utils.book_append_sheet(M,E,`Relatorio_${s}`),XLSX.writeFile(M,`Relatorio_${s}_${new Date().toISOString().split("T")[0]}.xlsx`)};return r.jsxs("div",{className:"container mx-auto",children:[r.jsxs("div",{className:"flex justify-between items-center mb-6 flex-wrap gap-2",children:[r.jsx("h1",{className:"text-3xl font-bold text-pm-gray-800",children:"Relatrio de EAP e Cursos"}),r.jsx("button",{onClick:x,className:"bg-green-600 hover:bg-green-700 text-white font-bold py-2 px-4 rounded-md flex items-center",children:"Exportar Excel"})]}),r.jsx("div",{className:"bg-white p-4 rounded-lg shadow-md mb-6",children:r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium",children:"Tipo de Evento"}),r.jsxs("select",{value:s,onChange:p=>o(p.target.value),className:"mt-1 w-full border border-gray-300 rounded-md p-2",children:[r.jsx("option",{value:ne.EAP,children:"EAP"}),r.jsx("option",{value:ne.CURSO,children:"Curso"})]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium",children:"Grupo/Peloto"}),r.jsxs("select",{value:a,onChange:p=>l(p.target.value),className:"mt-1 w-full border border-gray-300 rounded-md p-2",disabled:t==="SARGENTO",children:[r.jsx("option",{value:"",children:"Todos os Grupos"}),d.map(p=>r.jsx("option",{value:p.nome,children:p.nome},p.id))]})]})]})}),r.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8",children:[r.jsxs("div",{children:[r.jsxs("h2",{className:"text-xl font-semibold text-pm-gray-800 mb-4 flex items-center",children:[r.jsx($c,{className:"h-6 w-6 mr-2 text-green-600"}),"Policiais que Participaram (",i.length,")"]}),r.jsx("div",{className:"bg-white rounded-lg shadow-md overflow-hidden",children:r.jsxs("div",{className:"overflow-x-auto max-h-[60vh]",children:[r.jsxs("table",{className:"w-full text-sm text-left text-pm-gray-600",children:[r.jsx("thead",{className:"text-xs text-pm-gray-700 uppercase bg-pm-gray-50 sticky top-0",children:r.jsxs("tr",{children:[r.jsx("th",{className:"px-6 py-3",children:"Policial"}),r.jsx("th",{className:"px-6 py-3",children:"Data"})]})}),r.jsx("tbody",{className:"divide-y",children:i.map(({policial:p,evento:u})=>r.jsxs("tr",{children:[r.jsxs("td",{className:"px-6 py-4 font-medium",children:[p.postoGrad," ",p.nome,r.jsx("br",{}),r.jsxs("span",{className:"text-xs text-pm-gray-500",children:[p.re," - ",p.pelotao]})]}),r.jsxs("td",{className:"px-6 py-4",children:[new Date(u.data+"T12:00:00").toLocaleDateString(),r.jsx("br",{}),r.jsx("span",{className:"text-xs text-pm-gray-500 truncate",title:u.titulo,children:u.titulo})]})]},p.id))})]}),i.length===0&&r.jsx("p",{className:"text-center p-4",children:"Nenhum participante encontrado."})]})})]}),r.jsxs("div",{children:[r.jsxs("h2",{className:"text-xl font-semibold text-pm-gray-800 mb-4 flex items-center",children:[r.jsx($c,{className:"h-6 w-6 mr-2 text-orange-500"}),"Policiais Pendentes (",c.length,")"]}),r.jsx("div",{className:"bg-white rounded-lg shadow-md overflow-hidden",children:r.jsxs("div",{className:"overflow-x-auto max-h-[60vh]",children:[r.jsxs("table",{className:"w-full text-sm text-left text-pm-gray-600",children:[r.jsx("thead",{className:"text-xs text-pm-gray-700 uppercase bg-pm-gray-50 sticky top-0",children:r.jsxs("tr",{children:[r.jsx("th",{className:"px-6 py-3",children:"Policial"}),r.jsx("th",{className:"px-6 py-3",children:"Peloto"})]})}),r.jsx("tbody",{className:"divide-y",children:c.map(p=>r.jsxs("tr",{children:[r.jsxs("td",{className:"px-6 py-4 font-medium",children:[p.postoGrad," ",p.nome,r.jsx("br",{}),r.jsx("span",{className:"text-xs text-pm-gray-500",children:p.re})]}),r.jsx("td",{className:"px-6 py-4",children:p.pelotao})]},p.id))})]}),c.length===0&&r.jsx("p",{className:"text-center p-4",children:"Nenhum policial pendente."})]})})]})]})]})},Ug=({message:e,type:t="success"})=>{const n=t==="success"?"bg-green-600":"bg-red-600";return r.jsxs("div",{className:`fixed top-20 right-8 text-white py-3 px-5 rounded-lg shadow-xl z-50 flex items-center ${n}`,role:"alert","aria-live":"assertive",children:[r.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:"mr-2",children:[r.jsx("circle",{cx:"12",cy:"12",r:"10"}),r.jsx("path",{d:"M12 16v-4"}),r.jsx("path",{d:"M12 8h.01"})]}),r.jsx("span",{children:e})]})},Wg=()=>{const{grupos:e,addGrupo:t,updateGrupo:n,deleteGrupo:s,policiais:o}=me(),{currentUser:a}=ie(),[l,i]=f.useState(!1),[c,d]=f.useState(null),[x,p]=f.useState(null),u=f.useMemo(()=>{const S=o.reduce((m,h)=>(m[h.pelotao]=(m[h.pelotao]||0)+1,m),{});return[...e].map(m=>({...m,count:S[m.nome]||0})).sort((m,h)=>m.nome.localeCompare(h.nome))},[e,o]);f.useEffect(()=>{if(x){const S=setTimeout(()=>p(null),3e3);return()=>clearTimeout(S)}},[x]);const v=(S=null)=>{d(S?{...S}:{nome:""}),i(!0)},y=async()=>{if(!(c!=null&&c.nome)||!a){p({message:"O nome do grupo  obrigatrio.",type:"error"});return}try{c.id?await n(c,a):await t(c.nome,a),p({message:"Grupo salvo com sucesso!",type:"success"}),i(!1)}catch(S){p({message:S.message||"Erro ao salvar grupo",type:"error"})}},j=async S=>{if(!(!a||!window.confirm("Tem certeza que deseja excluir este grupo?")))try{await s(S,a),p({message:"Grupo excludo com sucesso!",type:"success"})}catch(m){p({message:m.message||"Erro ao excluir grupo",type:"error"})}};return r.jsxs("div",{className:"container mx-auto",children:[x&&r.jsx(Ug,{message:x.message,type:x.type}),r.jsxs("div",{className:"flex justify-between items-center mb-6",children:[r.jsx("h1",{className:"text-3xl font-bold text-pm-gray-800",children:"Gerenciar Grupos"}),r.jsx("button",{onClick:()=>v(),className:"bg-pm-blue hover:bg-pm-blue-dark text-white font-bold py-2 px-4 rounded-md",children:"Adicionar Grupo"})]}),r.jsx("div",{className:"bg-white rounded-lg shadow-md overflow-x-auto",children:r.jsxs("table",{className:"w-full text-sm text-left text-pm-gray-600",children:[r.jsx("thead",{className:"text-xs text-pm-gray-700 uppercase bg-pm-gray-50",children:r.jsxs("tr",{children:[r.jsx("th",{scope:"col",className:"px-6 py-3",children:"Nome do Grupo"}),r.jsx("th",{scope:"col",className:"px-6 py-3",children:"Policiais no Grupo"}),r.jsx("th",{scope:"col",className:"px-6 py-3 text-right",children:"Aes"})]})}),r.jsx("tbody",{children:u.map(S=>r.jsxs("tr",{className:"bg-white border-b hover:bg-pm-gray-50",children:[r.jsx("td",{className:"px-6 py-4 font-medium text-pm-gray-900",children:S.nome}),r.jsx("td",{className:"px-6 py-4",children:S.count}),r.jsxs("td",{className:"px-6 py-4 text-right space-x-2 whitespace-nowrap",children:[r.jsx("button",{onClick:()=>v(S),className:"font-medium text-pm-blue hover:underline",children:"Editar"}),r.jsx("button",{onClick:()=>j(S.id),className:"font-medium text-red-600 hover:underline",children:"Excluir"})]})]},S.id))})]})}),r.jsx(Qe,{isOpen:l,onClose:()=>i(!1),title:c!=null&&c.id?"Editar Grupo":"Adicionar Grupo",children:c&&r.jsxs("form",{onSubmit:S=>{S.preventDefault(),y()},className:"space-y-4",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium",children:"Nome do Grupo"}),r.jsx("input",{type:"text",value:c.nome||"",onChange:S=>d({...c,nome:S.target.value}),className:"mt-1 w-full border border-gray-300 rounded-md p-2",required:!0})]}),r.jsx("div",{className:"flex justify-end pt-4",children:r.jsx("button",{type:"submit",className:"bg-pm-blue hover:bg-pm-blue-dark text-white font-bold py-2 px-4 rounded-md",children:"Salvar"})})]})})]})},Hg=({message:e,type:t="success"})=>{const n=t==="success"?"bg-green-600":"bg-red-600";return r.jsxs("div",{className:`fixed top-20 right-8 text-white py-3 px-5 rounded-lg shadow-xl z-50 flex items-center ${n}`,role:"alert","aria-live":"assertive",children:[r.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:"mr-2",children:[r.jsx("circle",{cx:"12",cy:"12",r:"10"}),r.jsx("path",{d:"M12 16v-4"}),r.jsx("path",{d:"M12 8h.01"})]}),r.jsx("span",{children:e})]})},Qg=({className:e})=>r.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:e,children:[r.jsx("path",{d:"M3 2v6h6"}),r.jsx("path",{d:"M21 12A9 9 0 0 0 6 5.3L3 8"}),r.jsx("path",{d:"M21 22v-6h-6"}),r.jsx("path",{d:"M3 12a9 9 0 0 0 15 6.7l3-2.7"})]}),Xg=({className:e})=>r.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:e,children:[r.jsx("polyline",{points:"6 9 6 2 18 2 18 9"}),r.jsx("path",{d:"M6 18H4a2 2 0 0 1-2-2v-5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2v5a2 2 0 0 1-2 2h-2"}),r.jsx("rect",{x:"6",y:"14",width:"12",height:"8"})]}),qg=({className:e})=>r.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:e,children:[r.jsx("line",{x1:"12",y1:"5",x2:"12",y2:"19"}),r.jsx("line",{x1:"5",y1:"12",x2:"19",y2:"12"})]}),Yg=()=>{const{protocoloDocs:e,addProtocoloDoc:t,adminResetProtocoloCounter:n}=me(),{currentUser:s,role:o}=ie(),[a,l]=f.useState(!1),[i,c]=f.useState({}),[d,x]=f.useState(null),[p,u]=f.useState({termo:"",tipo:"",dataInicio:"",dataFim:""}),[v,y]=f.useState(new Set),[j,S]=f.useState(!1),[m,h]=f.useState(null);f.useEffect(()=>{if(d){const k=setTimeout(()=>x(null),4e3);return()=>clearTimeout(k)}},[d]),f.useEffect(()=>{if(j&&m){const k=document.getElementById("details-qrcode");if(k){k.innerHTML="";const z=`${window.location.href.split("#")[0]}#/protocolo/view/${m.id}`;new QRCode(k,{text:z,width:128,height:128,colorDark:"#000000",colorLight:"#ffffff",correctLevel:QRCode.CorrectLevel.H})}}},[j,m]);const g=f.useMemo(()=>e.filter(k=>{const M=p.termo.toLowerCase(),z=!p.termo||k.numero.toLowerCase().includes(M)||k.assunto.toLowerCase().includes(M)||k.destino.toLowerCase().includes(M)||k.interessadoRE.toLowerCase().includes(M),w=!p.tipo||k.tipo===p.tipo,$=!p.dataInicio||k.dataEmissao>=p.dataInicio,b=!p.dataFim||k.dataEmissao<=p.dataFim;return z&&w&&$&&b}).sort((k,M)=>M.sequencial-k.sequencial).sort((k,M)=>M.ano-k.ano),[e,p]),N=k=>u(M=>({...M,[k.target.name]:k.target.value})),D=()=>{c({dataEmissao:new Date().toISOString().split("T")[0],tipo:ke.OFICIO,destino:"",assunto:"",docReferencia:"",interessadoRE:"",observacoes:"",vinculoId:null}),l(!0)},E=k=>{h(k),S(!0)},I=async()=>{if(s)try{if(!i.tipo||!i.assunto.trim()||!i.destino.trim())throw new Error("Tipo, Assunto e Destino so obrigatrios.");const k=await t({...i,elaboradoPorId:s.id,elaboradoPorNome:s.nome},s);x({message:`Documento protocolado com o nmero ${k.numero}!`,type:"success"}),l(!1)}catch(k){x({message:k.message,type:"error"})}},_=async()=>{if(!(!s||!window.confirm(`Tem certeza que deseja REINICIAR a contagem de documentos para o ano de ${new Date().getFullYear()}? Esta ao no pode ser desfeita.`)))try{await n(s),x({message:"Contador do ano reiniciado com sucesso!",type:"success"})}catch(k){x({message:k.message,type:"error"})}},A=k=>y(M=>{const z=new Set(M);return z.has(k)?z.delete(k):z.add(k),z}),T=k=>y(k.target.checked?new Set(g.map(M=>M.id)):new Set),V=()=>{const k=g.filter(b=>v.has(b.id)).sort((b,C)=>b.ano-C.ano||b.sequencial-C.sequencial);if(k.length===0){x({message:"Selecione ao menos um documento para gerar a guia.",type:"error"});return}const M=window.open("","_blank");if(!M){x({message:"No foi possvel abrir uma nova janela. Verifique seu bloqueador de pop-ups.",type:"error"});return}const z=k.map(b=>`
      <tr class="border-b break-inside-avoid">
        <td class="p-2 align-top font-mono">${b.numero}</td>
        <td class="p-2 align-top">${b.tipo}</td>
        <td class="p-2 align-top">${b.assunto}</td>
        <td class="p-2 align-top">
            <div class="flex justify-center items-center">
                <div id="qrcode-${b.id}"></div>
            </div>
        </td>
      </tr>
    `).join(""),w=`
      document.addEventListener('DOMContentLoaded', function() {
        try {
          const data = ${JSON.stringify(k)};
          const baseUrl = '${window.location.href.split("#")[0]}';
          
          data.forEach(doc => {
              const container = document.getElementById('qrcode-' + doc.id);
              if (container) {
                  const url = \`\${baseUrl}#/protocolo/view/\${doc.id}\`;
                  new QRCode(container, {
                      text: url,
                      width: 96,
                      height: 96,
                      colorDark : "#000000",
                      colorLight : "#ffffff",
                      correctLevel : QRCode.CorrectLevel.M
                  });
              }
          });

          document.getElementById('print-button').addEventListener('click', () => {
              window.print();
          });
        } catch (e) {
          console.error('Erro ao gerar QR Codes:', e);
          document.body.innerHTML = '<h1>Erro ao gerar a guia. Por favor, tente novamente.</h1><p>' + (e instanceof Error ? e.message : String(e)) + '</p>';
        }
      });
    `,$=`
      <!DOCTYPE html>
      <html lang="pt-BR">
        <head>
          <meta charset="UTF-8" />
          <meta name="viewport" content="width=device-width, initial-scale=1.0" />
          <title>Guia de Recebimento de Documentos</title>
          <script src="https://cdn.tailwindcss.com"><\/script>
          <script src="https://cdn.jsdelivr.net/npm/qrcodejs@1.0.0/qrcode.min.js"><\/script>
          <style>
            @media print {
              body { -webkit-print-color-adjust: exact; print-color-adjust: exact; }
              .no-print { display: none !important; }
              @page { size: A4; margin: 2cm; }
            }
          </style>
        </head>
        <body class="bg-gray-100 font-sans">
          <div class="fixed top-4 right-4 no-print">
            <button id="print-button" class="bg-blue-600 text-white py-2 px-4 rounded-lg shadow-lg hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-2">
              Imprimir / Salvar PDF
            </button>
          </div>
          <div class="container mx-auto my-8 p-8 bg-white shadow-lg" id="printable-area">
            <header class="text-center mb-8 border-b pb-4">
              <h1 class="text-2xl font-bold text-gray-800">GUIA DE RECEBIMENTO DE DOCUMENTOS</h1>
              <p class="text-sm text-gray-500">Gerado em: ${new Date().toLocaleString("pt-BR")}</p>
            </header>
            <main>
              <table class="w-full text-sm border-collapse">
                <thead>
                  <tr class="border-b-2 border-black">
                    <th class="p-2 text-left font-bold" style="width: 20%;">NMERO</th>
                    <th class="p-2 text-left font-bold" style="width: 20%;">TIPO</th>
                    <th class="p-2 text-left font-bold" style="width: 45%;">ASSUNTO</th>
                    <th class="p-2 text-center font-bold" style="width: 15%;">QR CODE</th>
                  </tr>
                </thead>
                <tbody>
                  ${z}
                </tbody>
              </table>
            </main>
            <footer class="mt-16 pt-8 text-sm">
              <div class="flex justify-between items-center break-inside-avoid">
                <div>
                  <p class="mb-12">Recebido por: _________________________________________</p>
                  <p class="border-t pt-2 w-full">Assinatura do Responsvel</p>
                </div>
                <div>
                  <p>Data/Hora: ______/______/________, ______:______hs</p>
                </div>
              </div>
            </footer>
          </div>
          <script>${w}<\/script>
        </body>
      </html>
    `;M.document.write($),M.document.close()};return r.jsxs("div",{className:"container mx-auto",children:[d&&r.jsx(Hg,{message:d.message,type:d.type}),r.jsxs("div",{className:"flex justify-between items-center mb-6 flex-wrap gap-4",children:[r.jsx("h1",{className:"text-3xl font-bold text-pm-gray-800",children:"Protocolo de Documentos"}),r.jsxs("div",{className:"flex items-center gap-2",children:[o==="ADMIN"&&r.jsxs("button",{onClick:_,className:"bg-orange-500 hover:bg-orange-600 text-white font-bold py-2 px-4 rounded-md flex items-center gap-2",children:[r.jsx(Qg,{className:"h-4 w-4"}),"Reiniciar Numerao Anual"]}),r.jsxs("button",{onClick:V,className:"bg-teal-600 hover:bg-teal-700 text-white font-bold py-2 px-4 rounded-md disabled:bg-teal-300 flex items-center gap-2",disabled:v.size===0,children:[r.jsx(Xg,{className:"h-4 w-4"}),"Gerar Guia (",v.size,")"]}),r.jsxs("button",{onClick:D,className:"bg-pm-blue hover:bg-pm-blue-dark text-white font-bold py-2 px-4 rounded-md flex items-center gap-2",children:[r.jsx(qg,{className:"h-4 w-4"}),"Novo Documento"]})]})]}),r.jsx("div",{className:"bg-white p-4 rounded-lg shadow-md mb-6",children:r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[r.jsx("input",{type:"text",name:"termo",placeholder:"Buscar por n, assunto...",value:p.termo,onChange:N,className:"w-full px-3 py-2 border rounded-md"}),r.jsxs("select",{name:"tipo",value:p.tipo,onChange:N,className:"w-full px-3 py-2 border rounded-md",children:[r.jsx("option",{value:"",children:"Todos os Tipos"}),Lc.map(k=>r.jsx("option",{value:k,children:k},k))]}),r.jsx("input",{type:"date",name:"dataInicio",value:p.dataInicio,onChange:N,className:"w-full px-3 py-2 border rounded-md"}),r.jsx("input",{type:"date",name:"dataFim",value:p.dataFim,onChange:N,className:"w-full px-3 py-2 border rounded-md"})]})}),r.jsxs("div",{className:"bg-white rounded-lg shadow-md overflow-x-auto",children:[r.jsxs("table",{className:"w-full text-sm text-left",children:[r.jsx("thead",{className:"text-xs uppercase bg-pm-gray-50 text-pm-gray-700",children:r.jsxs("tr",{children:[r.jsx("th",{className:"px-6 py-3",children:r.jsx("input",{type:"checkbox",onChange:T,checked:v.size===g.length&&g.length>0})}),r.jsx("th",{className:"px-6 py-3",children:"Nmero"}),r.jsx("th",{className:"px-6 py-3",children:"Data"}),r.jsx("th",{className:"px-6 py-3",children:"Tipo"}),r.jsx("th",{className:"px-6 py-3",children:"Assunto"}),r.jsx("th",{className:"px-6 py-3",children:"Destino"}),r.jsx("th",{className:"px-6 py-3",children:"Elaborado por"})]})}),r.jsx("tbody",{children:g.map(k=>r.jsxs("tr",{className:"bg-white border-b hover:bg-pm-gray-50 cursor-pointer",onClick:()=>E(k),children:[r.jsx("td",{className:"px-6 py-4",onClick:M=>M.stopPropagation(),children:r.jsx("input",{type:"checkbox",checked:v.has(k.id),onChange:()=>A(k.id)})}),r.jsx("td",{className:"px-6 py-4 font-mono font-semibold text-pm-gray-900",children:k.numero}),r.jsx("td",{className:"px-6 py-4 text-pm-gray-700",children:new Date(k.dataEmissao+"T12:00").toLocaleDateString()}),r.jsx("td",{className:"px-6 py-4 text-pm-gray-700",children:k.tipo}),r.jsx("td",{className:"px-6 py-4 font-medium text-pm-gray-900",children:k.assunto}),r.jsx("td",{className:"px-6 py-4 text-pm-gray-700",children:k.destino}),r.jsx("td",{className:"px-6 py-4 text-pm-gray-700",children:k.elaboradoPorNome})]},k.id))})]}),g.length===0&&r.jsx("p",{className:"text-center p-4 text-pm-gray-600",children:"Nenhum documento encontrado."})]}),r.jsxs(Qe,{isOpen:a,onClose:()=>l(!1),title:"Novo Protocolo de Documento",children:[r.jsx("h3",{className:"text-lg font-semibold text-pm-gray-800 mb-4 border-b pb-2",children:"Campos do Registro"}),r.jsxs("form",{onSubmit:k=>{k.preventDefault(),I()},className:"space-y-4",children:[r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-semibold text-pm-gray-800 mb-1",children:"Nmero"}),r.jsx("input",{type:"text",value:"Automtico",disabled:!0,className:"w-full p-2 border border-gray-300 rounded-md bg-pm-gray-100"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-semibold text-pm-gray-800 mb-1",children:"Data de Emisso"}),r.jsx("input",{type:"date",value:i.dataEmissao,onChange:k=>c(M=>({...M,dataEmissao:k.target.value})),className:"w-full p-2 border border-gray-300 rounded-md",required:!0})]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-semibold text-pm-gray-800 mb-1",children:"Elaborado por"}),r.jsx("input",{type:"text",value:(s==null?void 0:s.nome)||"",disabled:!0,className:"w-full p-2 border border-gray-300 rounded-md bg-pm-gray-100"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-semibold text-pm-gray-800 mb-1",children:"Tipo de Documento"}),r.jsxs("select",{value:i.tipo,onChange:k=>c(M=>({...M,tipo:k.target.value})),className:"w-full p-2 border border-gray-300 rounded-md",required:!0,children:[r.jsx("option",{value:"",children:"Selecione..."}),Lc.map(k=>r.jsx("option",{value:k,children:k},k))]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-semibold text-pm-gray-800 mb-1",children:"Destino"}),r.jsx("input",{type:"text",value:i.destino,onChange:k=>c(M=>({...M,destino:k.target.value})),className:"w-full p-2 border border-gray-300 rounded-md",required:!0})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-semibold text-pm-gray-800 mb-1",children:"Assunto"}),r.jsx("textarea",{value:i.assunto,onChange:k=>c(M=>({...M,assunto:k.target.value})),rows:3,className:"w-full p-2 border border-gray-300 rounded-md",required:!0})]}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-semibold text-pm-gray-800 mb-1",children:"Documento de Referncia"}),r.jsx("input",{type:"text",value:i.docReferencia,onChange:k=>c(M=>({...M,docReferencia:k.target.value})),className:"w-full p-2 border border-gray-300 rounded-md"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-semibold text-pm-gray-800 mb-1",children:"Vnculo (opcional)"}),r.jsx("input",{type:"text",value:i.vinculoId||"",onChange:k=>c(M=>({...M,vinculoId:k.target.value})),placeholder:"N do doc. vinculado",className:"w-full p-2 border border-gray-300 rounded-md"})]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-semibold text-pm-gray-800 mb-1",children:"Interessado / RE"}),r.jsx("input",{type:"text",value:i.interessadoRE,onChange:k=>c(M=>({...M,interessadoRE:k.target.value})),className:"w-full p-2 border border-gray-300 rounded-md"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-semibold text-pm-gray-800 mb-1",children:"Observaes"}),r.jsx("textarea",{value:i.observacoes,onChange:k=>c(M=>({...M,observacoes:k.target.value})),rows:2,className:"w-full p-2 border border-gray-300 rounded-md"})]}),r.jsxs("div",{className:"flex justify-end pt-4 space-x-2",children:[r.jsx("button",{type:"button",onClick:()=>l(!1),className:"bg-pm-gray-200 hover:bg-pm-gray-300 font-bold py-2 px-4 rounded-md",children:"Cancelar"}),r.jsx("button",{type:"submit",className:"bg-pm-blue hover:bg-pm-blue-dark text-white font-bold py-2 px-4 rounded-md",children:"Protocolar"})]})]})]}),r.jsx(Qe,{isOpen:j,onClose:()=>S(!1),title:"Detalhes do Documento",children:m&&r.jsxs("div",{className:"space-y-4 text-sm",children:[r.jsxs("div",{className:"p-4 bg-pm-gray-50 rounded-lg border",children:[r.jsx("p",{className:"text-xs text-pm-gray-500",children:"Nmero"}),r.jsx("p",{className:"font-mono text-xl font-bold text-pm-gray-800",children:m.numero}),r.jsx("p",{className:"text-xs text-pm-gray-500 mt-2",children:"Assunto"}),r.jsx("p",{className:"font-semibold text-pm-gray-900",children:m.assunto})]}),r.jsxs("dl",{className:"divide-y divide-pm-gray-200",children:[r.jsxs("div",{className:"py-2 grid grid-cols-3 gap-4",children:[r.jsx("dt",{className:"text-pm-gray-500",children:"Tipo"}),r.jsx("dd",{className:"col-span-2 text-pm-gray-800",children:m.tipo})]}),r.jsxs("div",{className:"py-2 grid grid-cols-3 gap-4",children:[r.jsx("dt",{className:"text-pm-gray-500",children:"Data Emisso"}),r.jsx("dd",{className:"col-span-2 text-pm-gray-800",children:new Date(m.dataEmissao+"T12:00").toLocaleDateString()})]}),r.jsxs("div",{className:"py-2 grid grid-cols-3 gap-4",children:[r.jsx("dt",{className:"text-pm-gray-500",children:"Destino"}),r.jsx("dd",{className:"col-span-2 text-pm-gray-800",children:m.destino})]}),r.jsxs("div",{className:"py-2 grid grid-cols-3 gap-4",children:[r.jsx("dt",{className:"text-pm-gray-500",children:"Elaborado por"}),r.jsx("dd",{className:"col-span-2 text-pm-gray-800",children:m.elaboradoPorNome})]}),r.jsxs("div",{className:"py-2 grid grid-cols-3 gap-4",children:[r.jsx("dt",{className:"text-pm-gray-500",children:"Doc. Referncia"}),r.jsx("dd",{className:"col-span-2 text-pm-gray-800",children:m.docReferencia||"-"})]}),r.jsxs("div",{className:"py-2 grid grid-cols-3 gap-4",children:[r.jsx("dt",{className:"text-pm-gray-500",children:"Interessado"}),r.jsx("dd",{className:"col-span-2 text-pm-gray-800",children:m.interessadoRE||"-"})]}),r.jsxs("div",{className:"py-2 grid grid-cols-3 gap-4",children:[r.jsx("dt",{className:"text-pm-gray-500",children:"Observaes"}),r.jsx("dd",{className:"col-span-2 text-pm-gray-800 whitespace-pre-wrap",children:m.observacoes||"-"})]})]}),r.jsxs("div",{className:"border-t pt-4",children:[r.jsx("p",{className:"text-center font-semibold text-pm-gray-600 mb-2",children:"Link de Verificao Pblica"}),r.jsx("div",{id:"details-qrcode",className:"flex justify-center p-2 bg-white border rounded-lg"})]}),r.jsx("div",{className:"flex justify-end pt-4",children:r.jsx("button",{type:"button",onClick:()=>S(!1),className:"bg-pm-gray-200 hover:bg-pm-gray-300 font-bold py-2 px-4 rounded-md",children:"Fechar"})})]})})]})},Kg=({className:e})=>r.jsx("div",{className:`flex items-center justify-center ${e}`,children:r.jsx("svg",{viewBox:"0 0 80 88",className:"h-20 w-auto",children:r.jsxs("g",{children:[r.jsx("path",{d:"M40 0 L80 16 V56 C80 78 40 88 40 88 C40 88 0 78 0 56 V16 Z",fill:"#19398A"}),r.jsx("path",{d:"M40 4 L76 18.4 V54.8 C76 74.8 40 84 40 84 C40 84 4 74.8 4 54.8 V18.4 Z",strokeWidth:"3",stroke:"white",fill:"none"}),r.jsx("text",{x:"32",y:"62",fontFamily:"Verdana, sans-serif",fontSize:"42",fontWeight:"bold",fill:"white",textAnchor:"middle",children:""}),r.jsx("text",{x:"55",y:"48",fontFamily:"Verdana, sans-serif",fontSize:"22",fontWeight:"bold",fill:"white",children:"E"})]})})}),Ut=({label:e,value:t})=>r.jsxs("div",{className:"py-3 sm:grid sm:grid-cols-3 sm:gap-4",children:[r.jsx("dt",{className:"text-sm font-medium text-pm-gray-500",children:e}),r.jsx("dd",{className:"mt-1 text-sm text-pm-gray-900 sm:mt-0 sm:col-span-2",children:t||r.jsx("span",{className:"italic text-pm-gray-400",children:"No informado"})})]}),Jg=()=>{const{docId:e}=Lf(),[t,n]=f.useState(null),[s,o]=f.useState(!0),[a,l]=f.useState(null);return f.useEffect(()=>{e?ce.getProtocoloDocById(e).then(i=>{n(i)}).catch(i=>{l(i.message||"Erro ao buscar documento.")}).finally(()=>{o(!1)}):(l("ID do documento no fornecido."),o(!1))},[e]),r.jsxs("div",{className:"min-h-screen bg-pm-gray-100 p-4 sm:p-8 flex flex-col items-center",children:[r.jsxs("header",{className:"w-full max-w-4xl mx-auto flex flex-col items-center mb-6",children:[r.jsx(Kg,{}),r.jsx("h1",{className:"text-2xl font-bold text-pm-blue mt-2",children:"SIGMA-E"}),r.jsx("p",{className:"text-pm-gray-600",children:"Verificao de Documento Protocolado"})]}),r.jsxs("main",{className:"w-full max-w-4xl mx-auto bg-white shadow-lg rounded-xl p-6 sm:p-8",children:[s&&r.jsx("div",{className:"flex justify-center items-center py-10",children:r.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-t-4 border-b-4 border-pm-blue"})}),a&&r.jsxs("div",{className:"text-center py-10",children:[r.jsx("h2",{className:"text-xl font-semibold text-red-600",children:"Erro"}),r.jsx("p",{className:"text-pm-gray-600 mt-2",children:a})]}),!s&&!a&&!t&&r.jsxs("div",{className:"text-center py-10",children:[r.jsx("h2",{className:"text-xl font-semibold text-pm-gray-700",children:"Documento no encontrado"}),r.jsx("p",{className:"text-pm-gray-600 mt-2",children:"O documento com o ID fornecido no foi localizado em nosso sistema."})]}),t&&r.jsxs("div",{children:[r.jsxs("div",{className:"border-b border-pm-gray-200 pb-4 mb-4",children:[r.jsx("h2",{className:"text-xl sm:text-2xl font-bold text-pm-gray-900",children:t.assunto}),r.jsxs("p",{className:"text-sm text-pm-gray-500 mt-1",children:["Protocolado em ",new Date(t.criadoEm).toLocaleString("pt-BR")]})]}),r.jsxs("dl",{className:"divide-y divide-pm-gray-200",children:[r.jsx(Ut,{label:"Nmero do Protocolo",value:r.jsx("span",{className:"font-mono font-bold",children:t.numero})}),r.jsx(Ut,{label:"Tipo de Documento",value:t.tipo}),r.jsx(Ut,{label:"Data de Emisso",value:new Date(t.dataEmissao+"T12:00:00").toLocaleDateString("pt-BR")}),r.jsx(Ut,{label:"Destino",value:t.destino}),r.jsx(Ut,{label:"Elaborado por",value:t.elaboradoPorNome}),r.jsx(Ut,{label:"Documento de Referncia",value:t.docReferencia}),r.jsx(Ut,{label:"Interessado / RE",value:t.interessadoRE}),r.jsx(Ut,{label:"Observaes",value:r.jsx("p",{className:"whitespace-pre-wrap",children:t.observacoes})})]})]})]}),r.jsx("footer",{className:"w-full max-w-4xl mx-auto text-center mt-8 text-xs text-pm-gray-500",children:r.jsx("p",{children:"Este  um documento gerado pelo sistema SIGMA-E. A validade pode ser confirmada atravs do QR Code."})})]})},Zg=()=>{const{logout:e}=ie();return f.useEffect(()=>{e()},[e]),r.jsx(ar,{to:"/login",replace:!0})},e0=({children:e})=>{const{isAuthenticated:t,currentUser:n}=ie();return!t||!n?r.jsx(ar,{to:"/login",replace:!0}):n.acessoLiberado?r.jsx(r.Fragment,{children:e}):r.jsx(Zg,{})},ks=({children:e})=>{const{role:t}=ie();return t!=="ADMIN"?r.jsx(ar,{to:"/dashboard",replace:!0}):r.jsx(r.Fragment,{children:e})},xa=({children:e})=>{const{role:t}=ie();return t!=="ADMIN"&&t!=="SARGENTO"?r.jsx(ar,{to:"/dashboard",replace:!0}):r.jsx(r.Fragment,{children:e})},t0=()=>{const{isAuthenticated:e}=ie();return r.jsxs(Kf,{children:[r.jsx(Ie,{path:"/login",element:r.jsx(bx,{})}),r.jsx(Ie,{path:"/protocolo/view/:docId",element:r.jsx(Jg,{})}),r.jsxs(Ie,{path:"/",element:r.jsx(e0,{children:r.jsx(Cg,{})}),children:[r.jsx(Ie,{index:!0,element:r.jsx(ar,{to:"/dashboard",replace:!0})}),r.jsx(Ie,{path:"dashboard",element:r.jsx(Wx,{})}),r.jsx(Ie,{path:"folgas",element:r.jsx(Xx,{})}),r.jsx(Ie,{path:"ferias",element:r.jsx($g,{})}),r.jsx(Ie,{path:"calendario",element:r.jsx(Pg,{})}),r.jsx(Ie,{path:"protocolo",element:r.jsx(Yg,{})}),r.jsx(Ie,{path:"agenda",element:r.jsx(ks,{children:r.jsx(Bg,{})})}),r.jsx(Ie,{path:"policiais",element:r.jsx(ks,{children:r.jsx(Kx,{})})}),r.jsx(Ie,{path:"grupos",element:r.jsx(ks,{children:r.jsx(Wg,{})})}),r.jsx(Ie,{path:"creditos",element:r.jsx(ks,{children:r.jsx(Mg,{})})}),r.jsx(Ie,{path:"historico",element:r.jsx(xa,{children:r.jsx(tg,{})})}),r.jsx(Ie,{path:"relatorio",element:r.jsx(xa,{children:r.jsx(Tg,{})})}),r.jsx(Ie,{path:"relatorio-eap",element:r.jsx(xa,{children:r.jsx(Vg,{})})}),r.jsx(Ie,{path:"ajuda",element:r.jsx(ng,{})})]}),r.jsx(Ie,{path:"*",element:r.jsx(ar,{to:e?"/dashboard":"/login"})})]})},n0=()=>{const{loading:e}=me();return e?r.jsx("div",{className:"flex h-screen w-screen items-center justify-center bg-pm-gray-100","aria-label":"Carregando sistema SIGMA-E",children:r.jsx("div",{className:"animate-spin rounded-full h-24 w-24 border-t-4 border-b-4 border-pm-blue"})}):r.jsx(t0,{})},r0=()=>(f.useEffect(()=>{"serviceWorker"in navigator&&window.addEventListener("load",()=>{navigator.serviceWorker.register("/service-worker.js").then(e=>{console.log("Service Worker registrado com sucesso:",e)}).catch(e=>{console.log("Falha ao registrar o Service Worker:",e)})})},[]),r.jsx(Nx,{children:r.jsx(Sx,{children:r.jsx(ax,{children:r.jsx(n0,{})})})})),gp=document.getElementById("root");if(!gp)throw new Error("Could not find root element to mount to");const s0=ga.createRoot(gp);s0.render(r.jsx(wl.StrictMode,{children:r.jsx(r0,{})}));
